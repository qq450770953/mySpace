2025-05-09 09:58:29,875 - werkzeug - INFO -  * Restarting with stat
2025-05-09 09:58:30,472 - app - INFO - File logging handler initialized successfully
2025-05-09 09:58:30,472 - app - INFO - Console logging handler initialized successfully
2025-05-09 09:58:30,473 - app - INFO - Application logging configuration completed
2025-05-09 09:58:30,473 - app - INFO - Development configuration initialized
2025-05-09 09:58:30,501 - app - INFO - Logging setup completed successfully
2025-05-09 09:58:30,759 - app - INFO - 已注册的路由:
2025-05-09 09:58:30,760 - app - INFO - 路由: /static/<path:filename> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: static
2025-05-09 09:58:30,760 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'POST', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 09:58:30,762 - app - INFO - 路由: /api/users - 方法: {'DELETE', 'POST', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 09:58:30,763 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,763 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,763 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,764 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,764 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'DELETE', 'POST', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,764 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'DELETE', 'POST', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,765 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,765 - app - INFO - 路由: /api/tasks - 方法: {'DELETE', 'POST', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 09:58:30,765 - app - INFO - 路由: /login - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.login_page
2025-05-09 09:58:30,765 - app - INFO - 路由: /login - 方法: {'POST', 'OPTIONS'} - 终端: auth.login
2025-05-09 09:58:30,766 - app - INFO - 路由: /register - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.register_page
2025-05-09 09:58:30,766 - app - INFO - 路由: /register - 方法: {'POST', 'OPTIONS'} - 终端: auth.register
2025-05-09 09:58:30,766 - app - INFO - 路由: /logout - 方法: {'GET', 'POST', 'OPTIONS', 'HEAD'} - 终端: auth.logout
2025-05-09 09:58:30,766 - app - INFO - 路由: /refresh - 方法: {'POST', 'OPTIONS'} - 终端: auth.refresh
2025-05-09 09:58:30,767 - app - INFO - 路由: /profile - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.profile
2025-05-09 09:58:30,767 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 09:58:30,767 - app - INFO - 路由: /users - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_users
2025-05-09 09:58:30,767 - app - INFO - 路由: /users/<int:user_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_by_id
2025-05-09 09:58:30,768 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 09:58:30,768 - app - INFO - 路由: /roles - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_roles
2025-05-09 09:58:30,768 - app - INFO - 路由: /permissions - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_permissions
2025-05-09 09:58:30,768 - app - INFO - 路由: /permissions - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_permission
2025-05-09 09:58:30,769 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_permission
2025-05-09 09:58:30,769 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 09:58:30,769 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_permission
2025-05-09 09:58:30,769 - app - INFO - 路由: /roles - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_role
2025-05-09 09:58:30,770 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_role
2025-05-09 09:58:30,770 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 09:58:30,770 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_role
2025-05-09 09:58:30,770 - app - INFO - 路由: /dashboard - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.dashboard
2025-05-09 09:58:30,771 - app - INFO - 路由: /dashboard/redirect - 方法: {'GET', 'POST', 'OPTIONS', 'HEAD'} - 终端: auth.dashboard_redirect
2025-05-09 09:58:30,771 - app - INFO - 路由: /create_test_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_user
2025-05-09 09:58:30,771 - app - INFO - 路由: /check - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.check_auth
2025-05-09 09:58:30,771 - app - INFO - 路由: /create_test_project - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_project
2025-05-09 09:58:30,772 - app - INFO - 路由: /logout_all - 方法: {'POST', 'OPTIONS'} - 终端: auth.logout_all
2025-05-09 09:58:30,772 - app - INFO - 路由: /dashboard/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.dashboard_data
2025-05-09 09:58:30,772 - app - INFO - 路由: /check_token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.check_token
2025-05-09 09:58:30,772 - app - INFO - 路由: /create_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_user
2025-05-09 09:58:30,773 - app - INFO - 路由: /user_info - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_info
2025-05-09 09:58:30,773 - app - INFO - 路由: /user/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_user
2025-05-09 09:58:30,773 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_roles
2025-05-09 09:58:30,773 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 09:58:30,774 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_notifications
2025-05-09 09:58:30,774 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 09:58:30,774 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 09:58:30,774 - app - INFO - 路由: /change-password - 方法: {'POST', 'OPTIONS'} - 终端: auth.change_password
2025-05-09 09:58:30,774 - app - INFO - 路由: /reset-password - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.reset_password_page
2025-05-09 09:58:30,776 - app - INFO - 路由: /verify-email/confirm - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.verify_email_confirm_page
2025-05-09 09:58:30,776 - app - INFO - 路由: /auth/csrf-token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_csrf_token
2025-05-09 09:58:30,776 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 09:58:30,777 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.api_delete_user
2025-05-09 09:58:30,777 - app - INFO - 路由: /api/users - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.api_get_users
2025-05-09 09:58:30,777 - app - INFO - 路由: /api/users - 方法: {'POST', 'OPTIONS'} - 终端: auth.api_create_user
2025-05-09 09:58:30,777 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_details
2025-05-09 09:58:30,777 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: auth.api_user_operations
2025-05-09 09:58:30,778 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_csrf_token
2025-05-09 09:58:30,778 - app - INFO - 路由: /main/ - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.index
2025-05-09 09:58:30,778 - app - INFO - 路由: /main/dashboard - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.dashboard
2025-05-09 09:58:30,778 - app - INFO - 路由: /main/check_token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.check_token
2025-05-09 09:58:30,779 - app - INFO - 路由: /main/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.projects
2025-05-09 09:58:30,779 - app - INFO - 路由: /main/tasks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.tasks
2025-05-09 09:58:30,779 - app - INFO - 路由: /main/risks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.risks
2025-05-09 09:58:30,780 - app - INFO - 路由: /main/reports - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.reports
2025-05-09 09:58:30,780 - app - INFO - 路由: /main/resources - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.resources
2025-05-09 09:58:30,780 - app - INFO - 路由: /main/profile - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.profile
2025-05-09 09:58:30,780 - app - INFO - 路由: /main/system/status - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.system_status
2025-05-09 09:58:30,780 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.get_dashboard_data
2025-05-09 09:58:30,781 - app - INFO - 路由: /main/test - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.test_route
2025-05-09 09:58:30,781 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.project_detail_redirect
2025-05-09 09:58:30,781 - app - INFO - 路由: /main/users - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.users
2025-05-09 09:58:30,781 - app - INFO - 路由: /main/debug/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.debug_projects
2025-05-09 09:58:30,782 - app - INFO - 路由: /main/simple/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.simple_projects
2025-05-09 09:58:30,782 - app - INFO - 路由: /main/static-test - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.static_test
2025-05-09 09:58:30,782 - app - INFO - 路由: /main/print-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.print_projects
2025-05-09 09:58:30,782 - app - INFO - 路由: /main/bypass-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.bypass_projects
2025-05-09 09:58:30,782 - app - INFO - 路由: /main/debug-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.debug_projects_api
2025-05-09 09:58:30,783 - app - INFO - 路由: /projects/list - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.project_list
2025-05-09 09:58:30,783 - app - INFO - 路由: /projects/ - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_projects
2025-05-09 09:58:30,783 - app - INFO - 路由: /projects/ - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project
2025-05-09 09:58:30,783 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project
2025-05-09 09:58:30,784 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 09:58:30,784 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project
2025-05-09 09:58:30,784 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_members
2025-05-09 09:58:30,784 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: projects.add_project_member
2025-05-09 09:58:30,785 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.remove_project_member
2025-05-09 09:58:30,785 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.detail
2025-05-09 09:58:30,785 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.detail_api
2025-05-09 09:58:30,785 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_api
2025-05-09 09:58:30,785 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 09:58:30,786 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project_api
2025-05-09 09:58:30,786 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_projects_api
2025-05-09 09:58:30,786 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_auth_api
2025-05-09 09:58:30,786 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'DELETE', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_noauth
2025-05-09 09:58:30,787 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project_auth
2025-05-09 09:58:30,787 - app - INFO - 路由: /projects/api/project-managers - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_managers
2025-05-09 09:58:30,787 - app - INFO - 路由: /projects/api/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_all_projects_api
2025-05-09 09:58:30,787 - app - INFO - 路由: /projects/api/active-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_active_projects_api
2025-05-09 09:58:30,788 - app - INFO - 路由: /list - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.project_list
2025-05-09 09:58:30,788 - app - INFO - 路由: / - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_projects
2025-05-09 09:58:30,788 - app - INFO - 路由: / - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project
2025-05-09 09:58:30,789 - app - INFO - 路由: /<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project
2025-05-09 09:58:30,789 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 09:58:30,789 - app - INFO - 路由: /<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project
2025-05-09 09:58:30,789 - app - INFO - 路由: /<int:project_id>/members - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_members
2025-05-09 09:58:30,789 - app - INFO - 路由: /<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: project_root.add_project_member
2025-05-09 09:58:30,789 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.remove_project_member
2025-05-09 09:58:30,791 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.detail
2025-05-09 09:58:30,791 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.detail_api
2025-05-09 09:58:30,791 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_api
2025-05-09 09:58:30,792 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 09:58:30,792 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project_api
2025-05-09 09:58:30,792 - app - INFO - 路由: /api/auth/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_projects_api
2025-05-09 09:58:30,793 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_auth_api
2025-05-09 09:58:30,793 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'DELETE', 'PUT', 'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_noauth
2025-05-09 09:58:30,793 - app - INFO - 路由: /api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project_auth
2025-05-09 09:58:30,794 - app - INFO - 路由: /api/project-managers - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_managers
2025-05-09 09:58:30,794 - app - INFO - 路由: /api/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_all_projects_api
2025-05-09 09:58:30,794 - app - INFO - 路由: /api/active-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_active_projects_api
2025-05-09 09:58:30,795 - app - INFO - 路由: /tasks/ - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_tasks
2025-05-09 09:58:30,795 - app - INFO - 路由: /tasks/ - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task
2025-05-09 09:58:30,795 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task
2025-05-09 09:58:30,795 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 09:58:30,796 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_task
2025-05-09 09:58:30,796 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_comments
2025-05-09 09:58:30,796 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment
2025-05-09 09:58:30,796 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_attachments
2025-05-09 09:58:30,797 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment
2025-05-09 09:58:30,797 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_resources
2025-05-09 09:58:30,797 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_subtasks
2025-05-09 09:58:30,797 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_subtask
2025-05-09 09:58:30,798 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_dependencies
2025-05-09 09:58:30,798 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_dependency
2025-05-09 09:58:30,798 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_logs
2025-05-09 09:58:30,798 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_log
2025-05-09 09:58:30,799 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.gantt_chart
2025-05-09 09:58:30,799 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_gantt_data
2025-05-09 09:58:30,799 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 09:58:30,800 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_gantt_dependency
2025-05-09 09:58:30,800 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_gantt_dependency
2025-05-09 09:58:30,800 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 09:58:30,800 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_dependency
2025-05-09 09:58:30,800 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_detail_api
2025-05-09 09:58:30,801 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_detail_api_auth
2025-05-09 09:58:30,801 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_detail_page
2025-05-09 09:58:30,801 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.edit_task_page
2025-05-09 09:58:30,801 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment_auth
2025-05-09 09:58:30,801 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.download_attachment_auth
2025-05-09 09:58:30,802 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_attachment
2025-05-09 09:58:30,802 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.download_attachment
2025-05-09 09:58:30,802 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_attachment
2025-05-09 09:58:30,802 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_new_version
2025-05-09 09:58:30,802 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_attachment_versions
2025-05-09 09:58:30,803 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_risks_front_path
2025-05-09 09:58:30,803 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_front_path
2025-05-09 09:58:30,803 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_progress
2025-05-09 09:58:30,803 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'POST', 'OPTIONS'} - 终端: tasks.update_task_progress
2025-05-09 09:58:30,803 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'POST', 'OPTIONS'} - 终端: tasks.approve_task_progress
2025-05-09 09:58:30,804 - app - INFO - 路由: /tasks/list - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_list
2025-05-09 09:58:30,804 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_logs_auth
2025-05-09 09:58:30,804 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_subtasks_auth
2025-05-09 09:58:30,804 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_comments_auth
2025-05-09 09:58:30,805 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_attachments_auth
2025-05-09 09:58:30,805 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_risks_auth
2025-05-09 09:58:30,805 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_auth
2025-05-09 09:58:30,805 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment_auth
2025-05-09 09:58:30,807 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 09:58:30,807 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 09:58:30,807 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_csrf_token
2025-05-09 09:58:30,807 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 09:58:30,853 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 09:58:30,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:58:30,974 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,974 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('manage_users', 1, 0)
2025-05-09 09:58:30,976 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 09:58:30,976 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.002277s ago] ('manage_roles', 1, 0)
2025-05-09 09:58:30,978 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 09:58:30,978 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.00347s ago] ('manage_all_projects', 1, 0)
2025-05-09 09:58:30,979 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 09:58:30,979 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,979 - sqlalchemy.engine.Engine - INFO - [cached since 0.005074s ago] ('manage_project', 1, 0)
2025-05-09 09:58:30,981 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 09:58:30,981 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,981 - sqlalchemy.engine.Engine - INFO - [cached since 0.006354s ago] ('manage_all_tasks', 1, 0)
2025-05-09 09:58:30,981 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 09:58:30,982 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,982 - sqlalchemy.engine.Engine - INFO - [cached since 0.007374s ago] ('manage_task', 1, 0)
2025-05-09 09:58:30,982 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 09:58:30,983 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,983 - sqlalchemy.engine.Engine - INFO - [cached since 0.008402s ago] ('view_project', 1, 0)
2025-05-09 09:58:30,983 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 09:58:30,984 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,984 - sqlalchemy.engine.Engine - INFO - [cached since 0.009212s ago] ('view_task', 1, 0)
2025-05-09 09:58:30,984 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 09:58:30,985 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,985 - sqlalchemy.engine.Engine - INFO - [cached since 0.01025s ago] ('manage_resources', 1, 0)
2025-05-09 09:58:30,985 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 09:58:30,985 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,985 - sqlalchemy.engine.Engine - INFO - [cached since 0.01109s ago] ('manage_risks', 1, 0)
2025-05-09 09:58:30,987 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 09:58:30,987 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,987 - sqlalchemy.engine.Engine - INFO - [cached since 0.01208s ago] ('view_reports', 1, 0)
2025-05-09 09:58:30,988 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 09:58:30,988 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,988 - sqlalchemy.engine.Engine - INFO - [cached since 0.01279s ago] ('create_task', 1, 0)
2025-05-09 09:58:30,988 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 09:58:30,989 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,989 - sqlalchemy.engine.Engine - INFO - [cached since 0.01353s ago] ('create_project', 1, 0)
2025-05-09 09:58:30,989 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 09:58:30,990 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,990 - sqlalchemy.engine.Engine - INFO - [cached since 0.01438s ago] ('assign_task', 1, 0)
2025-05-09 09:58:30,990 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 09:58:30,990 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,990 - sqlalchemy.engine.Engine - INFO - [cached since 0.01532s ago] ('change_project_status', 1, 0)
2025-05-09 09:58:30,991 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 09:58:30,991 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,991 - sqlalchemy.engine.Engine - INFO - [cached since 0.0161s ago] ('change_task_status', 1, 0)
2025-05-09 09:58:30,992 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 09:58:30,992 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:58:30,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:58:30,993 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 09:58:30,993 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ()
2025-05-09 09:58:30,995 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:30,995 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('admin', 1, 0)
2025-05-09 09:58:30,995 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 09:58:30,999 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:58:31,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] (1,)
2025-05-09 09:58:31,000 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 09:58:31,001 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:31,001 - sqlalchemy.engine.Engine - INFO - [cached since 0.006056s ago] ('manager', 1, 0)
2025-05-09 09:58:31,001 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 09:58:31,002 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:58:31,002 - sqlalchemy.engine.Engine - INFO - [cached since 0.003732s ago] (2,)
2025-05-09 09:58:31,003 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 09:58:31,003 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 09:58:31,003 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 09:58:31,003 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 09:58:31,004 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 09:58:31,004 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 09:58:31,004 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 09:58:31,004 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 09:58:31,005 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 09:58:31,005 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 09:58:31,005 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 09:58:31,005 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 09:58:31,006 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_projects
2025-05-09 09:58:31,006 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_tasks
2025-05-09 09:58:31,006 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:31,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.0116s ago] ('user', 1, 0)
2025-05-09 09:58:31,007 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 09:58:31,007 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:58:31,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.008904s ago] (5,)
2025-05-09 09:58:31,008 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 09:58:31,008 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 09:58:31,008 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:58:31,008 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 09:58:31,009 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 09:58:31,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:58:31,010 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:31,010 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('system', 1, 0)
2025-05-09 09:58:31,012 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:31,013 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('Test Project', 1, 0)
2025-05-09 09:58:31,013 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:58:31,014 - __main__ - INFO - 数据库初始化完成
2025-05-09 09:58:31,014 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:58:31,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 09:58:31,015 - sqlalchemy.engine.Engine - INFO - [cached since 0.004883s ago] ('system', 1, 0)
2025-05-09 09:58:31,020 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 09:58:31,020 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (2, 17.4, 50.6, 10.9, 0.0, '2025-05-09 01:58:31.019963')
2025-05-09 09:58:31,024 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:58:31,028 - __main__ - INFO - 系统资源检查完成
2025-05-09 09:58:31,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:58:31,030 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 09:58:31,030 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('2025-04-09 01:58:31.028176',)
2025-05-09 09:58:31,031 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 09:58:31,031 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('2025-05-02 01:58:31.031292',)
2025-05-09 09:58:31,032 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:58:31,032 - __main__ - INFO - 旧数据清理完成
2025-05-09 09:58:31,037 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 09:58:31,039 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 09:59:06,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:06,618 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,619 - sqlalchemy.engine.Engine - INFO - [cached since 35.64s ago] ('manage_users', 1, 0)
2025-05-09 09:59:06,620 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 09:59:06,623 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,623 - sqlalchemy.engine.Engine - INFO - [cached since 35.65s ago] ('manage_roles', 1, 0)
2025-05-09 09:59:06,625 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 09:59:06,626 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,627 - sqlalchemy.engine.Engine - INFO - [cached since 35.65s ago] ('manage_all_projects', 1, 0)
2025-05-09 09:59:06,628 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 09:59:06,630 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,632 - sqlalchemy.engine.Engine - INFO - [cached since 35.66s ago] ('manage_project', 1, 0)
2025-05-09 09:59:06,633 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 09:59:06,637 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,638 - sqlalchemy.engine.Engine - INFO - [cached since 35.66s ago] ('manage_all_tasks', 1, 0)
2025-05-09 09:59:06,639 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 09:59:06,641 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,642 - sqlalchemy.engine.Engine - INFO - [cached since 35.67s ago] ('manage_task', 1, 0)
2025-05-09 09:59:06,643 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 09:59:06,644 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,645 - sqlalchemy.engine.Engine - INFO - [cached since 35.67s ago] ('view_project', 1, 0)
2025-05-09 09:59:06,646 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 09:59:06,648 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,649 - sqlalchemy.engine.Engine - INFO - [cached since 35.67s ago] ('view_task', 1, 0)
2025-05-09 09:59:06,649 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 09:59:06,651 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,652 - sqlalchemy.engine.Engine - INFO - [cached since 35.68s ago] ('manage_resources', 1, 0)
2025-05-09 09:59:06,653 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 09:59:06,656 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,656 - sqlalchemy.engine.Engine - INFO - [cached since 35.68s ago] ('manage_risks', 1, 0)
2025-05-09 09:59:06,657 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 09:59:06,659 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,660 - sqlalchemy.engine.Engine - INFO - [cached since 35.69s ago] ('view_reports', 1, 0)
2025-05-09 09:59:06,660 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 09:59:06,662 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,663 - sqlalchemy.engine.Engine - INFO - [cached since 35.69s ago] ('create_task', 1, 0)
2025-05-09 09:59:06,663 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 09:59:06,665 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,665 - sqlalchemy.engine.Engine - INFO - [cached since 35.69s ago] ('create_project', 1, 0)
2025-05-09 09:59:06,666 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 09:59:06,667 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,668 - sqlalchemy.engine.Engine - INFO - [cached since 35.69s ago] ('assign_task', 1, 0)
2025-05-09 09:59:06,669 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 09:59:06,671 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,672 - sqlalchemy.engine.Engine - INFO - [cached since 35.7s ago] ('change_project_status', 1, 0)
2025-05-09 09:59:06,673 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 09:59:06,674 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,676 - sqlalchemy.engine.Engine - INFO - [cached since 35.7s ago] ('change_task_status', 1, 0)
2025-05-09 09:59:06,676 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 09:59:06,678 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:59:06,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:06,680 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 09:59:06,681 - sqlalchemy.engine.Engine - INFO - [cached since 35.69s ago] ()
2025-05-09 09:59:06,683 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,683 - sqlalchemy.engine.Engine - INFO - [cached since 35.69s ago] ('admin', 1, 0)
2025-05-09 09:59:06,684 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 09:59:06,686 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:06,687 - sqlalchemy.engine.Engine - INFO - [cached since 35.69s ago] (1,)
2025-05-09 09:59:06,688 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 09:59:06,691 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,692 - sqlalchemy.engine.Engine - INFO - [cached since 35.7s ago] ('manager', 1, 0)
2025-05-09 09:59:06,692 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 09:59:06,694 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:06,694 - sqlalchemy.engine.Engine - INFO - [cached since 35.7s ago] (2,)
2025-05-09 09:59:06,695 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 09:59:06,697 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 09:59:06,698 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 09:59:06,699 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 09:59:06,700 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 09:59:06,701 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 09:59:06,702 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 09:59:06,704 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 09:59:06,705 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 09:59:06,706 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 09:59:06,709 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 09:59:06,710 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 09:59:06,711 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_projects
2025-05-09 09:59:06,713 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_tasks
2025-05-09 09:59:06,716 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:06,717 - sqlalchemy.engine.Engine - INFO - [cached since 35.72s ago] ('user', 1, 0)
2025-05-09 09:59:06,718 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 09:59:06,720 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:06,721 - sqlalchemy.engine.Engine - INFO - [cached since 35.72s ago] (5,)
2025-05-09 09:59:06,723 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 09:59:06,724 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 09:59:06,725 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:59:06,726 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 09:59:06,727 - app - INFO - 角色和权限初始化成功
2025-05-09 09:59:06,729 - app - INFO - 应用初始化完成
2025-05-09 09:59:06,782 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:06] "GET /login HTTP/1.1" 200 -
2025-05-09 09:59:07,032 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,037 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,040 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,045 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,045 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,047 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/images/background.png HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,050 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,050 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,065 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,066 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/js/background-helper.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:07,070 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 09:59:07,090 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 09:59:07,101 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:07] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,020 - app - INFO - 登录请求 - 方法: POST, 内容类型: application/x-www-form-urlencoded
2025-05-09 09:59:08,021 - app - INFO - 请求头: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '135', 'Cache-Control': 'max-age=0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Origin': 'http://127.0.0.1:5000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://127.0.0.1:5000/login', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Cookie': 'access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0Njc1NTY2OCwianRpIjoiOWJkM2RkNmQtM2I3Ni00ZDI2LWE0YjctNDY1YjEwYWMxY2Q4IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MSwibmJmIjoxNzQ2NzU1NjY4LCJjc3JmIjoiSW1FeVpqVXlabVptTVdJME16WmlNMlE0TXpKbFptTXdaalJsWXpFd09HVTFNamswWTJFMk1XWWkuYUIxZ1ZBLmZWUTNYc1pZbFJrZVBnT0VwVGw1SG8tZm4tUSIsImV4cCI6MTc0Njc1OTI2OCwiYXVkIjoidGFza19tYW5hZ2VtZW50X3N5c3RlbSIsInVzZXJfY2xhaW1zIjp7InVzZXJuYW1lIjoiYWRtaW4iLCJyb2xlcyI6WyJhZG1pbiJdLCJwZXJtaXNzaW9ucyI6WyJtYW5hZ2VfdXNlcnMiLCJtYW5hZ2Vfcm9sZXMiLCJtYW5hZ2VfYWxsX3Byb2plY3RzIiwibWFuYWdlX3Byb2plY3QiLCJtYW5hZ2VfYWxsX3Rhc2tzIiwibWFuYWdlX3Rhc2siLCJ2aWV3X3Byb2plY3QiLCJ2aWV3X3Rhc2siLCJtYW5hZ2VfcmVzb3VyY2VzIiwibWFuYWdlX3Jpc2tzIiwidmlld19yZXBvcnRzIiwiY3JlYXRlX3Rhc2siLCJhc3NpZ25fdGFzayIsImNoYW5nZV9wcm9qZWN0X3N0YXR1cyIsImNoYW5nZV90YXNrX3N0YXR1cyIsImNyZWF0ZV9wcm9qZWN0Il0sImlzX2FjdGl2ZSI6dHJ1ZX0sInJvbGVzIjpbImFkbWluIl19.TWJzk7G1BMjjZwx1HiJF6vWDpz4wPcYZRbQ1lXBc6lo; csrf_access_token=ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1gVA.fVQ3XsZYlRkePgOEpTl5Ho-fn-Q; csrf_token=ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1gVA.fVQ3XsZYlRkePgOEpTl5Ho-fn-Q; user_roles=admin; session=eyJjc3JmX3Rva2VuIjoiYTJmNTJmZmYxYjQzNmIzZDgzMmVmYzBmNGVjMTA4ZTUyOTRjYTYxZiJ9.aB1haw.NPVMFsVi-z_VKNYKcwZ-sNKCdag'}
2025-05-09 09:59:08,022 - app - INFO - 处理表单格式的登录请求
2025-05-09 09:59:08,023 - app - INFO - 表单数据: username=admin, password=********
2025-05-09 09:59:08,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:08,024 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:08,024 - sqlalchemy.engine.Engine - INFO - [cached since 37.01s ago] ('admin', 1, 0)
2025-05-09 09:59:08,093 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 09:59:08,480 - app - INFO - 已生成CSRF令牌: ImEyZjUyZm...
2025-05-09 09:59:08,484 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:08,484 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] (1,)
2025-05-09 09:59:08,486 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 09:59:08,499 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 09:59:08,504 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:08,505 - sqlalchemy.engine.Engine - INFO - [cached since 37.51s ago] (1,)
2025-05-09 09:59:08,506 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 09:59:08,509 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 09:59:08,513 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 09:59:08,523 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=?, last_login=? WHERE users.id = ?
2025-05-09 09:59:08,524 - sqlalchemy.engine.Engine - INFO - [generated in 0.00123s] ('2025-05-09 01:59:08.523023', '2025-05-09 01:59:08.516163', 1)
2025-05-09 09:59:08,528 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 09:59:08,538 - app - INFO - 用户登录成功: admin
2025-05-09 09:59:08,540 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 09:59:08,558 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:08,563 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:08,568 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:08,569 - sqlalchemy.engine.Engine - INFO - [generated in 0.00115s] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:08,571 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:08,574 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:08,576 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:08,580 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:08,582 - app.utils.jwt_callbacks - INFO - Token time difference: -0.581703 seconds
2025-05-09 09:59:08,583 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:08,584 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:08,589 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:08,590 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (1,)
2025-05-09 09:59:08,590 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:08,596 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:08,596 - sqlalchemy.engine.Engine - INFO - [cached since 0.1132s ago] (1,)
2025-05-09 09:59:08,598 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:08,600 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:08,601 - sqlalchemy.engine.Engine - INFO - [cached since 37.6s ago] (1,)
2025-05-09 09:59:08,602 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:08,604 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:08,607 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:08,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.03853s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:08,609 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:08,610 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:08,612 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:08,614 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:08,618 - app.utils.jwt_callbacks - INFO - Token time difference: -0.618643 seconds
2025-05-09 09:59:08,619 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:08,621 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:08,627 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:08,628 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:08,631 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:08,634 - app - INFO - Dashboard access with user ID: 1
2025-05-09 09:59:08,636 - app - INFO - Token found in: cookies
2025-05-09 09:59:08,637 - app - INFO - Dashboard context user_data: {'id': 1, 'username': 'admin', 'email': 'admin@example.com', 'name': '管理员', 'is_active': True, 'created_at': '2025-05-07T01:07:21.773527', 'last_login': '2025-05-09T01:59:08.516163', 'roles': ['admin'], 'permissions': ['view_project', 'view_reports', 'change_task_status', 'manage_all_tasks', 'manage_all_projects', 'create_task', 'create_project', 'manage_users', 'manage_resources', 'manage_task', 'manage_roles', 'manage_risks', 'assign_task', 'manage_project', 'view_task', 'change_project_status']}
2025-05-09 09:59:08,639 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 09:59:08,640 - app - INFO - 用户 admin 的权限: ['view_project', 'view_reports', 'change_task_status', 'manage_all_tasks', 'manage_all_projects', 'create_task', 'create_project', 'manage_users', 'manage_resources', 'manage_task', 'manage_roles', 'manage_risks', 'assign_task', 'manage_project', 'view_task', 'change_project_status']
2025-05-09 09:59:08,642 - app - INFO - 用户 admin - 是否管理员: True, 是否项目经理: False
2025-05-09 09:59:08,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:08,670 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 09:59:08,706 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,709 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,715 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,715 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,716 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,720 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,719 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,716 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,742 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/css/fonts/bootstrap-icons.woff2 HTTP/1.1[0m" 304 -
2025-05-09 09:59:08,756 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:08] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,683 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 09:59:09,684 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:09,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:09,686 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:09,686 - sqlalchemy.engine.Engine - INFO - [cached since 1.117s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:09,687 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:09,688 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:09,689 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:09,690 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:09,691 - app.utils.jwt_callbacks - INFO - Token time difference: -1.691522 seconds
2025-05-09 09:59:09,692 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:09,693 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:09,695 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:09,696 - sqlalchemy.engine.Engine - INFO - [cached since 1.107s ago] (1,)
2025-05-09 09:59:09,697 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:09,700 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:09,700 - sqlalchemy.engine.Engine - INFO - [cached since 1.217s ago] (1,)
2025-05-09 09:59:09,701 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:09,703 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:09,703 - sqlalchemy.engine.Engine - INFO - [cached since 38.7s ago] (1,)
2025-05-09 09:59:09,704 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:09,705 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 09:59:09,708 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 09:59:09,708 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ()
2025-05-09 09:59:09,710 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:09,710 - sqlalchemy.engine.Engine - INFO - [cached since 1.121s ago] (5,)
2025-05-09 09:59:09,713 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:09,714 - sqlalchemy.engine.Engine - INFO - [cached since 1.125s ago] (8,)
2025-05-09 09:59:09,715 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:09,716 - sqlalchemy.engine.Engine - INFO - [cached since 1.127s ago] (5,)
2025-05-09 09:59:09,751 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:09,752 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 09:59:09,782 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,782 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,783 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,785 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,788 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,792 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,794 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,795 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,800 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,803 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:09,832 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:09] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:15,284 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:15] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,069 - app - WARNING - 绕过JWT验证: /main/tasks
2025-05-09 09:59:16,070 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:16,071 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:16,071 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:16,072 - sqlalchemy.engine.Engine - INFO - [cached since 7.503s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:16,072 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:16,073 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:16,073 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:16,074 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:16,074 - app.utils.jwt_callbacks - INFO - Token time difference: -8.074281 seconds
2025-05-09 09:59:16,076 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:16,077 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:16,080 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:16,081 - sqlalchemy.engine.Engine - INFO - [cached since 7.492s ago] (1,)
2025-05-09 09:59:16,084 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:16,086 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:16,087 - sqlalchemy.engine.Engine - INFO - [cached since 7.604s ago] (1,)
2025-05-09 09:59:16,088 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:16,091 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:16,091 - sqlalchemy.engine.Engine - INFO - [cached since 45.09s ago] (1,)
2025-05-09 09:59:16,093 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:16,094 - app.routes.main - INFO - JWT bypass enabled for tasks - Using test user
2025-05-09 09:59:16,098 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks
2025-05-09 09:59:16,098 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] ()
2025-05-09 09:59:16,150 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:16,151 - sqlalchemy.engine.Engine - INFO - [generated in 0.00148s] (5,)
2025-05-09 09:59:16,153 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:16,153 - sqlalchemy.engine.Engine - INFO - [cached since 0.003879s ago] (6,)
2025-05-09 09:59:16,154 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:16,155 - sqlalchemy.engine.Engine - INFO - [cached since 0.005781s ago] (7,)
2025-05-09 09:59:16,157 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:16,158 - sqlalchemy.engine.Engine - INFO - [cached since 0.007341s ago] (8,)
2025-05-09 09:59:16,158 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:16,159 - sqlalchemy.engine.Engine - INFO - [cached since 0.008632s ago] (3,)
2025-05-09 09:59:16,160 - app - INFO - 未认证用户被视为普通用户
2025-05-09 09:59:16,161 - app - INFO - 未认证用户被视为普通用户
2025-05-09 09:59:16,164 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:16,165 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "GET /main/tasks?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 09:59:16,193 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,196 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,198 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,199 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "GET /static/js/utils/tasks.js HTTP/1.1" 200 -
2025-05-09 09:59:16,202 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,205 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,206 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,207 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,210 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:16,235 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:16] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:19,486 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:19] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,858 - app - WARNING - 绕过JWT验证: /main/risks
2025-05-09 09:59:20,861 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:20,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:20,863 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:20,864 - sqlalchemy.engine.Engine - INFO - [cached since 12.3s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:20,865 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:20,866 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:20,866 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:20,867 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:20,868 - app.utils.jwt_callbacks - INFO - Token time difference: -12.868295 seconds
2025-05-09 09:59:20,868 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:20,869 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:20,871 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:20,871 - sqlalchemy.engine.Engine - INFO - [cached since 12.28s ago] (1,)
2025-05-09 09:59:20,873 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:20,875 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:20,875 - sqlalchemy.engine.Engine - INFO - [cached since 12.39s ago] (1,)
2025-05-09 09:59:20,876 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:20,877 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:20,878 - sqlalchemy.engine.Engine - INFO - [cached since 49.88s ago] (1,)
2025-05-09 09:59:20,879 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:20,881 - app.routes.main - INFO - JWT bypass enabled for risks - Using test user
2025-05-09 09:59:20,896 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:20,897 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "GET /main/risks?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 09:59:20,930 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,933 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,936 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,939 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,942 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,947 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,947 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,949 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,974 - app - WARNING - 绕过JWT验证: /api/projects
2025-05-09 09:59:20,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:20,978 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:20,975 - app - WARNING - 绕过JWT验证: /api/auth/risks/
2025-05-09 09:59:20,981 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.status != ?
2025-05-09 09:59:20,984 - sqlalchemy.engine.Engine - INFO - [generated in 0.00334s] ('deleted',)
2025-05-09 09:59:20,985 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "[33mGET /api/auth/risks/?bypass_jwt=true HTTP/1.1[0m" 404 -
2025-05-09 09:59:20,988 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:20,988 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:20] "GET /api/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 09:59:23,384 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:23] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,077 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 09:59:24,078 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:24,079 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:24,079 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:24,080 - sqlalchemy.engine.Engine - INFO - [cached since 15.51s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:24,080 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:24,081 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:24,082 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:24,082 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:24,084 - app.utils.jwt_callbacks - INFO - Token time difference: -16.084989 seconds
2025-05-09 09:59:24,086 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:24,086 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:24,087 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:24,088 - sqlalchemy.engine.Engine - INFO - [cached since 15.5s ago] (1,)
2025-05-09 09:59:24,088 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:24,090 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:24,090 - sqlalchemy.engine.Engine - INFO - [cached since 15.61s ago] (1,)
2025-05-09 09:59:24,091 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:24,092 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:24,092 - sqlalchemy.engine.Engine - INFO - [cached since 53.09s ago] (1,)
2025-05-09 09:59:24,094 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:24,096 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 09:59:24,097 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 09:59:24,097 - sqlalchemy.engine.Engine - INFO - [cached since 14.39s ago] ()
2025-05-09 09:59:24,098 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:24,099 - sqlalchemy.engine.Engine - INFO - [cached since 15.51s ago] (5,)
2025-05-09 09:59:24,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:24,102 - sqlalchemy.engine.Engine - INFO - [cached since 15.51s ago] (8,)
2025-05-09 09:59:24,104 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:24,104 - sqlalchemy.engine.Engine - INFO - [cached since 15.51s ago] (5,)
2025-05-09 09:59:24,107 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:24,107 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 09:59:24,141 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,144 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,145 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,146 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,148 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,150 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,155 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,155 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,160 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,161 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:24,182 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:24] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,056 - app - WARNING - 绕过JWT验证: /projects/detail/1
2025-05-09 09:59:25,058 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:25,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:25,060 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:25,060 - sqlalchemy.engine.Engine - INFO - [cached since 16.49s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:25,061 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:25,062 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:25,063 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:25,063 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:25,064 - app.utils.jwt_callbacks - INFO - Token time difference: -17.064352 seconds
2025-05-09 09:59:25,065 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:25,065 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:25,067 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,068 - sqlalchemy.engine.Engine - INFO - [cached since 16.48s ago] (1,)
2025-05-09 09:59:25,069 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:25,071 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,071 - sqlalchemy.engine.Engine - INFO - [cached since 16.59s ago] (1,)
2025-05-09 09:59:25,072 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:25,074 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:25,076 - sqlalchemy.engine.Engine - INFO - [cached since 54.08s ago] (1,)
2025-05-09 09:59:25,077 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:25,078 - app.routes.projects - INFO - JWT bypass enabled for project detail - 使用测试用户
2025-05-09 09:59:25,078 - app.routes.projects - INFO - 获取项目 1 详情页面 - 用户ID: 1
2025-05-09 09:59:25,080 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 09:59:25,080 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] (1,)
2025-05-09 09:59:25,085 - sqlalchemy.engine.Engine - INFO - SELECT teams.id AS teams_id, teams.name AS teams_name, teams.description AS teams_description, teams.created_at AS teams_created_at, teams.updated_at AS teams_updated_at, teams.project_id AS teams_project_id, teams.leader_id AS teams_leader_id 
FROM teams 
WHERE ? = teams.project_id
2025-05-09 09:59:25,085 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] (1,)
2025-05-09 09:59:25,086 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,087 - sqlalchemy.engine.Engine - INFO - [cached since 16.5s ago] (5,)
2025-05-09 09:59:25,088 - sqlalchemy.engine.Engine - INFO - SELECT teams.id AS teams_id, teams.name AS teams_name, teams.description AS teams_description, teams.created_at AS teams_created_at, teams.updated_at AS teams_updated_at, teams.project_id AS teams_project_id, teams.leader_id AS teams_leader_id 
FROM teams 
WHERE ? = teams.project_id
2025-05-09 09:59:25,089 - sqlalchemy.engine.Engine - INFO - [cached since 0.004407s ago] (1,)
2025-05-09 09:59:25,091 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks 
WHERE tasks.project_id = ?
2025-05-09 09:59:25,091 - sqlalchemy.engine.Engine - INFO - [generated in 0.00092s] (1,)
2025-05-09 09:59:25,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,096 - sqlalchemy.engine.Engine - INFO - [cached since 16.51s ago] (6,)
2025-05-09 09:59:25,098 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,098 - sqlalchemy.engine.Engine - INFO - [cached since 16.51s ago] (8,)
2025-05-09 09:59:25,099 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,100 - sqlalchemy.engine.Engine - INFO - [cached since 16.51s ago] (3,)
2025-05-09 09:59:25,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,101 - sqlalchemy.engine.Engine - INFO - [cached since 16.51s ago] (8,)
2025-05-09 09:59:25,102 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users
2025-05-09 09:59:25,103 - sqlalchemy.engine.Engine - INFO - [generated in 0.00101s] ()
2025-05-09 09:59:25,106 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,106 - sqlalchemy.engine.Engine - INFO - [cached since 16.62s ago] (2,)
2025-05-09 09:59:25,107 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,108 - sqlalchemy.engine.Engine - INFO - [cached since 16.62s ago] (3,)
2025-05-09 09:59:25,109 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,109 - sqlalchemy.engine.Engine - INFO - [cached since 16.63s ago] (4,)
2025-05-09 09:59:25,110 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,110 - sqlalchemy.engine.Engine - INFO - [cached since 16.63s ago] (5,)
2025-05-09 09:59:25,112 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,113 - sqlalchemy.engine.Engine - INFO - [cached since 16.63s ago] (6,)
2025-05-09 09:59:25,115 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,115 - sqlalchemy.engine.Engine - INFO - [cached since 16.63s ago] (7,)
2025-05-09 09:59:25,117 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,117 - sqlalchemy.engine.Engine - INFO - [cached since 16.63s ago] (8,)
2025-05-09 09:59:25,119 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,120 - sqlalchemy.engine.Engine - INFO - [cached since 16.64s ago] (9,)
2025-05-09 09:59:25,164 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:25,165 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "GET /projects/detail/1?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 09:59:25,199 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,200 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,201 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,205 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,208 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,210 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,212 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,212 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,222 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 09:59:25,223 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:25,224 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 09:59:25,226 - sqlalchemy.engine.Engine - INFO - [cached since 16.66s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 09:59:25,226 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 09:59:25,227 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 09:59:25,227 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 09:59:25,228 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 09:59:25,228 - app.utils.jwt_callbacks - INFO - Token time difference: -17.228074 seconds
2025-05-09 09:59:25,229 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 09:59:25,229 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 09:59:25,230 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,231 - sqlalchemy.engine.Engine - INFO - [cached since 16.64s ago] (1,)
2025-05-09 09:59:25,232 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 09:59:25,233 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 09:59:25,233 - sqlalchemy.engine.Engine - INFO - [cached since 16.75s ago] (1,)
2025-05-09 09:59:25,234 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 09:59:25,235 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 09:59:25,235 - sqlalchemy.engine.Engine - INFO - [cached since 54.24s ago] (1,)
2025-05-09 09:59:25,236 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 09:59:25,239 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 09:59:25,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.1599s ago] (1,)
2025-05-09 09:59:25,242 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:25,243 - sqlalchemy.engine.Engine - INFO - [cached since 16.65s ago] (5,)
2025-05-09 09:59:25,243 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 09:59:25,246 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.is_active = 1
2025-05-09 09:59:25,247 - sqlalchemy.engine.Engine - INFO - [generated in 0.00113s] ()
2025-05-09 09:59:25,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:25,250 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:25] "GET /api/noauth/projects/1 HTTP/1.1" 200 -
2025-05-09 09:59:29,008 - app - WARNING - 绕过JWT验证: /api/noauth/projects/1
2025-05-09 09:59:29,011 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 09:59:29,011 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 09:59:29,012 - sqlalchemy.engine.Engine - INFO - [cached since 3.933s ago] (1,)
2025-05-09 09:59:29,014 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 09:59:29,014 - sqlalchemy.engine.Engine - INFO - [cached since 20.43s ago] (5,)
2025-05-09 09:59:29,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.is_active = 1
2025-05-09 09:59:29,017 - sqlalchemy.engine.Engine - INFO - [cached since 3.77s ago] ()
2025-05-09 09:59:29,018 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 09:59:29,018 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:29] "GET /api/noauth/projects/1?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 09:59:31,447 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:59:31] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,007 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,838 - app - WARNING - 绕过JWT验证: /main/risks
2025-05-09 10:02:56,839 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:02:56,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:02:56,840 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:02:56,840 - sqlalchemy.engine.Engine - INFO - [cached since 228.3s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:02:56,841 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:02:56,841 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:02:56,841 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:02:56,842 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:02:56,842 - app.utils.jwt_callbacks - INFO - Token time difference: -228.842526 seconds
2025-05-09 10:02:56,843 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:02:56,843 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:02:56,844 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:02:56,844 - sqlalchemy.engine.Engine - INFO - [cached since 228.3s ago] (1,)
2025-05-09 10:02:56,845 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:02:56,845 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:02:56,846 - sqlalchemy.engine.Engine - INFO - [cached since 228.4s ago] (1,)
2025-05-09 10:02:56,846 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:02:56,846 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:02:56,847 - sqlalchemy.engine.Engine - INFO - [cached since 265.8s ago] (1,)
2025-05-09 10:02:56,847 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:02:56,847 - app.routes.main - INFO - JWT bypass enabled for risks - Using test user
2025-05-09 10:02:56,853 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:02:56,854 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "GET /main/risks?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:02:56,884 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,885 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,886 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,889 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,894 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,895 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,897 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,898 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:56,905 - app - WARNING - 绕过JWT验证: /api/projects
2025-05-09 10:02:56,906 - app - WARNING - 绕过JWT验证: /api/auth/risks/
2025-05-09 10:02:56,908 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:02:56,910 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[33mGET /api/auth/risks/?bypass_jwt=true HTTP/1.1[0m" 404 -
2025-05-09 10:02:56,911 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.status != ?
2025-05-09 10:02:56,911 - sqlalchemy.engine.Engine - INFO - [cached since 215.9s ago] ('deleted',)
2025-05-09 10:02:56,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:02:56,913 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "GET /api/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:02:56,920 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:56] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:02:58,865 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:58] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,684 - app - WARNING - 绕过JWT验证: /main/resources
2025-05-09 10:02:59,685 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:02:59,687 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:02:59,688 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:02:59,688 - sqlalchemy.engine.Engine - INFO - [cached since 231.1s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:02:59,689 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:02:59,691 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:02:59,691 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:02:59,693 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:02:59,694 - app.utils.jwt_callbacks - INFO - Token time difference: -231.6941 seconds
2025-05-09 10:02:59,696 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:02:59,697 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:02:59,698 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:02:59,698 - sqlalchemy.engine.Engine - INFO - [cached since 231.1s ago] (1,)
2025-05-09 10:02:59,700 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:02:59,702 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:02:59,703 - sqlalchemy.engine.Engine - INFO - [cached since 231.2s ago] (1,)
2025-05-09 10:02:59,704 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:02:59,706 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:02:59,706 - sqlalchemy.engine.Engine - INFO - [cached since 268.7s ago] (1,)
2025-05-09 10:02:59,707 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:02:59,708 - app.routes.main - INFO - JWT bypass enabled for resources - Using test user
2025-05-09 10:02:59,727 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:02:59,728 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "GET /main/resources?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:02:59,763 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,764 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,767 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,771 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,774 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,777 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,782 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,785 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,798 - app - WARNING - 绕过JWT验证: /api/resources
2025-05-09 10:02:59,800 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:02:59,801 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[32mGET /api/resources?bypass_jwt=true HTTP/1.1[0m" 308 -
2025-05-09 10:02:59,812 - app - WARNING - 绕过JWT验证: /api/resources/
2025-05-09 10:02:59,814 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:02:59,815 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:02:59,816 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:02:59,816 - sqlalchemy.engine.Engine - INFO - [cached since 231.2s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:02:59,817 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:02:59,818 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:02:59,819 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:02:59,820 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:02:59,822 - app.utils.jwt_callbacks - INFO - Token time difference: -231.822388 seconds
2025-05-09 10:02:59,823 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:02:59,823 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:02:59,825 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:02:59,826 - sqlalchemy.engine.Engine - INFO - [cached since 231.2s ago] (1,)
2025-05-09 10:02:59,830 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:02:59,832 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:02:59,833 - sqlalchemy.engine.Engine - INFO - [cached since 231.3s ago] (1,)
2025-05-09 10:02:59,834 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:02:59,837 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:02:59,837 - sqlalchemy.engine.Engine - INFO - [cached since 268.8s ago] (1,)
2025-05-09 10:02:59,838 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:02:59,849 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources ORDER BY resources.created_at DESC) AS anon_1
2025-05-09 10:02:59,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] ()
2025-05-09 10:02:59,852 - sqlalchemy.engine.Engine - INFO - SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources ORDER BY resources.created_at DESC
 LIMIT ? OFFSET ?
2025-05-09 10:02:59,853 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] (20, 0)
2025-05-09 10:02:59,856 - sqlalchemy.engine.Engine - INFO - SELECT resource_types.id AS resource_types_id, resource_types.name AS resource_types_name, resource_types.description AS resource_types_description, resource_types.unit AS resource_types_unit, resource_types.created_at AS resource_types_created_at, resource_types.updated_at AS resource_types_updated_at 
FROM resource_types 
WHERE resource_types.id = ?
2025-05-09 10:02:59,856 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] (1,)
2025-05-09 10:02:59,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:02:59,882 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:02:59] "[35m[1mGET /api/resources/?bypass_jwt=true HTTP/1.1[0m" 500 -
2025-05-09 10:03:01,709 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:01] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:03:49,889 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:03:49,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:03:49,891 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:49,891 - sqlalchemy.engine.Engine - INFO - [cached since 281.3s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:03:49,891 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:03:49,892 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:49,892 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:49,892 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:49,894 - app.utils.jwt_callbacks - INFO - Token time difference: -281.89402 seconds
2025-05-09 10:03:49,894 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:49,895 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:49,896 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:49,896 - sqlalchemy.engine.Engine - INFO - [cached since 281.3s ago] (1,)
2025-05-09 10:03:49,897 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:49,898 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:03:49,898 - sqlalchemy.engine.Engine - INFO - [cached since 281.4s ago] (1,)
2025-05-09 10:03:49,899 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:49,901 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:03:49,902 - sqlalchemy.engine.Engine - INFO - [cached since 318.9s ago] (1,)
2025-05-09 10:03:49,903 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:49,905 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:03:49,906 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:49,908 - sqlalchemy.engine.Engine - INFO - [cached since 281.3s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:03:49,908 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:03:49,909 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:49,909 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:49,910 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:49,910 - app.utils.jwt_callbacks - INFO - Token time difference: -281.910042 seconds
2025-05-09 10:03:49,911 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:49,912 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:49,914 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:49,915 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:49,915 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:49,917 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:03:49,919 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:49,920 - sqlalchemy.engine.Engine - INFO - [cached since 281.4s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:03:49,921 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:03:49,922 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:49,923 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:49,923 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:49,924 - app.utils.jwt_callbacks - INFO - Token time difference: -281.924615 seconds
2025-05-09 10:03:49,924 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:49,925 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:49,925 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:49,926 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:49,926 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:49,927 - app.routes.projects - INFO - 获取项目列表 - 用户ID: 1
2025-05-09 10:03:49,935 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id, users_1.id AS users_1_id, users_1.username AS users_1_username, users_1.email AS users_1_email, users_1.name AS users_1_name, users_1.password_hash AS users_1_password_hash, users_1.is_active AS users_1_is_active, users_1.created_at AS users_1_created_at, users_1.updated_at AS users_1_updated_at, users_1.last_login AS users_1_last_login 
FROM projects LEFT OUTER JOIN users AS users_1 ON users_1.id = projects.manager_id ORDER BY projects.created_at DESC
 LIMIT ? OFFSET ?
2025-05-09 10:03:49,935 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] (10, 0)
2025-05-09 10:03:49,940 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects) AS anon_1
2025-05-09 10:03:49,941 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] ()
2025-05-09 10:03:49,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:03:49,944 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:49] "GET / HTTP/1.1" 200 -
2025-05-09 10:03:49,987 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:03:49,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:03:49,990 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:49,991 - sqlalchemy.engine.Engine - INFO - [cached since 281.4s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:03:49,991 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:03:49,992 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:49,993 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:49,994 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:49,995 - app.utils.jwt_callbacks - INFO - Token time difference: -281.995693 seconds
2025-05-09 10:03:49,996 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:49,999 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:50,002 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:50,002 - sqlalchemy.engine.Engine - INFO - [cached since 281.4s ago] (1,)
2025-05-09 10:03:50,003 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:50,005 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:03:50,006 - sqlalchemy.engine.Engine - INFO - [cached since 281.5s ago] (1,)
2025-05-09 10:03:50,006 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:50,007 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:03:50,009 - sqlalchemy.engine.Engine - INFO - [cached since 319s ago] (1,)
2025-05-09 10:03:50,009 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:50,011 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:03:50,014 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:50,014 - sqlalchemy.engine.Engine - INFO - [cached since 281.4s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:03:50,015 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:03:50,015 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:50,016 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:50,017 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:50,020 - app.utils.jwt_callbacks - INFO - Token time difference: -282.020755 seconds
2025-05-09 10:03:50,022 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:50,022 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:50,029 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:50,030 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:50,032 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:50,033 - app - INFO - 用户已认证，重定向到仪表板页面: /favicon.ico
2025-05-09 10:03:50,035 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:03:50,036 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:50] "[32mGET /favicon.ico HTTP/1.1[0m" 302 -
2025-05-09 10:03:50,043 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:03:50,045 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:03:50,046 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:50,047 - sqlalchemy.engine.Engine - INFO - [cached since 281.5s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:03:50,048 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:03:50,048 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:50,049 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:50,050 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:50,052 - app.utils.jwt_callbacks - INFO - Token time difference: -282.052562 seconds
2025-05-09 10:03:50,053 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:50,055 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:50,056 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:50,057 - sqlalchemy.engine.Engine - INFO - [cached since 281.5s ago] (1,)
2025-05-09 10:03:50,057 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:50,060 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:03:50,061 - sqlalchemy.engine.Engine - INFO - [cached since 281.6s ago] (1,)
2025-05-09 10:03:50,062 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:50,064 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:03:50,064 - sqlalchemy.engine.Engine - INFO - [cached since 319.1s ago] (1,)
2025-05-09 10:03:50,065 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:50,067 - app.utils.jwt_callbacks - INFO - Checking if token 03ff0239-c024-49ea-8d66-b6db89893dab is in blocklist
2025-05-09 10:03:50,070 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:50,071 - sqlalchemy.engine.Engine - INFO - [cached since 281.5s ago] ('03ff0239-c024-49ea-8d66-b6db89893dab', 1, 0)
2025-05-09 10:03:50,073 - app.utils.jwt_callbacks - INFO - Token 03ff0239-c024-49ea-8d66-b6db89893dab is valid
2025-05-09 10:03:50,074 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:50,074 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:50,076 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746755948, 'jti': '03ff0239-c024-49ea-8d66-b6db89893dab', 'type': 'access', 'sub': 1, 'nbf': 1746755948, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68', 'exp': 1746759548, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:50,078 - app.utils.jwt_callbacks - INFO - Token time difference: -282.0774 seconds
2025-05-09 10:03:50,079 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:50,079 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:50,080 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:50,081 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:50,082 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:50,085 - app - INFO - Dashboard access with user ID: 1
2025-05-09 10:03:50,087 - app - INFO - Token found in: cookies
2025-05-09 10:03:50,088 - app - INFO - Dashboard context user_data: {'id': 1, 'username': 'admin', 'email': 'admin@example.com', 'name': '管理员', 'is_active': True, 'created_at': '2025-05-07T01:07:21.773527', 'last_login': '2025-05-09T01:59:08.516163', 'roles': ['admin'], 'permissions': ['view_project', 'view_reports', 'change_task_status', 'manage_all_tasks', 'manage_all_projects', 'create_task', 'create_project', 'manage_users', 'manage_resources', 'manage_task', 'manage_roles', 'manage_risks', 'assign_task', 'manage_project', 'view_task', 'change_project_status']}
2025-05-09 10:03:50,091 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:03:50,091 - app - INFO - 用户 admin 的权限: ['view_project', 'view_reports', 'change_task_status', 'manage_all_tasks', 'manage_all_projects', 'create_task', 'create_project', 'manage_users', 'manage_resources', 'manage_task', 'manage_roles', 'manage_risks', 'assign_task', 'manage_project', 'view_task', 'change_project_status']
2025-05-09 10:03:50,093 - app - INFO - 用户 admin - 是否管理员: True, 是否项目经理: False
2025-05-09 10:03:50,096 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:03:50,097 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:50] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:03:55,820 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "GET /login HTTP/1.1" 200 -
2025-05-09 10:03:55,853 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,853 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,854 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,856 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,859 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,861 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/images/background.png HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,863 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,870 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,872 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,874 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/js/background-helper.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:55,875 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:03:55,887 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:55] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:03:56,899 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:56] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:03:57,834 - app - INFO - 登录请求 - 方法: POST, 内容类型: application/x-www-form-urlencoded
2025-05-09 10:03:57,835 - app - INFO - 请求头: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '135', 'Cache-Control': 'max-age=0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Origin': 'http://127.0.0.1:5000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://127.0.0.1:5000/login', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Cookie': 'user_roles=admin; access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0Njc1NTk0OCwianRpIjoiMDNmZjAyMzktYzAyNC00OWVhLThkNjYtYjZkYjg5ODkzZGFiIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MSwibmJmIjoxNzQ2NzU1OTQ4LCJjc3JmIjoiSW1FeVpqVXlabVptTVdJME16WmlNMlE0TXpKbFptTXdaalJsWXpFd09HVTFNamswWTJFMk1XWWkuYUIxaGJBLjkyWkJVUmtlWDhJMVdrdDM3YzdwMkRrekg2OCIsImV4cCI6MTc0Njc1OTU0OCwiYXVkIjoidGFza19tYW5hZ2VtZW50X3N5c3RlbSIsInVzZXJfY2xhaW1zIjp7InVzZXJuYW1lIjoiYWRtaW4iLCJyb2xlcyI6WyJhZG1pbiJdLCJwZXJtaXNzaW9ucyI6WyJtYW5hZ2VfdXNlcnMiLCJtYW5hZ2Vfcm9sZXMiLCJtYW5hZ2VfYWxsX3Byb2plY3RzIiwibWFuYWdlX3Byb2plY3QiLCJtYW5hZ2VfYWxsX3Rhc2tzIiwibWFuYWdlX3Rhc2siLCJ2aWV3X3Byb2plY3QiLCJ2aWV3X3Rhc2siLCJtYW5hZ2VfcmVzb3VyY2VzIiwibWFuYWdlX3Jpc2tzIiwidmlld19yZXBvcnRzIiwiY3JlYXRlX3Rhc2siLCJhc3NpZ25fdGFzayIsImNoYW5nZV9wcm9qZWN0X3N0YXR1cyIsImNoYW5nZV90YXNrX3N0YXR1cyIsImNyZWF0ZV9wcm9qZWN0Il0sImlzX2FjdGl2ZSI6dHJ1ZX0sInJvbGVzIjpbImFkbWluIl19.LpHRbUuq9UXV169jXKARlwOoehU8XmuDVT2T5vL4c_A; csrf_access_token=ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68; csrf_token=ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1hbA.92ZBURkeX8I1Wkt37c7p2DkzH68; session=eyJjc3JmX3Rva2VuIjoiYTJmNTJmZmYxYjQzNmIzZDgzMmVmYzBmNGVjMTA4ZTUyOTRjYTYxZiJ9.aB1ijA.GYo4RDTTiR2CHtawHgNwAMaF3Uo'}
2025-05-09 10:03:57,837 - app - INFO - 处理表单格式的登录请求
2025-05-09 10:03:57,837 - app - INFO - 表单数据: username=admin, password=********
2025-05-09 10:03:57,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:03:57,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:57,839 - sqlalchemy.engine.Engine - INFO - [cached since 326.8s ago] ('admin', 1, 0)
2025-05-09 10:03:58,205 - app - INFO - 已生成CSRF令牌: ImEyZjUyZm...
2025-05-09 10:03:58,208 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:03:58,209 - sqlalchemy.engine.Engine - INFO - [cached since 289.7s ago] (1,)
2025-05-09 10:03:58,210 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:03:58,213 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 10:03:58,215 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:03:58,215 - sqlalchemy.engine.Engine - INFO - [cached since 327.2s ago] (1,)
2025-05-09 10:03:58,217 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 10:03:58,219 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 10:03:58,222 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 10:03:58,224 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=?, last_login=? WHERE users.id = ?
2025-05-09 10:03:58,224 - sqlalchemy.engine.Engine - INFO - [cached since 289.7s ago] ('2025-05-09 02:03:58.223492', '2025-05-09 02:03:58.223492', 1)
2025-05-09 10:03:58,229 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:03:58,236 - app - INFO - 用户登录成功: admin
2025-05-09 10:03:58,238 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 10:03:58,254 - app.utils.jwt_callbacks - INFO - Checking if token 8b97875b-5388-4d19-b62e-4a4732a6eda5 is in blocklist
2025-05-09 10:03:58,256 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:03:58,258 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:58,260 - sqlalchemy.engine.Engine - INFO - [cached since 289.7s ago] ('8b97875b-5388-4d19-b62e-4a4732a6eda5', 1, 0)
2025-05-09 10:03:58,261 - app.utils.jwt_callbacks - INFO - Token 8b97875b-5388-4d19-b62e-4a4732a6eda5 is valid
2025-05-09 10:03:58,263 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:58,267 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:58,276 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756238, 'jti': '8b97875b-5388-4d19-b62e-4a4732a6eda5', 'type': 'access', 'sub': 1, 'nbf': 1746756238, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1ijg.IoeFY8iEDk5d5mrqCQcKBaMKjNk', 'exp': 1746759838, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:58,279 - app.utils.jwt_callbacks - INFO - Token time difference: -0.27942 seconds
2025-05-09 10:03:58,280 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:58,281 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:58,284 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:58,290 - sqlalchemy.engine.Engine - INFO - [cached since 289.7s ago] (1,)
2025-05-09 10:03:58,294 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:58,299 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:03:58,305 - sqlalchemy.engine.Engine - INFO - [cached since 289.8s ago] (1,)
2025-05-09 10:03:58,306 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:58,309 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:03:58,310 - sqlalchemy.engine.Engine - INFO - [cached since 327.3s ago] (1,)
2025-05-09 10:03:58,312 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:58,315 - app.utils.jwt_callbacks - INFO - Checking if token 8b97875b-5388-4d19-b62e-4a4732a6eda5 is in blocklist
2025-05-09 10:03:58,318 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:58,321 - sqlalchemy.engine.Engine - INFO - [cached since 289.8s ago] ('8b97875b-5388-4d19-b62e-4a4732a6eda5', 1, 0)
2025-05-09 10:03:58,325 - app.utils.jwt_callbacks - INFO - Token 8b97875b-5388-4d19-b62e-4a4732a6eda5 is valid
2025-05-09 10:03:58,328 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:58,330 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:58,331 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756238, 'jti': '8b97875b-5388-4d19-b62e-4a4732a6eda5', 'type': 'access', 'sub': 1, 'nbf': 1746756238, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1ijg.IoeFY8iEDk5d5mrqCQcKBaMKjNk', 'exp': 1746759838, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:58,332 - app.utils.jwt_callbacks - INFO - Token time difference: -0.332468 seconds
2025-05-09 10:03:58,334 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:58,335 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:58,336 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:58,338 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:58,341 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:58,341 - app - INFO - Dashboard access with user ID: 1
2025-05-09 10:03:58,343 - app - INFO - Token found in: cookies
2025-05-09 10:03:58,346 - app - INFO - Dashboard context user_data: {'id': 1, 'username': 'admin', 'email': 'admin@example.com', 'name': '管理员', 'is_active': True, 'created_at': '2025-05-07T01:07:21.773527', 'last_login': '2025-05-09T02:03:58.223492', 'roles': ['admin'], 'permissions': ['view_project', 'view_reports', 'change_task_status', 'manage_all_tasks', 'manage_all_projects', 'create_task', 'create_project', 'manage_users', 'manage_resources', 'manage_task', 'manage_roles', 'manage_risks', 'assign_task', 'manage_project', 'view_task', 'change_project_status']}
2025-05-09 10:03:58,348 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:03:58,350 - app - INFO - 用户 admin 的权限: ['view_project', 'view_reports', 'change_task_status', 'manage_all_tasks', 'manage_all_projects', 'create_task', 'create_project', 'manage_users', 'manage_resources', 'manage_task', 'manage_roles', 'manage_risks', 'assign_task', 'manage_project', 'view_task', 'change_project_status']
2025-05-09 10:03:58,351 - app - INFO - 用户 admin - 是否管理员: True, 是否项目经理: False
2025-05-09 10:03:58,354 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:03:58,354 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:03:58,388 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,388 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,394 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,396 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,397 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,401 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,407 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,405 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:58,432 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:58] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,430 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:03:59,430 - app.utils.jwt_callbacks - INFO - Checking if token 8b97875b-5388-4d19-b62e-4a4732a6eda5 is in blocklist
2025-05-09 10:03:59,433 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:03:59,433 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:03:59,433 - sqlalchemy.engine.Engine - INFO - [cached since 290.9s ago] ('8b97875b-5388-4d19-b62e-4a4732a6eda5', 1, 0)
2025-05-09 10:03:59,434 - app.utils.jwt_callbacks - INFO - Token 8b97875b-5388-4d19-b62e-4a4732a6eda5 is valid
2025-05-09 10:03:59,435 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:03:59,435 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:03:59,436 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756238, 'jti': '8b97875b-5388-4d19-b62e-4a4732a6eda5', 'type': 'access', 'sub': 1, 'nbf': 1746756238, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1ijg.IoeFY8iEDk5d5mrqCQcKBaMKjNk', 'exp': 1746759838, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:03:59,437 - app.utils.jwt_callbacks - INFO - Token time difference: -1.437262 seconds
2025-05-09 10:03:59,437 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:03:59,437 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:03:59,438 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:59,439 - sqlalchemy.engine.Engine - INFO - [cached since 290.8s ago] (1,)
2025-05-09 10:03:59,439 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:03:59,441 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:03:59,441 - sqlalchemy.engine.Engine - INFO - [cached since 291s ago] (1,)
2025-05-09 10:03:59,442 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:03:59,444 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:03:59,444 - sqlalchemy.engine.Engine - INFO - [cached since 328.4s ago] (1,)
2025-05-09 10:03:59,446 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:03:59,448 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:03:59,449 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:03:59,449 - sqlalchemy.engine.Engine - INFO - [cached since 289.7s ago] ()
2025-05-09 10:03:59,450 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:59,451 - sqlalchemy.engine.Engine - INFO - [cached since 290.9s ago] (5,)
2025-05-09 10:03:59,453 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:59,454 - sqlalchemy.engine.Engine - INFO - [cached since 290.9s ago] (8,)
2025-05-09 10:03:59,455 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:03:59,455 - sqlalchemy.engine.Engine - INFO - [cached since 290.9s ago] (5,)
2025-05-09 10:03:59,488 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:03:59,488 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:03:59,519 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,519 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,524 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,527 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,527 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,529 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,530 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,535 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,540 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,537 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:03:59,561 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:03:59] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:07:10,748 - app - INFO - File logging handler initialized successfully
2025-05-09 10:07:10,749 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:07:10,749 - app - INFO - Application logging configuration completed
2025-05-09 10:07:10,749 - app - INFO - Development configuration initialized
2025-05-09 10:07:10,778 - app - INFO - Logging setup completed successfully
2025-05-09 10:07:11,034 - app - INFO - 已注册的路由:
2025-05-09 10:07:11,035 - app - INFO - 路由: /static/<path:filename> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: static
2025-05-09 10:07:11,035 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:07:11,035 - app - INFO - 路由: /api/users - 方法: {'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:07:11,035 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,036 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,036 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,036 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,037 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,037 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,037 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,038 - app - INFO - 路由: /api/tasks - 方法: {'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:11,039 - app - INFO - 路由: /login - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.login_page
2025-05-09 10:07:11,039 - app - INFO - 路由: /login - 方法: {'POST', 'OPTIONS'} - 终端: auth.login
2025-05-09 10:07:11,039 - app - INFO - 路由: /register - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.register_page
2025-05-09 10:07:11,039 - app - INFO - 路由: /register - 方法: {'POST', 'OPTIONS'} - 终端: auth.register
2025-05-09 10:07:11,040 - app - INFO - 路由: /logout - 方法: {'GET', 'HEAD', 'OPTIONS', 'POST'} - 终端: auth.logout
2025-05-09 10:07:11,040 - app - INFO - 路由: /refresh - 方法: {'POST', 'OPTIONS'} - 终端: auth.refresh
2025-05-09 10:07:11,040 - app - INFO - 路由: /profile - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.profile
2025-05-09 10:07:11,042 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:07:11,042 - app - INFO - 路由: /users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_users
2025-05-09 10:07:11,042 - app - INFO - 路由: /users/<int:user_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_by_id
2025-05-09 10:07:11,042 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:07:11,042 - app - INFO - 路由: /roles - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_roles
2025-05-09 10:07:11,044 - app - INFO - 路由: /permissions - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_permissions
2025-05-09 10:07:11,045 - app - INFO - 路由: /permissions - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_permission
2025-05-09 10:07:11,045 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_permission
2025-05-09 10:07:11,046 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:07:11,046 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_permission
2025-05-09 10:07:11,046 - app - INFO - 路由: /roles - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_role
2025-05-09 10:07:11,047 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_role
2025-05-09 10:07:11,047 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:07:11,048 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_role
2025-05-09 10:07:11,048 - app - INFO - 路由: /dashboard - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.dashboard
2025-05-09 10:07:11,049 - app - INFO - 路由: /dashboard/redirect - 方法: {'GET', 'HEAD', 'OPTIONS', 'POST'} - 终端: auth.dashboard_redirect
2025-05-09 10:07:11,050 - app - INFO - 路由: /create_test_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_user
2025-05-09 10:07:11,050 - app - INFO - 路由: /check - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.check_auth
2025-05-09 10:07:11,050 - app - INFO - 路由: /create_test_project - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_project
2025-05-09 10:07:11,050 - app - INFO - 路由: /logout_all - 方法: {'POST', 'OPTIONS'} - 终端: auth.logout_all
2025-05-09 10:07:11,050 - app - INFO - 路由: /dashboard/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.dashboard_data
2025-05-09 10:07:11,050 - app - INFO - 路由: /check_token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.check_token
2025-05-09 10:07:11,051 - app - INFO - 路由: /create_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_user
2025-05-09 10:07:11,051 - app - INFO - 路由: /user_info - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_info
2025-05-09 10:07:11,051 - app - INFO - 路由: /user/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_user
2025-05-09 10:07:11,052 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_roles
2025-05-09 10:07:11,052 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:07:11,052 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_notifications
2025-05-09 10:07:11,052 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:07:11,054 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:07:11,054 - app - INFO - 路由: /change-password - 方法: {'POST', 'OPTIONS'} - 终端: auth.change_password
2025-05-09 10:07:11,054 - app - INFO - 路由: /reset-password - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.reset_password_page
2025-05-09 10:07:11,055 - app - INFO - 路由: /verify-email/confirm - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:07:11,055 - app - INFO - 路由: /auth/csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_csrf_token
2025-05-09 10:07:11,055 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:07:11,056 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.api_delete_user
2025-05-09 10:07:11,056 - app - INFO - 路由: /api/users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.api_get_users
2025-05-09 10:07:11,056 - app - INFO - 路由: /api/users - 方法: {'POST', 'OPTIONS'} - 终端: auth.api_create_user
2025-05-09 10:07:11,057 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_details
2025-05-09 10:07:11,057 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS', 'GET', 'PUT', 'HEAD'} - 终端: auth.api_user_operations
2025-05-09 10:07:11,057 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_csrf_token
2025-05-09 10:07:11,057 - app - INFO - 路由: /main/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.index
2025-05-09 10:07:11,059 - app - INFO - 路由: /main/dashboard - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.dashboard
2025-05-09 10:07:11,059 - app - INFO - 路由: /main/check_token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.check_token
2025-05-09 10:07:11,059 - app - INFO - 路由: /main/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.projects
2025-05-09 10:07:11,059 - app - INFO - 路由: /main/tasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.tasks
2025-05-09 10:07:11,060 - app - INFO - 路由: /main/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.risks
2025-05-09 10:07:11,060 - app - INFO - 路由: /main/reports - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.reports
2025-05-09 10:07:11,060 - app - INFO - 路由: /main/resources - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.resources
2025-05-09 10:07:11,060 - app - INFO - 路由: /main/profile - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.profile
2025-05-09 10:07:11,061 - app - INFO - 路由: /main/system/status - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.system_status
2025-05-09 10:07:11,061 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.get_dashboard_data
2025-05-09 10:07:11,061 - app - INFO - 路由: /main/test - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.test_route
2025-05-09 10:07:11,061 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.project_detail_redirect
2025-05-09 10:07:11,062 - app - INFO - 路由: /main/users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.users
2025-05-09 10:07:11,062 - app - INFO - 路由: /main/debug/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.debug_projects
2025-05-09 10:07:11,062 - app - INFO - 路由: /main/simple/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.simple_projects
2025-05-09 10:07:11,063 - app - INFO - 路由: /main/static-test - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.static_test
2025-05-09 10:07:11,063 - app - INFO - 路由: /main/print-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.print_projects
2025-05-09 10:07:11,064 - app - INFO - 路由: /main/bypass-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.bypass_projects
2025-05-09 10:07:11,064 - app - INFO - 路由: /main/debug-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.debug_projects_api
2025-05-09 10:07:11,064 - app - INFO - 路由: /projects/list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.project_list
2025-05-09 10:07:11,065 - app - INFO - 路由: /projects/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_projects
2025-05-09 10:07:11,065 - app - INFO - 路由: /projects/ - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project
2025-05-09 10:07:11,065 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project
2025-05-09 10:07:11,065 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:07:11,066 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project
2025-05-09 10:07:11,066 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_members
2025-05-09 10:07:11,068 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: projects.add_project_member
2025-05-09 10:07:11,068 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.remove_project_member
2025-05-09 10:07:11,068 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.detail
2025-05-09 10:07:11,069 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.detail_api
2025-05-09 10:07:11,069 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_api
2025-05-09 10:07:11,069 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:07:11,069 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project_api
2025-05-09 10:07:11,070 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_projects_api
2025-05-09 10:07:11,070 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_auth_api
2025-05-09 10:07:11,070 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS', 'GET', 'PUT', 'HEAD'} - 终端: projects.get_project_noauth
2025-05-09 10:07:11,070 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project_auth
2025-05-09 10:07:11,071 - app - INFO - 路由: /projects/api/project-managers - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_managers
2025-05-09 10:07:11,071 - app - INFO - 路由: /projects/api/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_all_projects_api
2025-05-09 10:07:11,071 - app - INFO - 路由: /projects/api/active-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_active_projects_api
2025-05-09 10:07:11,072 - app - INFO - 路由: /list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.project_list
2025-05-09 10:07:11,072 - app - INFO - 路由: / - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_projects
2025-05-09 10:07:11,073 - app - INFO - 路由: / - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project
2025-05-09 10:07:11,073 - app - INFO - 路由: /<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project
2025-05-09 10:07:11,073 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:07:11,073 - app - INFO - 路由: /<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project
2025-05-09 10:07:11,073 - app - INFO - 路由: /<int:project_id>/members - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_members
2025-05-09 10:07:11,073 - app - INFO - 路由: /<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: project_root.add_project_member
2025-05-09 10:07:11,075 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.remove_project_member
2025-05-09 10:07:11,075 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.detail
2025-05-09 10:07:11,075 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.detail_api
2025-05-09 10:07:11,075 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_api
2025-05-09 10:07:11,075 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:07:11,075 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project_api
2025-05-09 10:07:11,077 - app - INFO - 路由: /api/auth/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_projects_api
2025-05-09 10:07:11,077 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_auth_api
2025-05-09 10:07:11,078 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS', 'GET', 'PUT', 'HEAD'} - 终端: project_root.get_project_noauth
2025-05-09 10:07:11,078 - app - INFO - 路由: /api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project_auth
2025-05-09 10:07:11,078 - app - INFO - 路由: /api/project-managers - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_managers
2025-05-09 10:07:11,078 - app - INFO - 路由: /api/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_all_projects_api
2025-05-09 10:07:11,078 - app - INFO - 路由: /api/active-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_active_projects_api
2025-05-09 10:07:11,079 - app - INFO - 路由: /tasks/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_tasks
2025-05-09 10:07:11,079 - app - INFO - 路由: /tasks/ - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task
2025-05-09 10:07:11,080 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task
2025-05-09 10:07:11,080 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 10:07:11,080 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_task
2025-05-09 10:07:11,082 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_comments
2025-05-09 10:07:11,082 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment
2025-05-09 10:07:11,082 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_attachments
2025-05-09 10:07:11,082 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment
2025-05-09 10:07:11,082 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_resources
2025-05-09 10:07:11,082 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_subtasks
2025-05-09 10:07:11,083 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_subtask
2025-05-09 10:07:11,083 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_dependencies
2025-05-09 10:07:11,083 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_dependency
2025-05-09 10:07:11,083 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_logs
2025-05-09 10:07:11,083 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_log
2025-05-09 10:07:11,085 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.gantt_chart
2025-05-09 10:07:11,085 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_gantt_data
2025-05-09 10:07:11,085 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 10:07:11,085 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:07:11,087 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:07:11,087 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 10:07:11,087 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_dependency
2025-05-09 10:07:11,087 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_api
2025-05-09 10:07:11,088 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:07:11,088 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_page
2025-05-09 10:07:11,088 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.edit_task_page
2025-05-09 10:07:11,088 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:07:11,089 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.download_attachment_auth
2025-05-09 10:07:11,089 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_attachment
2025-05-09 10:07:11,089 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.download_attachment
2025-05-09 10:07:11,089 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_attachment
2025-05-09 10:07:11,089 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_new_version
2025-05-09 10:07:11,089 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_attachment_versions
2025-05-09 10:07:11,091 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_risks_front_path
2025-05-09 10:07:11,091 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:07:11,091 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_progress
2025-05-09 10:07:11,091 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'POST', 'OPTIONS'} - 终端: tasks.update_task_progress
2025-05-09 10:07:11,092 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'POST', 'OPTIONS'} - 终端: tasks.approve_task_progress
2025-05-09 10:07:11,092 - app - INFO - 路由: /tasks/list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_list
2025-05-09 10:07:11,093 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:07:11,093 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:07:11,093 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:07:11,093 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:07:11,094 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:07:11,094 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:07:11,095 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:07:11,095 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 10:07:11,096 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:07:11,097 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_csrf_token
2025-05-09 10:07:11,097 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:07:11,144 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:07:11,250 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:11,251 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,252 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('manage_users', 1, 0)
2025-05-09 10:07:11,253 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:07:11,253 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,254 - sqlalchemy.engine.Engine - INFO - [cached since 0.00246s ago] ('manage_roles', 1, 0)
2025-05-09 10:07:11,254 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:07:11,255 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.003646s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:07:11,255 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:07:11,256 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,256 - sqlalchemy.engine.Engine - INFO - [cached since 0.00501s ago] ('manage_project', 1, 0)
2025-05-09 10:07:11,256 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:07:11,256 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,256 - sqlalchemy.engine.Engine - INFO - [cached since 0.005831s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:07:11,258 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:07:11,258 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,258 - sqlalchemy.engine.Engine - INFO - [cached since 0.006537s ago] ('manage_task', 1, 0)
2025-05-09 10:07:11,258 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:07:11,259 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,259 - sqlalchemy.engine.Engine - INFO - [cached since 0.007191s ago] ('view_project', 1, 0)
2025-05-09 10:07:11,259 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:07:11,259 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,259 - sqlalchemy.engine.Engine - INFO - [cached since 0.00788s ago] ('view_task', 1, 0)
2025-05-09 10:07:11,260 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:07:11,261 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,261 - sqlalchemy.engine.Engine - INFO - [cached since 0.009916s ago] ('manage_resources', 1, 0)
2025-05-09 10:07:11,261 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:07:11,262 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,262 - sqlalchemy.engine.Engine - INFO - [cached since 0.01079s ago] ('manage_risks', 1, 0)
2025-05-09 10:07:11,262 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:07:11,263 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,263 - sqlalchemy.engine.Engine - INFO - [cached since 0.0116s ago] ('view_reports', 1, 0)
2025-05-09 10:07:11,263 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:07:11,263 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,264 - sqlalchemy.engine.Engine - INFO - [cached since 0.0126s ago] ('create_task', 1, 0)
2025-05-09 10:07:11,264 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:07:11,264 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,264 - sqlalchemy.engine.Engine - INFO - [cached since 0.01335s ago] ('create_project', 1, 0)
2025-05-09 10:07:11,265 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:07:11,265 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.01419s ago] ('assign_task', 1, 0)
2025-05-09 10:07:11,265 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:07:11,266 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.01488s ago] ('change_project_status', 1, 0)
2025-05-09 10:07:11,266 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:07:11,266 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.01555s ago] ('change_task_status', 1, 0)
2025-05-09 10:07:11,267 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:07:11,267 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:11,267 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:11,269 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:07:11,269 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2025-05-09 10:07:11,270 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,270 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('admin', 1, 0)
2025-05-09 10:07:11,271 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:07:11,272 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:07:11,272 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (1,)
2025-05-09 10:07:11,273 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:07:11,273 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.003433s ago] ('manager', 1, 0)
2025-05-09 10:07:11,274 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:07:11,274 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:07:11,274 - sqlalchemy.engine.Engine - INFO - [cached since 0.002204s ago] (2,)
2025-05-09 10:07:11,274 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:07:11,274 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:07:11,275 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:07:11,275 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:07:11,275 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:07:11,275 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:07:11,275 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:07:11,275 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:07:11,276 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:07:11,276 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:07:11,276 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:07:11,276 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:07:11,277 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_projects
2025-05-09 10:07:11,277 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_tasks
2025-05-09 10:07:11,279 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,279 - sqlalchemy.engine.Engine - INFO - [cached since 0.009152s ago] ('user', 1, 0)
2025-05-09 10:07:11,279 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:07:11,280 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:07:11,280 - sqlalchemy.engine.Engine - INFO - [cached since 0.008698s ago] (5,)
2025-05-09 10:07:11,281 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:07:11,281 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:07:11,281 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:11,281 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:07:11,282 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:07:11,282 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:11,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,284 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('system', 1, 0)
2025-05-09 10:07:11,285 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,285 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('Test Project', 1, 0)
2025-05-09 10:07:11,285 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:11,285 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:07:11,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:11,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:11,287 - sqlalchemy.engine.Engine - INFO - [cached since 0.003471s ago] ('system', 1, 0)
2025-05-09 10:07:11,293 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:07:11,293 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (2, 15.6, 48.1, 10.9, 0.0, '2025-05-09 02:07:11.292230')
2025-05-09 10:07:11,296 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:11,300 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:07:11,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:11,303 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:07:11,303 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('2025-04-09 02:07:11.300867',)
2025-05-09 10:07:11,304 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:07:11,304 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('2025-05-02 02:07:11.303022',)
2025-05-09 10:07:11,304 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:11,304 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:07:11,316 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.75:5000
2025-05-09 10:07:11,317 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 10:07:11,317 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:07:11,895 - app - INFO - File logging handler initialized successfully
2025-05-09 10:07:11,895 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:07:11,896 - app - INFO - Application logging configuration completed
2025-05-09 10:07:11,896 - app - INFO - Development configuration initialized
2025-05-09 10:07:11,925 - app - INFO - Logging setup completed successfully
2025-05-09 10:07:12,176 - app - INFO - 已注册的路由:
2025-05-09 10:07:12,177 - app - INFO - 路由: /static/<path:filename> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: static
2025-05-09 10:07:12,177 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'PUT', 'POST', 'DELETE', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:07:12,178 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'GET', 'PUT', 'POST', 'DELETE', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:07:12,178 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,178 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,178 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,179 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,179 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'OPTIONS', 'GET', 'PUT', 'POST', 'DELETE', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,179 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'OPTIONS', 'GET', 'PUT', 'POST', 'DELETE', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,179 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,179 - app - INFO - 路由: /api/tasks - 方法: {'OPTIONS', 'GET', 'PUT', 'POST', 'DELETE', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:07:12,180 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.login_page
2025-05-09 10:07:12,180 - app - INFO - 路由: /login - 方法: {'POST', 'OPTIONS'} - 终端: auth.login
2025-05-09 10:07:12,180 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.register_page
2025-05-09 10:07:12,180 - app - INFO - 路由: /register - 方法: {'POST', 'OPTIONS'} - 终端: auth.register
2025-05-09 10:07:12,180 - app - INFO - 路由: /logout - 方法: {'POST', 'OPTIONS', 'GET', 'HEAD'} - 终端: auth.logout
2025-05-09 10:07:12,181 - app - INFO - 路由: /refresh - 方法: {'POST', 'OPTIONS'} - 终端: auth.refresh
2025-05-09 10:07:12,181 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.profile
2025-05-09 10:07:12,181 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:07:12,181 - app - INFO - 路由: /users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_users
2025-05-09 10:07:12,181 - app - INFO - 路由: /users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_by_id
2025-05-09 10:07:12,182 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:07:12,182 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_roles
2025-05-09 10:07:12,182 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permissions
2025-05-09 10:07:12,183 - app - INFO - 路由: /permissions - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_permission
2025-05-09 10:07:12,183 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permission
2025-05-09 10:07:12,183 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:07:12,183 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_permission
2025-05-09 10:07:12,185 - app - INFO - 路由: /roles - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_role
2025-05-09 10:07:12,185 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_role
2025-05-09 10:07:12,185 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:07:12,186 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_role
2025-05-09 10:07:12,186 - app - INFO - 路由: /dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard
2025-05-09 10:07:12,186 - app - INFO - 路由: /dashboard/redirect - 方法: {'POST', 'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard_redirect
2025-05-09 10:07:12,186 - app - INFO - 路由: /create_test_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_user
2025-05-09 10:07:12,186 - app - INFO - 路由: /check - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_auth
2025-05-09 10:07:12,187 - app - INFO - 路由: /create_test_project - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_project
2025-05-09 10:07:12,187 - app - INFO - 路由: /logout_all - 方法: {'POST', 'OPTIONS'} - 终端: auth.logout_all
2025-05-09 10:07:12,188 - app - INFO - 路由: /dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard_data
2025-05-09 10:07:12,188 - app - INFO - 路由: /check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_token
2025-05-09 10:07:12,188 - app - INFO - 路由: /create_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_user
2025-05-09 10:07:12,189 - app - INFO - 路由: /user_info - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_info
2025-05-09 10:07:12,189 - app - INFO - 路由: /user/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_user
2025-05-09 10:07:12,189 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_roles
2025-05-09 10:07:12,189 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:07:12,190 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_notifications
2025-05-09 10:07:12,190 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:07:12,190 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:07:12,190 - app - INFO - 路由: /change-password - 方法: {'POST', 'OPTIONS'} - 终端: auth.change_password
2025-05-09 10:07:12,191 - app - INFO - 路由: /reset-password - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.reset_password_page
2025-05-09 10:07:12,191 - app - INFO - 路由: /verify-email/confirm - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:07:12,192 - app - INFO - 路由: /auth/csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_csrf_token
2025-05-09 10:07:12,192 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:07:12,193 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.api_delete_user
2025-05-09 10:07:12,193 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.api_get_users
2025-05-09 10:07:12,193 - app - INFO - 路由: /api/users - 方法: {'POST', 'OPTIONS'} - 终端: auth.api_create_user
2025-05-09 10:07:12,193 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_details
2025-05-09 10:07:12,194 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'PUT', 'DELETE', 'HEAD'} - 终端: auth.api_user_operations
2025-05-09 10:07:12,194 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_csrf_token
2025-05-09 10:07:12,194 - app - INFO - 路由: /main/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.index
2025-05-09 10:07:12,194 - app - INFO - 路由: /main/dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.dashboard
2025-05-09 10:07:12,195 - app - INFO - 路由: /main/check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.check_token
2025-05-09 10:07:12,195 - app - INFO - 路由: /main/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.projects
2025-05-09 10:07:12,195 - app - INFO - 路由: /main/tasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.tasks
2025-05-09 10:07:12,196 - app - INFO - 路由: /main/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.risks
2025-05-09 10:07:12,196 - app - INFO - 路由: /main/reports - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.reports
2025-05-09 10:07:12,196 - app - INFO - 路由: /main/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.resources
2025-05-09 10:07:12,196 - app - INFO - 路由: /main/profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.profile
2025-05-09 10:07:12,196 - app - INFO - 路由: /main/system/status - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.system_status
2025-05-09 10:07:12,197 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.get_dashboard_data
2025-05-09 10:07:12,197 - app - INFO - 路由: /main/test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.test_route
2025-05-09 10:07:12,197 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.project_detail_redirect
2025-05-09 10:07:12,198 - app - INFO - 路由: /main/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.users
2025-05-09 10:07:12,198 - app - INFO - 路由: /main/debug/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects
2025-05-09 10:07:12,198 - app - INFO - 路由: /main/simple/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.simple_projects
2025-05-09 10:07:12,198 - app - INFO - 路由: /main/static-test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.static_test
2025-05-09 10:07:12,198 - app - INFO - 路由: /main/print-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.print_projects
2025-05-09 10:07:12,199 - app - INFO - 路由: /main/bypass-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.bypass_projects
2025-05-09 10:07:12,199 - app - INFO - 路由: /main/debug-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects_api
2025-05-09 10:07:12,199 - app - INFO - 路由: /projects/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.project_list
2025-05-09 10:07:12,199 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects
2025-05-09 10:07:12,199 - app - INFO - 路由: /projects/ - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project
2025-05-09 10:07:12,199 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project
2025-05-09 10:07:12,200 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:07:12,200 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project
2025-05-09 10:07:12,200 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_members
2025-05-09 10:07:12,200 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: projects.add_project_member
2025-05-09 10:07:12,200 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.remove_project_member
2025-05-09 10:07:12,202 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail
2025-05-09 10:07:12,202 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail_api
2025-05-09 10:07:12,202 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_api
2025-05-09 10:07:12,202 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:07:12,203 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project_api
2025-05-09 10:07:12,203 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects_api
2025-05-09 10:07:12,203 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_auth_api
2025-05-09 10:07:12,203 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'PUT', 'DELETE', 'HEAD'} - 终端: projects.get_project_noauth
2025-05-09 10:07:12,204 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project_auth
2025-05-09 10:07:12,204 - app - INFO - 路由: /projects/api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_managers
2025-05-09 10:07:12,204 - app - INFO - 路由: /projects/api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_all_projects_api
2025-05-09 10:07:12,204 - app - INFO - 路由: /projects/api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_active_projects_api
2025-05-09 10:07:12,205 - app - INFO - 路由: /list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.project_list
2025-05-09 10:07:12,205 - app - INFO - 路由: / - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects
2025-05-09 10:07:12,205 - app - INFO - 路由: / - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project
2025-05-09 10:07:12,206 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project
2025-05-09 10:07:12,206 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:07:12,206 - app - INFO - 路由: /<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project
2025-05-09 10:07:12,207 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_members
2025-05-09 10:07:12,207 - app - INFO - 路由: /<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: project_root.add_project_member
2025-05-09 10:07:12,207 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.remove_project_member
2025-05-09 10:07:12,208 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail
2025-05-09 10:07:12,208 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail_api
2025-05-09 10:07:12,208 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_api
2025-05-09 10:07:12,208 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:07:12,208 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project_api
2025-05-09 10:07:12,209 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects_api
2025-05-09 10:07:12,209 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_auth_api
2025-05-09 10:07:12,209 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'PUT', 'DELETE', 'HEAD'} - 终端: project_root.get_project_noauth
2025-05-09 10:07:12,210 - app - INFO - 路由: /api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project_auth
2025-05-09 10:07:12,210 - app - INFO - 路由: /api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_managers
2025-05-09 10:07:12,210 - app - INFO - 路由: /api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_all_projects_api
2025-05-09 10:07:12,210 - app - INFO - 路由: /api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_active_projects_api
2025-05-09 10:07:12,211 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_tasks
2025-05-09 10:07:12,211 - app - INFO - 路由: /tasks/ - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task
2025-05-09 10:07:12,211 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task
2025-05-09 10:07:12,211 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 10:07:12,211 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_task
2025-05-09 10:07:12,212 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments
2025-05-09 10:07:12,212 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment
2025-05-09 10:07:12,212 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments
2025-05-09 10:07:12,213 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment
2025-05-09 10:07:12,213 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_resources
2025-05-09 10:07:12,213 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks
2025-05-09 10:07:12,213 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_subtask
2025-05-09 10:07:12,213 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_dependencies
2025-05-09 10:07:12,214 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_dependency
2025-05-09 10:07:12,214 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs
2025-05-09 10:07:12,214 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_log
2025-05-09 10:07:12,214 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.gantt_chart
2025-05-09 10:07:12,214 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_gantt_data
2025-05-09 10:07:12,214 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 10:07:12,215 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:07:12,215 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:07:12,215 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 10:07:12,215 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_dependency
2025-05-09 10:07:12,215 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api
2025-05-09 10:07:12,216 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:07:12,216 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_page
2025-05-09 10:07:12,216 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.edit_task_page
2025-05-09 10:07:12,216 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:07:12,217 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment_auth
2025-05-09 10:07:12,217 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_attachment
2025-05-09 10:07:12,217 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment
2025-05-09 10:07:12,219 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_attachment
2025-05-09 10:07:12,219 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_new_version
2025-05-09 10:07:12,219 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_attachment_versions
2025-05-09 10:07:12,219 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_risks_front_path
2025-05-09 10:07:12,219 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:07:12,220 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_progress
2025-05-09 10:07:12,220 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'POST', 'OPTIONS'} - 终端: tasks.update_task_progress
2025-05-09 10:07:12,220 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'POST', 'OPTIONS'} - 终端: tasks.approve_task_progress
2025-05-09 10:07:12,220 - app - INFO - 路由: /tasks/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_list
2025-05-09 10:07:12,220 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:07:12,220 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:07:12,221 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:07:12,221 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:07:12,221 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:07:12,222 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:07:12,222 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:07:12,222 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 10:07:12,223 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:07:12,223 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_csrf_token
2025-05-09 10:07:12,223 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:07:12,269 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:07:12,375 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:12,377 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,377 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('manage_users', 1, 0)
2025-05-09 10:07:12,378 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:07:12,378 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,379 - sqlalchemy.engine.Engine - INFO - [cached since 0.002105s ago] ('manage_roles', 1, 0)
2025-05-09 10:07:12,379 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:07:12,379 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,379 - sqlalchemy.engine.Engine - INFO - [cached since 0.002965s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:07:12,380 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:07:12,380 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,380 - sqlalchemy.engine.Engine - INFO - [cached since 0.003948s ago] ('manage_project', 1, 0)
2025-05-09 10:07:12,381 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:07:12,381 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,381 - sqlalchemy.engine.Engine - INFO - [cached since 0.004748s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:07:12,381 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:07:12,382 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,382 - sqlalchemy.engine.Engine - INFO - [cached since 0.005619s ago] ('manage_task', 1, 0)
2025-05-09 10:07:12,382 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:07:12,382 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,383 - sqlalchemy.engine.Engine - INFO - [cached since 0.006488s ago] ('view_project', 1, 0)
2025-05-09 10:07:12,383 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:07:12,383 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,383 - sqlalchemy.engine.Engine - INFO - [cached since 0.00724s ago] ('view_task', 1, 0)
2025-05-09 10:07:12,384 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:07:12,385 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,385 - sqlalchemy.engine.Engine - INFO - [cached since 0.008865s ago] ('manage_resources', 1, 0)
2025-05-09 10:07:12,385 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:07:12,386 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,386 - sqlalchemy.engine.Engine - INFO - [cached since 0.009812s ago] ('manage_risks', 1, 0)
2025-05-09 10:07:12,386 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:07:12,386 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,387 - sqlalchemy.engine.Engine - INFO - [cached since 0.01056s ago] ('view_reports', 1, 0)
2025-05-09 10:07:12,387 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:07:12,387 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,388 - sqlalchemy.engine.Engine - INFO - [cached since 0.01149s ago] ('create_task', 1, 0)
2025-05-09 10:07:12,388 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:07:12,388 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,389 - sqlalchemy.engine.Engine - INFO - [cached since 0.01251s ago] ('create_project', 1, 0)
2025-05-09 10:07:12,389 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:07:12,390 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,390 - sqlalchemy.engine.Engine - INFO - [cached since 0.01436s ago] ('assign_task', 1, 0)
2025-05-09 10:07:12,390 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:07:12,392 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,392 - sqlalchemy.engine.Engine - INFO - [cached since 0.01549s ago] ('change_project_status', 1, 0)
2025-05-09 10:07:12,392 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:07:12,393 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,393 - sqlalchemy.engine.Engine - INFO - [cached since 0.01641s ago] ('change_task_status', 1, 0)
2025-05-09 10:07:12,393 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:07:12,394 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:12,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:12,395 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:07:12,395 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-05-09 10:07:12,396 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,396 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('admin', 1, 0)
2025-05-09 10:07:12,396 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:07:12,399 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:07:12,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (1,)
2025-05-09 10:07:12,399 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:07:12,400 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,400 - sqlalchemy.engine.Engine - INFO - [cached since 0.004272s ago] ('manager', 1, 0)
2025-05-09 10:07:12,401 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:07:12,401 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:07:12,401 - sqlalchemy.engine.Engine - INFO - [cached since 0.00272s ago] (2,)
2025-05-09 10:07:12,401 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:07:12,402 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:07:12,402 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:07:12,402 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:07:12,402 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:07:12,403 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:07:12,403 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:07:12,403 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:07:12,404 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:07:12,404 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:07:12,404 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:07:12,404 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:07:12,406 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_projects
2025-05-09 10:07:12,406 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_tasks
2025-05-09 10:07:12,407 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,407 - sqlalchemy.engine.Engine - INFO - [cached since 0.01075s ago] ('user', 1, 0)
2025-05-09 10:07:12,407 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:07:12,408 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:07:12,408 - sqlalchemy.engine.Engine - INFO - [cached since 0.00988s ago] (5,)
2025-05-09 10:07:12,408 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:07:12,408 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:07:12,410 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:12,410 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:07:12,410 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:07:12,411 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:12,412 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,413 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('system', 1, 0)
2025-05-09 10:07:12,414 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,414 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('Test Project', 1, 0)
2025-05-09 10:07:12,415 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:12,415 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:07:12,415 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:12,415 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:07:12,415 - sqlalchemy.engine.Engine - INFO - [cached since 0.004025s ago] ('system', 1, 0)
2025-05-09 10:07:12,422 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:07:12,422 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (2, 16.3, 48.4, 10.9, 0.0, '2025-05-09 02:07:12.421108')
2025-05-09 10:07:12,424 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:12,428 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:07:12,429 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:07:12,429 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:07:12,430 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('2025-04-09 02:07:12.428254',)
2025-05-09 10:07:12,431 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:07:12,431 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('2025-05-02 02:07:12.430803',)
2025-05-09 10:07:12,431 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:07:12,431 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:07:12,437 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:07:12,439 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 10:08:54,081 - werkzeug - INFO -  * Detected change in 'D:\\tmp\\work\\app\\routes\\projects.py', reloading
2025-05-09 10:08:54,298 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:08:54,902 - app - INFO - File logging handler initialized successfully
2025-05-09 10:08:54,902 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:08:54,902 - app - INFO - Application logging configuration completed
2025-05-09 10:08:54,903 - app - INFO - Development configuration initialized
2025-05-09 10:08:54,933 - app - INFO - Logging setup completed successfully
2025-05-09 10:08:55,185 - app - INFO - 已注册的路由:
2025-05-09 10:08:55,185 - app - INFO - 路由: /static/<path:filename> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: static
2025-05-09 10:08:55,185 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:08:55,186 - app - INFO - 路由: /api/users - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:08:55,186 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,186 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,186 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,187 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,187 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,187 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,187 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,187 - app - INFO - 路由: /api/tasks - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'POST', 'GET', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:08:55,188 - app - INFO - 路由: /login - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.login_page
2025-05-09 10:08:55,188 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'POST'} - 终端: auth.login
2025-05-09 10:08:55,188 - app - INFO - 路由: /register - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.register_page
2025-05-09 10:08:55,188 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'POST'} - 终端: auth.register
2025-05-09 10:08:55,189 - app - INFO - 路由: /logout - 方法: {'GET', 'HEAD', 'OPTIONS', 'POST'} - 终端: auth.logout
2025-05-09 10:08:55,189 - app - INFO - 路由: /refresh - 方法: {'OPTIONS', 'POST'} - 终端: auth.refresh
2025-05-09 10:08:55,189 - app - INFO - 路由: /profile - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.profile
2025-05-09 10:08:55,189 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:08:55,190 - app - INFO - 路由: /users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_users
2025-05-09 10:08:55,191 - app - INFO - 路由: /users/<int:user_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_by_id
2025-05-09 10:08:55,191 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:08:55,192 - app - INFO - 路由: /roles - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_roles
2025-05-09 10:08:55,192 - app - INFO - 路由: /permissions - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_permissions
2025-05-09 10:08:55,193 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_permission
2025-05-09 10:08:55,193 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_permission
2025-05-09 10:08:55,194 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:08:55,194 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_permission
2025-05-09 10:08:55,195 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_role
2025-05-09 10:08:55,195 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_role
2025-05-09 10:08:55,196 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:08:55,197 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_role
2025-05-09 10:08:55,197 - app - INFO - 路由: /dashboard - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.dashboard
2025-05-09 10:08:55,198 - app - INFO - 路由: /dashboard/redirect - 方法: {'GET', 'HEAD', 'OPTIONS', 'POST'} - 终端: auth.dashboard_redirect
2025-05-09 10:08:55,198 - app - INFO - 路由: /create_test_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_user
2025-05-09 10:08:55,198 - app - INFO - 路由: /check - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.check_auth
2025-05-09 10:08:55,198 - app - INFO - 路由: /create_test_project - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_project
2025-05-09 10:08:55,198 - app - INFO - 路由: /logout_all - 方法: {'OPTIONS', 'POST'} - 终端: auth.logout_all
2025-05-09 10:08:55,200 - app - INFO - 路由: /dashboard/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.dashboard_data
2025-05-09 10:08:55,200 - app - INFO - 路由: /check_token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.check_token
2025-05-09 10:08:55,201 - app - INFO - 路由: /create_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_user
2025-05-09 10:08:55,201 - app - INFO - 路由: /user_info - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_info
2025-05-09 10:08:55,201 - app - INFO - 路由: /user/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_user
2025-05-09 10:08:55,201 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_roles
2025-05-09 10:08:55,202 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:08:55,202 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_notifications
2025-05-09 10:08:55,202 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:08:55,202 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:08:55,202 - app - INFO - 路由: /change-password - 方法: {'OPTIONS', 'POST'} - 终端: auth.change_password
2025-05-09 10:08:55,202 - app - INFO - 路由: /reset-password - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.reset_password_page
2025-05-09 10:08:55,203 - app - INFO - 路由: /verify-email/confirm - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:08:55,203 - app - INFO - 路由: /auth/csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_csrf_token
2025-05-09 10:08:55,203 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:08:55,203 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.api_delete_user
2025-05-09 10:08:55,205 - app - INFO - 路由: /api/users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.api_get_users
2025-05-09 10:08:55,205 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST'} - 终端: auth.api_create_user
2025-05-09 10:08:55,207 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_details
2025-05-09 10:08:55,207 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'GET', 'PUT'} - 终端: auth.api_user_operations
2025-05-09 10:08:55,207 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_csrf_token
2025-05-09 10:08:55,207 - app - INFO - 路由: /main/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.index
2025-05-09 10:08:55,210 - app - INFO - 路由: /main/dashboard - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.dashboard
2025-05-09 10:08:55,211 - app - INFO - 路由: /main/check_token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.check_token
2025-05-09 10:08:55,211 - app - INFO - 路由: /main/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.projects
2025-05-09 10:08:55,212 - app - INFO - 路由: /main/tasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.tasks
2025-05-09 10:08:55,212 - app - INFO - 路由: /main/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.risks
2025-05-09 10:08:55,212 - app - INFO - 路由: /main/reports - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.reports
2025-05-09 10:08:55,212 - app - INFO - 路由: /main/resources - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.resources
2025-05-09 10:08:55,213 - app - INFO - 路由: /main/profile - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.profile
2025-05-09 10:08:55,213 - app - INFO - 路由: /main/system/status - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.system_status
2025-05-09 10:08:55,213 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.get_dashboard_data
2025-05-09 10:08:55,214 - app - INFO - 路由: /main/test - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.test_route
2025-05-09 10:08:55,214 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.project_detail_redirect
2025-05-09 10:08:55,214 - app - INFO - 路由: /main/users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.users
2025-05-09 10:08:55,214 - app - INFO - 路由: /main/debug/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.debug_projects
2025-05-09 10:08:55,214 - app - INFO - 路由: /main/simple/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.simple_projects
2025-05-09 10:08:55,215 - app - INFO - 路由: /main/static-test - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.static_test
2025-05-09 10:08:55,215 - app - INFO - 路由: /main/print-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.print_projects
2025-05-09 10:08:55,216 - app - INFO - 路由: /main/bypass-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.bypass_projects
2025-05-09 10:08:55,216 - app - INFO - 路由: /main/debug-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.debug_projects_api
2025-05-09 10:08:55,216 - app - INFO - 路由: /projects/list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.project_list
2025-05-09 10:08:55,217 - app - INFO - 路由: /projects/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_projects
2025-05-09 10:08:55,217 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project
2025-05-09 10:08:55,217 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project
2025-05-09 10:08:55,217 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:08:55,218 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project
2025-05-09 10:08:55,218 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_members
2025-05-09 10:08:55,218 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: projects.add_project_member
2025-05-09 10:08:55,218 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.remove_project_member
2025-05-09 10:08:55,218 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.detail
2025-05-09 10:08:55,219 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.detail_api
2025-05-09 10:08:55,219 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_api
2025-05-09 10:08:55,219 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:08:55,219 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project_api
2025-05-09 10:08:55,219 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_projects_api
2025-05-09 10:08:55,219 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_auth_api
2025-05-09 10:08:55,220 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'GET', 'PUT'} - 终端: projects.get_project_noauth
2025-05-09 10:08:55,220 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project_auth
2025-05-09 10:08:55,221 - app - INFO - 路由: /projects/api/project-managers - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_managers
2025-05-09 10:08:55,221 - app - INFO - 路由: /projects/api/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_all_projects_api
2025-05-09 10:08:55,221 - app - INFO - 路由: /projects/api/active-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_active_projects_api
2025-05-09 10:08:55,223 - app - INFO - 路由: /list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.project_list
2025-05-09 10:08:55,223 - app - INFO - 路由: / - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_projects
2025-05-09 10:08:55,223 - app - INFO - 路由: / - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project
2025-05-09 10:08:55,223 - app - INFO - 路由: /<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project
2025-05-09 10:08:55,224 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:08:55,224 - app - INFO - 路由: /<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project
2025-05-09 10:08:55,224 - app - INFO - 路由: /<int:project_id>/members - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_members
2025-05-09 10:08:55,225 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: project_root.add_project_member
2025-05-09 10:08:55,225 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.remove_project_member
2025-05-09 10:08:55,225 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.detail
2025-05-09 10:08:55,225 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.detail_api
2025-05-09 10:08:55,225 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_api
2025-05-09 10:08:55,226 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:08:55,226 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project_api
2025-05-09 10:08:55,226 - app - INFO - 路由: /api/auth/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_projects_api
2025-05-09 10:08:55,227 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_auth_api
2025-05-09 10:08:55,227 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'DELETE', 'OPTIONS', 'GET', 'PUT'} - 终端: project_root.get_project_noauth
2025-05-09 10:08:55,227 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project_auth
2025-05-09 10:08:55,227 - app - INFO - 路由: /api/project-managers - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_managers
2025-05-09 10:08:55,228 - app - INFO - 路由: /api/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_all_projects_api
2025-05-09 10:08:55,228 - app - INFO - 路由: /api/active-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_active_projects_api
2025-05-09 10:08:55,228 - app - INFO - 路由: /tasks/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_tasks
2025-05-09 10:08:55,228 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task
2025-05-09 10:08:55,228 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task
2025-05-09 10:08:55,230 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 10:08:55,230 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_task
2025-05-09 10:08:55,230 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_comments
2025-05-09 10:08:55,230 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment
2025-05-09 10:08:55,230 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_attachments
2025-05-09 10:08:55,231 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment
2025-05-09 10:08:55,231 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_resources
2025-05-09 10:08:55,231 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_subtasks
2025-05-09 10:08:55,231 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_subtask
2025-05-09 10:08:55,232 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_dependencies
2025-05-09 10:08:55,232 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_dependency
2025-05-09 10:08:55,232 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_logs
2025-05-09 10:08:55,232 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_log
2025-05-09 10:08:55,233 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.gantt_chart
2025-05-09 10:08:55,233 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_gantt_data
2025-05-09 10:08:55,233 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 10:08:55,233 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:08:55,234 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:08:55,234 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 10:08:55,234 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_dependency
2025-05-09 10:08:55,234 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_api
2025-05-09 10:08:55,234 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:08:55,235 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_page
2025-05-09 10:08:55,235 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.edit_task_page
2025-05-09 10:08:55,235 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:08:55,235 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.download_attachment_auth
2025-05-09 10:08:55,235 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_attachment
2025-05-09 10:08:55,236 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.download_attachment
2025-05-09 10:08:55,236 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_attachment
2025-05-09 10:08:55,236 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_new_version
2025-05-09 10:08:55,236 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_attachment_versions
2025-05-09 10:08:55,237 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_risks_front_path
2025-05-09 10:08:55,237 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:08:55,237 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_progress
2025-05-09 10:08:55,238 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'POST'} - 终端: tasks.update_task_progress
2025-05-09 10:08:55,238 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'OPTIONS', 'POST'} - 终端: tasks.approve_task_progress
2025-05-09 10:08:55,238 - app - INFO - 路由: /tasks/list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_list
2025-05-09 10:08:55,238 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:08:55,239 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:08:55,239 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:08:55,239 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:08:55,240 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:08:55,240 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:08:55,240 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:08:55,240 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 10:08:55,241 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:08:55,241 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_csrf_token
2025-05-09 10:08:55,242 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:08:55,287 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:08:55,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:08:55,400 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,400 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('manage_users', 1, 0)
2025-05-09 10:08:55,401 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:08:55,402 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,403 - sqlalchemy.engine.Engine - INFO - [cached since 0.002522s ago] ('manage_roles', 1, 0)
2025-05-09 10:08:55,403 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:08:55,403 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,403 - sqlalchemy.engine.Engine - INFO - [cached since 0.00344s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:08:55,404 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:08:55,404 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,404 - sqlalchemy.engine.Engine - INFO - [cached since 0.00434s ago] ('manage_project', 1, 0)
2025-05-09 10:08:55,405 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:08:55,405 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,405 - sqlalchemy.engine.Engine - INFO - [cached since 0.005372s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:08:55,406 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:08:55,406 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,406 - sqlalchemy.engine.Engine - INFO - [cached since 0.006172s ago] ('manage_task', 1, 0)
2025-05-09 10:08:55,406 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:08:55,407 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,407 - sqlalchemy.engine.Engine - INFO - [cached since 0.007176s ago] ('view_project', 1, 0)
2025-05-09 10:08:55,408 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:08:55,408 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,408 - sqlalchemy.engine.Engine - INFO - [cached since 0.00856s ago] ('view_task', 1, 0)
2025-05-09 10:08:55,409 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:08:55,410 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,410 - sqlalchemy.engine.Engine - INFO - [cached since 0.01038s ago] ('manage_resources', 1, 0)
2025-05-09 10:08:55,410 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:08:55,411 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,411 - sqlalchemy.engine.Engine - INFO - [cached since 0.01139s ago] ('manage_risks', 1, 0)
2025-05-09 10:08:55,411 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:08:55,413 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,413 - sqlalchemy.engine.Engine - INFO - [cached since 0.01217s ago] ('view_reports', 1, 0)
2025-05-09 10:08:55,413 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:08:55,413 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,413 - sqlalchemy.engine.Engine - INFO - [cached since 0.01288s ago] ('create_task', 1, 0)
2025-05-09 10:08:55,413 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:08:55,414 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,414 - sqlalchemy.engine.Engine - INFO - [cached since 0.01408s ago] ('create_project', 1, 0)
2025-05-09 10:08:55,415 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:08:55,415 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,415 - sqlalchemy.engine.Engine - INFO - [cached since 0.01498s ago] ('assign_task', 1, 0)
2025-05-09 10:08:55,416 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:08:55,416 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,416 - sqlalchemy.engine.Engine - INFO - [cached since 0.0157s ago] ('change_project_status', 1, 0)
2025-05-09 10:08:55,416 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:08:55,417 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,417 - sqlalchemy.engine.Engine - INFO - [cached since 0.0164s ago] ('change_task_status', 1, 0)
2025-05-09 10:08:55,417 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:08:55,417 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:08:55,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:08:55,418 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:08:55,418 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2025-05-09 10:08:55,419 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,419 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('admin', 1, 0)
2025-05-09 10:08:55,420 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:08:55,422 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:08:55,422 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (1,)
2025-05-09 10:08:55,422 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:08:55,422 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,422 - sqlalchemy.engine.Engine - INFO - [cached since 0.003578s ago] ('manager', 1, 0)
2025-05-09 10:08:55,423 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:08:55,423 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:08:55,423 - sqlalchemy.engine.Engine - INFO - [cached since 0.002359s ago] (2,)
2025-05-09 10:08:55,423 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:08:55,423 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:08:55,423 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:08:55,425 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:08:55,425 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:08:55,427 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:08:55,427 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:08:55,427 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:08:55,427 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:08:55,427 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:08:55,428 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:08:55,428 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:08:55,428 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_projects
2025-05-09 10:08:55,428 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_tasks
2025-05-09 10:08:55,428 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,430 - sqlalchemy.engine.Engine - INFO - [cached since 0.01018s ago] ('user', 1, 0)
2025-05-09 10:08:55,430 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:08:55,430 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:08:55,431 - sqlalchemy.engine.Engine - INFO - [cached since 0.009358s ago] (5,)
2025-05-09 10:08:55,431 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:08:55,431 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:08:55,431 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:08:55,432 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:08:55,432 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:08:55,432 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:08:55,433 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,434 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('system', 1, 0)
2025-05-09 10:08:55,435 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,435 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('Test Project', 1, 0)
2025-05-09 10:08:55,436 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:08:55,436 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:08:55,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:08:55,437 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:08:55,437 - sqlalchemy.engine.Engine - INFO - [cached since 0.003635s ago] ('system', 1, 0)
2025-05-09 10:08:55,443 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:08:55,443 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (2, 15.0, 48.6, 10.9, 0.0, '2025-05-09 02:08:55.442063')
2025-05-09 10:08:55,445 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:08:55,449 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:08:55,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:08:55,451 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:08:55,451 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('2025-04-09 02:08:55.449874',)
2025-05-09 10:08:55,453 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:08:55,453 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('2025-05-02 02:08:55.452071',)
2025-05-09 10:08:55,453 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:08:55,453 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:08:55,459 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:08:55,462 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 10:09:26,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:26,647 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,648 - sqlalchemy.engine.Engine - INFO - [cached since 31.25s ago] ('manage_users', 1, 0)
2025-05-09 10:09:26,648 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:09:26,650 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,650 - sqlalchemy.engine.Engine - INFO - [cached since 31.25s ago] ('manage_roles', 1, 0)
2025-05-09 10:09:26,650 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:09:26,652 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,652 - sqlalchemy.engine.Engine - INFO - [cached since 31.25s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:09:26,652 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:09:26,654 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,655 - sqlalchemy.engine.Engine - INFO - [cached since 31.25s ago] ('manage_project', 1, 0)
2025-05-09 10:09:26,656 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:09:26,658 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,659 - sqlalchemy.engine.Engine - INFO - [cached since 31.26s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:09:26,660 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:09:26,661 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,663 - sqlalchemy.engine.Engine - INFO - [cached since 31.26s ago] ('manage_task', 1, 0)
2025-05-09 10:09:26,664 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:09:26,665 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,665 - sqlalchemy.engine.Engine - INFO - [cached since 31.26s ago] ('view_project', 1, 0)
2025-05-09 10:09:26,666 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:09:26,668 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,668 - sqlalchemy.engine.Engine - INFO - [cached since 31.27s ago] ('view_task', 1, 0)
2025-05-09 10:09:26,670 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:09:26,672 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,673 - sqlalchemy.engine.Engine - INFO - [cached since 31.27s ago] ('manage_resources', 1, 0)
2025-05-09 10:09:26,674 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:09:26,675 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,677 - sqlalchemy.engine.Engine - INFO - [cached since 31.28s ago] ('manage_risks', 1, 0)
2025-05-09 10:09:26,678 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:09:26,679 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,680 - sqlalchemy.engine.Engine - INFO - [cached since 31.28s ago] ('view_reports', 1, 0)
2025-05-09 10:09:26,680 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:09:26,682 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,683 - sqlalchemy.engine.Engine - INFO - [cached since 31.28s ago] ('create_task', 1, 0)
2025-05-09 10:09:26,683 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:09:26,684 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,685 - sqlalchemy.engine.Engine - INFO - [cached since 31.29s ago] ('create_project', 1, 0)
2025-05-09 10:09:26,686 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:09:26,687 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,689 - sqlalchemy.engine.Engine - INFO - [cached since 31.29s ago] ('assign_task', 1, 0)
2025-05-09 10:09:26,690 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:09:26,691 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,692 - sqlalchemy.engine.Engine - INFO - [cached since 31.29s ago] ('change_project_status', 1, 0)
2025-05-09 10:09:26,693 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:09:26,694 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,695 - sqlalchemy.engine.Engine - INFO - [cached since 31.29s ago] ('change_task_status', 1, 0)
2025-05-09 10:09:26,695 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:09:26,696 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:09:26,697 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:26,698 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:09:26,700 - sqlalchemy.engine.Engine - INFO - [cached since 31.28s ago] ()
2025-05-09 10:09:26,701 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,702 - sqlalchemy.engine.Engine - INFO - [cached since 31.28s ago] ('admin', 1, 0)
2025-05-09 10:09:26,702 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:09:26,704 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:26,705 - sqlalchemy.engine.Engine - INFO - [cached since 31.28s ago] (1,)
2025-05-09 10:09:26,706 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:09:26,708 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,708 - sqlalchemy.engine.Engine - INFO - [cached since 31.29s ago] ('manager', 1, 0)
2025-05-09 10:09:26,710 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:09:26,712 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:26,712 - sqlalchemy.engine.Engine - INFO - [cached since 31.29s ago] (2,)
2025-05-09 10:09:26,713 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:09:26,715 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:09:26,717 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:09:26,718 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:09:26,720 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:09:26,722 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:09:26,723 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:09:26,726 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:09:26,726 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:09:26,731 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:09:26,732 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:09:26,733 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:09:26,734 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_projects
2025-05-09 10:09:26,736 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_all_tasks
2025-05-09 10:09:26,739 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:26,740 - sqlalchemy.engine.Engine - INFO - [cached since 31.32s ago] ('user', 1, 0)
2025-05-09 10:09:26,742 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:09:26,744 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:26,745 - sqlalchemy.engine.Engine - INFO - [cached since 31.32s ago] (5,)
2025-05-09 10:09:26,746 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:09:26,748 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:09:26,749 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:09:26,750 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:09:26,751 - app - INFO - 角色和权限初始化成功
2025-05-09 10:09:26,752 - app - INFO - 应用初始化完成
2025-05-09 10:09:26,807 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:26] "GET /login HTTP/1.1" 200 -
2025-05-09 10:09:27,052 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,060 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,067 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,076 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,078 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,082 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,085 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/js/background-helper.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,087 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/images/background.png HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,087 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,090 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:27,100 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:09:27,111 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:27] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:09:28,106 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:28] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:09:28,635 - app - INFO - 登录请求 - 方法: POST, 内容类型: application/x-www-form-urlencoded
2025-05-09 10:09:28,637 - app - INFO - 请求头: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '135', 'Cache-Control': 'max-age=0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Origin': 'http://127.0.0.1:5000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://127.0.0.1:5000/login', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Cookie': 'user_roles=admin; access_token_cookie=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc0Njc1NjIzOCwianRpIjoiOGI5Nzg3NWItNTM4OC00ZDE5LWI2MmUtNGE0NzMyYTZlZGE1IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MSwibmJmIjoxNzQ2NzU2MjM4LCJjc3JmIjoiSW1FeVpqVXlabVptTVdJME16WmlNMlE0TXpKbFptTXdaalJsWXpFd09HVTFNamswWTJFMk1XWWkuYUIxaWpnLklvZUZZOGlFRGs1ZDVtcnFDUWNLQmFNS2pOayIsImV4cCI6MTc0Njc1OTgzOCwiYXVkIjoidGFza19tYW5hZ2VtZW50X3N5c3RlbSIsInVzZXJfY2xhaW1zIjp7InVzZXJuYW1lIjoiYWRtaW4iLCJyb2xlcyI6WyJhZG1pbiJdLCJwZXJtaXNzaW9ucyI6WyJtYW5hZ2VfdXNlcnMiLCJtYW5hZ2Vfcm9sZXMiLCJtYW5hZ2VfYWxsX3Byb2plY3RzIiwibWFuYWdlX3Byb2plY3QiLCJtYW5hZ2VfYWxsX3Rhc2tzIiwibWFuYWdlX3Rhc2siLCJ2aWV3X3Byb2plY3QiLCJ2aWV3X3Rhc2siLCJtYW5hZ2VfcmVzb3VyY2VzIiwibWFuYWdlX3Jpc2tzIiwidmlld19yZXBvcnRzIiwiY3JlYXRlX3Rhc2siLCJhc3NpZ25fdGFzayIsImNoYW5nZV9wcm9qZWN0X3N0YXR1cyIsImNoYW5nZV90YXNrX3N0YXR1cyIsImNyZWF0ZV9wcm9qZWN0Il0sImlzX2FjdGl2ZSI6dHJ1ZX0sInJvbGVzIjpbImFkbWluIl19.OobZXqaQ64HJIexnb-XbpsmN6GPQgcjMNH65xEorcLs; csrf_access_token=ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1ijg.IoeFY8iEDk5d5mrqCQcKBaMKjNk; csrf_token=ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1ijg.IoeFY8iEDk5d5mrqCQcKBaMKjNk; session=eyJjc3JmX3Rva2VuIjoiYTJmNTJmZmYxYjQzNmIzZDgzMmVmYzBmNGVjMTA4ZTUyOTRjYTYxZiJ9.aB1j2A.ptP1o9GMXQgZfxQyaYD9GbkixQ0'}
2025-05-09 10:09:28,639 - app - INFO - 处理表单格式的登录请求
2025-05-09 10:09:28,640 - app - INFO - 表单数据: username=admin, password=********
2025-05-09 10:09:28,642 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:28,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:28,643 - sqlalchemy.engine.Engine - INFO - [cached since 33.21s ago] ('admin', 1, 0)
2025-05-09 10:09:29,109 - app - INFO - 已生成CSRF令牌: ImEyZjUyZm...
2025-05-09 10:09:29,118 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:29,119 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] (1,)
2025-05-09 10:09:29,121 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:09:29,123 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 10:09:29,128 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:29,129 - sqlalchemy.engine.Engine - INFO - [cached since 33.71s ago] (1,)
2025-05-09 10:09:29,132 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 10:09:29,135 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 10:09:29,137 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 10:09:29,147 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=?, last_login=? WHERE users.id = ?
2025-05-09 10:09:29,148 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('2025-05-09 02:09:29.147777', '2025-05-09 02:09:29.140760', 1)
2025-05-09 10:09:29,152 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:09:29,170 - app - INFO - 用户登录成功: admin
2025-05-09 10:09:29,182 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 10:09:29,196 - app.utils.jwt_callbacks - INFO - Checking if token d266ddae-0535-4a0f-956d-d5fc8570912d is in blocklist
2025-05-09 10:09:29,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:29,201 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:29,204 - sqlalchemy.engine.Engine - INFO - [generated in 0.00255s] ('d266ddae-0535-4a0f-956d-d5fc8570912d', 1, 0)
2025-05-09 10:09:29,206 - app.utils.jwt_callbacks - INFO - Token d266ddae-0535-4a0f-956d-d5fc8570912d is valid
2025-05-09 10:09:29,209 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:29,211 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:29,213 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756569, 'jti': 'd266ddae-0535-4a0f-956d-d5fc8570912d', 'type': 'access', 'sub': 1, 'nbf': 1746756569, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j2Q.0FD5sb41l0_AlOineWVCBnQmDIs', 'exp': 1746760169, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:09:29,216 - app.utils.jwt_callbacks - INFO - Token time difference: -0.216146 seconds
2025-05-09 10:09:29,218 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:29,219 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:09:29,224 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:29,225 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] (1,)
2025-05-09 10:09:29,226 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:09:29,229 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:29,231 - sqlalchemy.engine.Engine - INFO - [cached since 0.1134s ago] (1,)
2025-05-09 10:09:29,233 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:09:29,235 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:29,236 - sqlalchemy.engine.Engine - INFO - [cached since 33.82s ago] (1,)
2025-05-09 10:09:29,238 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:09:29,239 - app.utils.jwt_callbacks - INFO - Checking if token d266ddae-0535-4a0f-956d-d5fc8570912d is in blocklist
2025-05-09 10:09:29,241 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:29,244 - sqlalchemy.engine.Engine - INFO - [cached since 0.04228s ago] ('d266ddae-0535-4a0f-956d-d5fc8570912d', 1, 0)
2025-05-09 10:09:29,245 - app.utils.jwt_callbacks - INFO - Token d266ddae-0535-4a0f-956d-d5fc8570912d is valid
2025-05-09 10:09:29,249 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:29,252 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:29,253 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756569, 'jti': 'd266ddae-0535-4a0f-956d-d5fc8570912d', 'type': 'access', 'sub': 1, 'nbf': 1746756569, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j2Q.0FD5sb41l0_AlOineWVCBnQmDIs', 'exp': 1746760169, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:09:29,256 - app.utils.jwt_callbacks - INFO - Token time difference: -0.256711 seconds
2025-05-09 10:09:29,259 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:29,261 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:09:29,265 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:09:29,267 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:09:29,269 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:09:29,271 - app - INFO - Dashboard access with user ID: 1
2025-05-09 10:09:29,272 - app - INFO - Token found in: cookies
2025-05-09 10:09:29,274 - app - INFO - Dashboard context user_data: {'id': 1, 'username': 'admin', 'email': 'admin@example.com', 'name': '管理员', 'is_active': True, 'created_at': '2025-05-07T01:07:21.773527', 'last_login': '2025-05-09T02:09:29.140760', 'roles': ['admin'], 'permissions': ['manage_resources', 'view_reports', 'view_task', 'change_task_status', 'view_project', 'assign_task', 'manage_all_tasks', 'manage_users', 'create_project', 'manage_risks', 'manage_all_projects', 'manage_roles', 'manage_task', 'create_task', 'manage_project', 'change_project_status']}
2025-05-09 10:09:29,277 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:09:29,280 - app - INFO - 用户 admin 的权限: ['manage_resources', 'view_reports', 'view_task', 'change_task_status', 'view_project', 'assign_task', 'manage_all_tasks', 'manage_users', 'create_project', 'manage_risks', 'manage_all_projects', 'manage_roles', 'manage_task', 'create_task', 'manage_project', 'change_project_status']
2025-05-09 10:09:29,283 - app - INFO - 用户 admin - 是否管理员: True, 是否项目经理: False
2025-05-09 10:09:29,310 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:29,312 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:09:29,349 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,350 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,355 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,356 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,364 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,364 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,365 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,368 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:29,386 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:29] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,311 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:09:30,313 - app.utils.jwt_callbacks - INFO - Checking if token d266ddae-0535-4a0f-956d-d5fc8570912d is in blocklist
2025-05-09 10:09:30,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:30,315 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:30,316 - sqlalchemy.engine.Engine - INFO - [cached since 1.115s ago] ('d266ddae-0535-4a0f-956d-d5fc8570912d', 1, 0)
2025-05-09 10:09:30,318 - app.utils.jwt_callbacks - INFO - Token d266ddae-0535-4a0f-956d-d5fc8570912d is valid
2025-05-09 10:09:30,319 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:30,319 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:30,319 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756569, 'jti': 'd266ddae-0535-4a0f-956d-d5fc8570912d', 'type': 'access', 'sub': 1, 'nbf': 1746756569, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j2Q.0FD5sb41l0_AlOineWVCBnQmDIs', 'exp': 1746760169, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:09:30,320 - app.utils.jwt_callbacks - INFO - Token time difference: -1.320229 seconds
2025-05-09 10:09:30,320 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:30,321 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:09:30,322 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:30,322 - sqlalchemy.engine.Engine - INFO - [cached since 1.098s ago] (1,)
2025-05-09 10:09:30,322 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:09:30,324 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:30,324 - sqlalchemy.engine.Engine - INFO - [cached since 1.207s ago] (1,)
2025-05-09 10:09:30,326 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:09:30,327 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:30,327 - sqlalchemy.engine.Engine - INFO - [cached since 34.91s ago] (1,)
2025-05-09 10:09:30,329 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:09:30,329 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:09:30,331 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:09:30,332 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ()
2025-05-09 10:09:30,333 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:30,334 - sqlalchemy.engine.Engine - INFO - [cached since 1.11s ago] (5,)
2025-05-09 10:09:30,336 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:30,337 - sqlalchemy.engine.Engine - INFO - [cached since 1.112s ago] (8,)
2025-05-09 10:09:30,339 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:30,339 - sqlalchemy.engine.Engine - INFO - [cached since 1.115s ago] (5,)
2025-05-09 10:09:30,370 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:30,371 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:09:30,401 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,406 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,406 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,406 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,410 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,412 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,413 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,421 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,424 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,425 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:30,445 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:30] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:09:32,530 - app.utils.jwt_callbacks - INFO - Checking if token d266ddae-0535-4a0f-956d-d5fc8570912d is in blocklist
2025-05-09 10:09:32,532 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:32,533 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:32,534 - sqlalchemy.engine.Engine - INFO - [cached since 3.333s ago] ('d266ddae-0535-4a0f-956d-d5fc8570912d', 1, 0)
2025-05-09 10:09:32,535 - app.utils.jwt_callbacks - INFO - Token d266ddae-0535-4a0f-956d-d5fc8570912d is valid
2025-05-09 10:09:32,535 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:32,538 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:32,539 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756569, 'jti': 'd266ddae-0535-4a0f-956d-d5fc8570912d', 'type': 'access', 'sub': 1, 'nbf': 1746756569, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j2Q.0FD5sb41l0_AlOineWVCBnQmDIs', 'exp': 1746760169, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:09:32,542 - app.utils.jwt_callbacks - INFO - Token time difference: -3.542657 seconds
2025-05-09 10:09:32,544 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:32,545 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:09:32,546 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:32,547 - sqlalchemy.engine.Engine - INFO - [cached since 3.322s ago] (1,)
2025-05-09 10:09:32,548 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:09:32,550 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:32,551 - sqlalchemy.engine.Engine - INFO - [cached since 3.433s ago] (1,)
2025-05-09 10:09:32,552 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:09:32,553 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:32,553 - sqlalchemy.engine.Engine - INFO - [cached since 37.13s ago] (1,)
2025-05-09 10:09:32,554 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:09:32,557 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 10:09:32,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] (1,)
2025-05-09 10:09:32,559 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:32,560 - sqlalchemy.engine.Engine - INFO - [cached since 3.336s ago] (5,)
2025-05-09 10:09:32,564 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.is_active = 1
2025-05-09 10:09:32,566 - sqlalchemy.engine.Engine - INFO - [generated in 0.00110s] ()
2025-05-09 10:09:32,569 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:32,570 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:32] "GET /api/noauth/projects/1 HTTP/1.1" 200 -
2025-05-09 10:09:40,397 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:40] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,800 - app - WARNING - 绕过JWT验证: /logout
2025-05-09 10:09:43,801 - app.utils.jwt_callbacks - INFO - Checking if token d266ddae-0535-4a0f-956d-d5fc8570912d is in blocklist
2025-05-09 10:09:43,802 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:43,804 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:43,805 - sqlalchemy.engine.Engine - INFO - [cached since 14.6s ago] ('d266ddae-0535-4a0f-956d-d5fc8570912d', 1, 0)
2025-05-09 10:09:43,806 - app.utils.jwt_callbacks - INFO - Token d266ddae-0535-4a0f-956d-d5fc8570912d is valid
2025-05-09 10:09:43,807 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:43,808 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:43,809 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756569, 'jti': 'd266ddae-0535-4a0f-956d-d5fc8570912d', 'type': 'access', 'sub': 1, 'nbf': 1746756569, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j2Q.0FD5sb41l0_AlOineWVCBnQmDIs', 'exp': 1746760169, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:09:43,811 - app.utils.jwt_callbacks - INFO - Token time difference: -14.811343 seconds
2025-05-09 10:09:43,813 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:43,814 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:09:43,815 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:43,815 - sqlalchemy.engine.Engine - INFO - [cached since 14.59s ago] (1,)
2025-05-09 10:09:43,816 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:09:43,818 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:43,820 - sqlalchemy.engine.Engine - INFO - [cached since 14.7s ago] (1,)
2025-05-09 10:09:43,821 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:09:43,822 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:43,822 - sqlalchemy.engine.Engine - INFO - [cached since 48.4s ago] (1,)
2025-05-09 10:09:43,823 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:09:43,825 - app - INFO - 将令牌加入黑名单: d266ddae-0535-4a0f-956d-d5fc8570912d - 用户ID: 1
2025-05-09 10:09:43,829 - sqlalchemy.engine.Engine - INFO - INSERT INTO token_blacklist (jti, token_type, user_id, revoked_at, expires_at) VALUES (?, ?, ?, ?, ?)
2025-05-09 10:09:43,829 - sqlalchemy.engine.Engine - INFO - [generated in 0.00110s] ('d266ddae-0535-4a0f-956d-d5fc8570912d', 'access', 1, '2025-05-09 02:09:43.828332', '2025-05-09 11:09:29.000000')
2025-05-09 10:09:43,832 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:09:43,840 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "POST /logout?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:09:43,860 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "GET /login HTTP/1.1" 200 -
2025-05-09 10:09:43,891 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,892 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,894 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,897 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,899 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,901 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/images/background.png HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,902 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,910 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,911 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,914 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/js/background-helper.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:43,916 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:09:43,930 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:43] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:09:44,925 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:44] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:09:47,561 - app - INFO - 登录请求 - 方法: POST, 内容类型: application/x-www-form-urlencoded
2025-05-09 10:09:47,562 - app - INFO - 请求头: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '135', 'Cache-Control': 'max-age=0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Origin': 'http://127.0.0.1:5000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://127.0.0.1:5000/login', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Cookie': 'user_roles=admin; session=eyJjc3JmX3Rva2VuIjoiYTJmNTJmZmYxYjQzNmIzZDgzMmVmYzBmNGVjMTA4ZTUyOTRjYTYxZiJ9.aB1j6A.0XMnQrcpLf6Z869iftlE4ekNwFQ'}
2025-05-09 10:09:47,563 - app - INFO - 处理表单格式的登录请求
2025-05-09 10:09:47,564 - app - INFO - 表单数据: username=user3, password=********
2025-05-09 10:09:47,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:47,567 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:47,567 - sqlalchemy.engine.Engine - INFO - [cached since 52.13s ago] ('user3', 1, 0)
2025-05-09 10:09:48,046 - app - INFO - 已生成CSRF令牌: ImEyZjUyZm...
2025-05-09 10:09:48,048 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:48,049 - sqlalchemy.engine.Engine - INFO - [cached since 18.93s ago] (9,)
2025-05-09 10:09:48,051 - app - INFO - 用户 user3 的角色: ['user']
2025-05-09 10:09:48,054 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 9
2025-05-09 10:09:48,058 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:48,059 - sqlalchemy.engine.Engine - INFO - [cached since 52.64s ago] (5,)
2025-05-09 10:09:48,060 - app.utils.jwt_callbacks - INFO - Added claims for user 9: {'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}}
2025-05-09 10:09:48,065 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 9
2025-05-09 10:09:48,068 - app.utils.jwt_callbacks - INFO - Added claims for user 9: {'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}}
2025-05-09 10:09:48,072 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=?, last_login=? WHERE users.id = ?
2025-05-09 10:09:48,075 - sqlalchemy.engine.Engine - INFO - [cached since 18.93s ago] ('2025-05-09 02:09:48.072925', '2025-05-09 02:09:48.069790', 9)
2025-05-09 10:09:48,080 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:09:48,093 - app - INFO - 用户登录成功: user3
2025-05-09 10:09:48,096 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 10:09:48,120 - app.utils.jwt_callbacks - INFO - Checking if token 29a08c63-cf2e-4470-a29e-56b898933823 is in blocklist
2025-05-09 10:09:48,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:48,127 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:48,128 - sqlalchemy.engine.Engine - INFO - [cached since 18.93s ago] ('29a08c63-cf2e-4470-a29e-56b898933823', 1, 0)
2025-05-09 10:09:48,130 - app.utils.jwt_callbacks - INFO - Token 29a08c63-cf2e-4470-a29e-56b898933823 is valid
2025-05-09 10:09:48,134 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:48,138 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:48,143 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756588, 'jti': '29a08c63-cf2e-4470-a29e-56b898933823', 'type': 'access', 'sub': 9, 'nbf': 1746756588, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j7A.Y9ib_oMBw4BxEXYb827w67Yctrc', 'exp': 1746760188, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:09:48,145 - app.utils.jwt_callbacks - INFO - Token time difference: -0.145428 seconds
2025-05-09 10:09:48,147 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:48,150 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:09:48,151 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:48,152 - sqlalchemy.engine.Engine - INFO - [cached since 18.93s ago] (9,)
2025-05-09 10:09:48,155 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:09:48,157 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:48,159 - sqlalchemy.engine.Engine - INFO - [cached since 19.04s ago] (9,)
2025-05-09 10:09:48,160 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:09:48,164 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:48,165 - sqlalchemy.engine.Engine - INFO - [cached since 52.74s ago] (5,)
2025-05-09 10:09:48,165 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:09:48,167 - app.utils.jwt_callbacks - INFO - Checking if token 29a08c63-cf2e-4470-a29e-56b898933823 is in blocklist
2025-05-09 10:09:48,170 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:48,172 - sqlalchemy.engine.Engine - INFO - [cached since 18.97s ago] ('29a08c63-cf2e-4470-a29e-56b898933823', 1, 0)
2025-05-09 10:09:48,173 - app.utils.jwt_callbacks - INFO - Token 29a08c63-cf2e-4470-a29e-56b898933823 is valid
2025-05-09 10:09:48,176 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:48,178 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:48,180 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756588, 'jti': '29a08c63-cf2e-4470-a29e-56b898933823', 'type': 'access', 'sub': 9, 'nbf': 1746756588, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j7A.Y9ib_oMBw4BxEXYb827w67Yctrc', 'exp': 1746760188, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:09:48,181 - app.utils.jwt_callbacks - INFO - Token time difference: -0.181445 seconds
2025-05-09 10:09:48,183 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:48,184 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:09:48,185 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:09:48,190 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:09:48,192 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:09:48,193 - app - INFO - Dashboard access with user ID: 9
2025-05-09 10:09:48,195 - app - INFO - Token found in: cookies
2025-05-09 10:09:48,197 - app - INFO - Dashboard context user_data: {'id': 9, 'username': 'user3', 'email': 'errr@163.com', 'name': 'user3', 'is_active': True, 'created_at': '2025-05-08T02:55:24.302933', 'last_login': '2025-05-09T02:09:48.069790', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports']}
2025-05-09 10:09:48,198 - app - INFO - 用户 user3 的角色: ['user']
2025-05-09 10:09:48,200 - app - INFO - 用户 user3 的权限: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:09:48,204 - app - INFO - 用户 user3 - 是否管理员: False, 是否项目经理: False
2025-05-09 10:09:48,209 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:48,209 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:09:48,247 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,250 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,251 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,252 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,257 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,258 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,262 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,265 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:48,280 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:48] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,747 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:09:49,748 - app.utils.jwt_callbacks - INFO - Checking if token 29a08c63-cf2e-4470-a29e-56b898933823 is in blocklist
2025-05-09 10:09:49,749 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:49,750 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:49,750 - sqlalchemy.engine.Engine - INFO - [cached since 20.55s ago] ('29a08c63-cf2e-4470-a29e-56b898933823', 1, 0)
2025-05-09 10:09:49,751 - app.utils.jwt_callbacks - INFO - Token 29a08c63-cf2e-4470-a29e-56b898933823 is valid
2025-05-09 10:09:49,751 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:49,751 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:49,753 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756588, 'jti': '29a08c63-cf2e-4470-a29e-56b898933823', 'type': 'access', 'sub': 9, 'nbf': 1746756588, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j7A.Y9ib_oMBw4BxEXYb827w67Yctrc', 'exp': 1746760188, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:09:49,755 - app.utils.jwt_callbacks - INFO - Token time difference: -1.755126 seconds
2025-05-09 10:09:49,755 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:49,755 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:09:49,756 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:49,757 - sqlalchemy.engine.Engine - INFO - [cached since 20.53s ago] (9,)
2025-05-09 10:09:49,758 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:09:49,759 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:49,759 - sqlalchemy.engine.Engine - INFO - [cached since 20.64s ago] (9,)
2025-05-09 10:09:49,760 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:09:49,761 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:49,761 - sqlalchemy.engine.Engine - INFO - [cached since 54.34s ago] (5,)
2025-05-09 10:09:49,762 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:09:49,762 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:09:49,764 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:49,765 - sqlalchemy.engine.Engine - INFO - [cached since 20.54s ago] (1,)
2025-05-09 10:09:49,766 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:49,767 - sqlalchemy.engine.Engine - INFO - [cached since 20.65s ago] (1,)
2025-05-09 10:09:49,769 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:49,770 - sqlalchemy.engine.Engine - INFO - [cached since 54.35s ago] (1,)
2025-05-09 10:09:49,772 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:09:49,773 - sqlalchemy.engine.Engine - INFO - [cached since 19.44s ago] ()
2025-05-09 10:09:49,775 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:49,776 - sqlalchemy.engine.Engine - INFO - [cached since 20.55s ago] (5,)
2025-05-09 10:09:49,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:49,777 - sqlalchemy.engine.Engine - INFO - [cached since 20.55s ago] (8,)
2025-05-09 10:09:49,778 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:49,779 - sqlalchemy.engine.Engine - INFO - [cached since 20.55s ago] (5,)
2025-05-09 10:09:49,782 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:49,783 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:09:49,820 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,821 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,822 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,825 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,830 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,830 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,831 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,835 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,835 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,838 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:49,857 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:49] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:09:55,825 - app.utils.jwt_callbacks - INFO - Checking if token 29a08c63-cf2e-4470-a29e-56b898933823 is in blocklist
2025-05-09 10:09:55,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:55,828 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:55,829 - sqlalchemy.engine.Engine - INFO - [cached since 26.63s ago] ('29a08c63-cf2e-4470-a29e-56b898933823', 1, 0)
2025-05-09 10:09:55,830 - app.utils.jwt_callbacks - INFO - Token 29a08c63-cf2e-4470-a29e-56b898933823 is valid
2025-05-09 10:09:55,831 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:55,833 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:55,833 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756588, 'jti': '29a08c63-cf2e-4470-a29e-56b898933823', 'type': 'access', 'sub': 9, 'nbf': 1746756588, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j7A.Y9ib_oMBw4BxEXYb827w67Yctrc', 'exp': 1746760188, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:09:55,835 - app.utils.jwt_callbacks - INFO - Token time difference: -7.835212 seconds
2025-05-09 10:09:55,836 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:55,836 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:09:55,838 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:55,839 - sqlalchemy.engine.Engine - INFO - [cached since 26.62s ago] (9,)
2025-05-09 10:09:55,841 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:09:55,842 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:55,843 - sqlalchemy.engine.Engine - INFO - [cached since 26.72s ago] (9,)
2025-05-09 10:09:55,844 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:09:55,846 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:55,847 - sqlalchemy.engine.Engine - INFO - [cached since 60.43s ago] (5,)
2025-05-09 10:09:55,848 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:09:55,849 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 10:09:55,850 - sqlalchemy.engine.Engine - INFO - [cached since 23.29s ago] (1,)
2025-05-09 10:09:55,851 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:55,851 - sqlalchemy.engine.Engine - INFO - [cached since 26.63s ago] (5,)
2025-05-09 10:09:55,853 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.is_active = 1
2025-05-09 10:09:55,855 - sqlalchemy.engine.Engine - INFO - [cached since 23.29s ago] ()
2025-05-09 10:09:55,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:55,857 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:55] "GET /api/noauth/projects/1 HTTP/1.1" 200 -
2025-05-09 10:09:58,649 - app - WARNING - 绕过JWT验证: /api/noauth/projects/1
2025-05-09 10:09:58,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:58,651 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 10:09:58,651 - sqlalchemy.engine.Engine - INFO - [cached since 26.09s ago] (1,)
2025-05-09 10:09:58,654 - sqlalchemy.engine.Engine - INFO - UPDATE projects SET name=?, updated_at=?, manager_id=? WHERE projects.id = ?
2025-05-09 10:09:58,655 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] ('测试项目 122fffddd', '2025-05-09 10:09:58.653052', '5', 1)
2025-05-09 10:09:58,659 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:09:58,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:58,666 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 10:09:58,668 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] (1,)
2025-05-09 10:09:58,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:58,669 - sqlalchemy.engine.Engine - INFO - [cached since 29.44s ago] (5,)
2025-05-09 10:09:58,671 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:58,672 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:58] "PUT /api/noauth/projects/1?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:09:59,494 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:09:59,496 - app.utils.jwt_callbacks - INFO - Checking if token 29a08c63-cf2e-4470-a29e-56b898933823 is in blocklist
2025-05-09 10:09:59,497 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:09:59,498 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:09:59,498 - sqlalchemy.engine.Engine - INFO - [cached since 30.3s ago] ('29a08c63-cf2e-4470-a29e-56b898933823', 1, 0)
2025-05-09 10:09:59,499 - app.utils.jwt_callbacks - INFO - Token 29a08c63-cf2e-4470-a29e-56b898933823 is valid
2025-05-09 10:09:59,500 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:09:59,502 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:09:59,503 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756588, 'jti': '29a08c63-cf2e-4470-a29e-56b898933823', 'type': 'access', 'sub': 9, 'nbf': 1746756588, 'csrf': 'ImEyZjUyZmZmMWI0MzZiM2Q4MzJlZmMwZjRlYzEwOGU1Mjk0Y2E2MWYi.aB1j7A.Y9ib_oMBw4BxEXYb827w67Yctrc', 'exp': 1746760188, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:09:59,505 - app.utils.jwt_callbacks - INFO - Token time difference: -11.505904 seconds
2025-05-09 10:09:59,507 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:09:59,510 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:09:59,512 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:59,513 - sqlalchemy.engine.Engine - INFO - [cached since 30.29s ago] (9,)
2025-05-09 10:09:59,514 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:09:59,515 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:59,516 - sqlalchemy.engine.Engine - INFO - [cached since 30.4s ago] (9,)
2025-05-09 10:09:59,516 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:09:59,518 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:59,519 - sqlalchemy.engine.Engine - INFO - [cached since 64.1s ago] (5,)
2025-05-09 10:09:59,520 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:09:59,522 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:09:59,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:59,525 - sqlalchemy.engine.Engine - INFO - [cached since 30.3s ago] (1,)
2025-05-09 10:09:59,529 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:09:59,529 - sqlalchemy.engine.Engine - INFO - [cached since 30.41s ago] (1,)
2025-05-09 10:09:59,531 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:09:59,531 - sqlalchemy.engine.Engine - INFO - [cached since 64.11s ago] (1,)
2025-05-09 10:09:59,533 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:09:59,534 - sqlalchemy.engine.Engine - INFO - [cached since 29.2s ago] ()
2025-05-09 10:09:59,537 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:59,538 - sqlalchemy.engine.Engine - INFO - [cached since 30.31s ago] (5,)
2025-05-09 10:09:59,540 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:59,541 - sqlalchemy.engine.Engine - INFO - [cached since 30.32s ago] (8,)
2025-05-09 10:09:59,543 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:09:59,543 - sqlalchemy.engine.Engine - INFO - [cached since 30.32s ago] (5,)
2025-05-09 10:09:59,545 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:09:59,546 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:09:59,569 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,571 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,575 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,576 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,579 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,581 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,586 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,590 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,592 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,592 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:09:59,609 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:09:59] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:10:07,679 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:10:07] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:11:44,144 - werkzeug - INFO -  * Detected change in 'D:\\tmp\\work\\app\\utils\\permissions.py', reloading
2025-05-09 10:11:44,367 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:11:45,022 - app - INFO - File logging handler initialized successfully
2025-05-09 10:11:45,022 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:11:45,022 - app - INFO - Application logging configuration completed
2025-05-09 10:11:45,022 - app - INFO - Development configuration initialized
2025-05-09 10:11:45,051 - app - INFO - Logging setup completed successfully
2025-05-09 10:11:45,288 - app - INFO - 已注册的路由:
2025-05-09 10:11:45,291 - app - INFO - 路由: /static/<path:filename> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: static
2025-05-09 10:11:45,291 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'POST', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:11:45,291 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:11:45,291 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,292 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,292 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,292 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,293 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'OPTIONS', 'POST', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,293 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'OPTIONS', 'POST', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,293 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,294 - app - INFO - 路由: /api/tasks - 方法: {'OPTIONS', 'POST', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:11:45,294 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.login_page
2025-05-09 10:11:45,294 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'POST'} - 终端: auth.login
2025-05-09 10:11:45,295 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.register_page
2025-05-09 10:11:45,295 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'POST'} - 终端: auth.register
2025-05-09 10:11:45,295 - app - INFO - 路由: /logout - 方法: {'OPTIONS', 'HEAD', 'GET', 'POST'} - 终端: auth.logout
2025-05-09 10:11:45,295 - app - INFO - 路由: /refresh - 方法: {'OPTIONS', 'POST'} - 终端: auth.refresh
2025-05-09 10:11:45,295 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.profile
2025-05-09 10:11:45,295 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:11:45,296 - app - INFO - 路由: /users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_users
2025-05-09 10:11:45,296 - app - INFO - 路由: /users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_by_id
2025-05-09 10:11:45,296 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:11:45,296 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_roles
2025-05-09 10:11:45,296 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permissions
2025-05-09 10:11:45,297 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_permission
2025-05-09 10:11:45,297 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permission
2025-05-09 10:11:45,297 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:11:45,297 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_permission
2025-05-09 10:11:45,297 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_role
2025-05-09 10:11:45,297 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_role
2025-05-09 10:11:45,298 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:11:45,298 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_role
2025-05-09 10:11:45,298 - app - INFO - 路由: /dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard
2025-05-09 10:11:45,298 - app - INFO - 路由: /dashboard/redirect - 方法: {'OPTIONS', 'HEAD', 'GET', 'POST'} - 终端: auth.dashboard_redirect
2025-05-09 10:11:45,298 - app - INFO - 路由: /create_test_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_user
2025-05-09 10:11:45,299 - app - INFO - 路由: /check - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_auth
2025-05-09 10:11:45,299 - app - INFO - 路由: /create_test_project - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_project
2025-05-09 10:11:45,299 - app - INFO - 路由: /logout_all - 方法: {'OPTIONS', 'POST'} - 终端: auth.logout_all
2025-05-09 10:11:45,299 - app - INFO - 路由: /dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard_data
2025-05-09 10:11:45,300 - app - INFO - 路由: /check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_token
2025-05-09 10:11:45,300 - app - INFO - 路由: /create_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_user
2025-05-09 10:11:45,300 - app - INFO - 路由: /user_info - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_info
2025-05-09 10:11:45,300 - app - INFO - 路由: /user/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_user
2025-05-09 10:11:45,302 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_roles
2025-05-09 10:11:45,302 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:11:45,302 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_notifications
2025-05-09 10:11:45,302 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:11:45,302 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:11:45,303 - app - INFO - 路由: /change-password - 方法: {'OPTIONS', 'POST'} - 终端: auth.change_password
2025-05-09 10:11:45,303 - app - INFO - 路由: /reset-password - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.reset_password_page
2025-05-09 10:11:45,303 - app - INFO - 路由: /verify-email/confirm - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:11:45,303 - app - INFO - 路由: /auth/csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_csrf_token
2025-05-09 10:11:45,303 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:11:45,304 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.api_delete_user
2025-05-09 10:11:45,304 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.api_get_users
2025-05-09 10:11:45,304 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST'} - 终端: auth.api_create_user
2025-05-09 10:11:45,304 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_details
2025-05-09 10:11:45,305 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: auth.api_user_operations
2025-05-09 10:11:45,305 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_csrf_token
2025-05-09 10:11:45,305 - app - INFO - 路由: /main/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.index
2025-05-09 10:11:45,305 - app - INFO - 路由: /main/dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.dashboard
2025-05-09 10:11:45,305 - app - INFO - 路由: /main/check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.check_token
2025-05-09 10:11:45,305 - app - INFO - 路由: /main/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.projects
2025-05-09 10:11:45,306 - app - INFO - 路由: /main/tasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.tasks
2025-05-09 10:11:45,306 - app - INFO - 路由: /main/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.risks
2025-05-09 10:11:45,306 - app - INFO - 路由: /main/reports - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.reports
2025-05-09 10:11:45,306 - app - INFO - 路由: /main/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.resources
2025-05-09 10:11:45,307 - app - INFO - 路由: /main/profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.profile
2025-05-09 10:11:45,307 - app - INFO - 路由: /main/system/status - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.system_status
2025-05-09 10:11:45,307 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.get_dashboard_data
2025-05-09 10:11:45,307 - app - INFO - 路由: /main/test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.test_route
2025-05-09 10:11:45,307 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.project_detail_redirect
2025-05-09 10:11:45,307 - app - INFO - 路由: /main/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.users
2025-05-09 10:11:45,308 - app - INFO - 路由: /main/debug/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects
2025-05-09 10:11:45,308 - app - INFO - 路由: /main/simple/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.simple_projects
2025-05-09 10:11:45,308 - app - INFO - 路由: /main/static-test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.static_test
2025-05-09 10:11:45,309 - app - INFO - 路由: /main/print-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.print_projects
2025-05-09 10:11:45,309 - app - INFO - 路由: /main/bypass-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.bypass_projects
2025-05-09 10:11:45,309 - app - INFO - 路由: /main/debug-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects_api
2025-05-09 10:11:45,311 - app - INFO - 路由: /projects/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.project_list
2025-05-09 10:11:45,311 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects
2025-05-09 10:11:45,311 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project
2025-05-09 10:11:45,311 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project
2025-05-09 10:11:45,311 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:11:45,312 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project
2025-05-09 10:11:45,312 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_members
2025-05-09 10:11:45,312 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: projects.add_project_member
2025-05-09 10:11:45,312 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.remove_project_member
2025-05-09 10:11:45,312 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail
2025-05-09 10:11:45,313 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail_api
2025-05-09 10:11:45,313 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_api
2025-05-09 10:11:45,313 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:11:45,313 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project_api
2025-05-09 10:11:45,313 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects_api
2025-05-09 10:11:45,314 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_auth_api
2025-05-09 10:11:45,314 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: projects.get_project_noauth
2025-05-09 10:11:45,314 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project_auth
2025-05-09 10:11:45,315 - app - INFO - 路由: /projects/api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_managers
2025-05-09 10:11:45,315 - app - INFO - 路由: /projects/api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_all_projects_api
2025-05-09 10:11:45,315 - app - INFO - 路由: /projects/api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_active_projects_api
2025-05-09 10:11:45,315 - app - INFO - 路由: /list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.project_list
2025-05-09 10:11:45,315 - app - INFO - 路由: / - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects
2025-05-09 10:11:45,316 - app - INFO - 路由: / - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project
2025-05-09 10:11:45,316 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project
2025-05-09 10:11:45,316 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:11:45,316 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project
2025-05-09 10:11:45,316 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_members
2025-05-09 10:11:45,317 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: project_root.add_project_member
2025-05-09 10:11:45,317 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.remove_project_member
2025-05-09 10:11:45,317 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail
2025-05-09 10:11:45,317 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail_api
2025-05-09 10:11:45,318 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_api
2025-05-09 10:11:45,318 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:11:45,318 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project_api
2025-05-09 10:11:45,318 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects_api
2025-05-09 10:11:45,318 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_auth_api
2025-05-09 10:11:45,319 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'DELETE', 'HEAD', 'PUT'} - 终端: project_root.get_project_noauth
2025-05-09 10:11:45,319 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project_auth
2025-05-09 10:11:45,320 - app - INFO - 路由: /api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_managers
2025-05-09 10:11:45,320 - app - INFO - 路由: /api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_all_projects_api
2025-05-09 10:11:45,320 - app - INFO - 路由: /api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_active_projects_api
2025-05-09 10:11:45,320 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_tasks
2025-05-09 10:11:45,320 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task
2025-05-09 10:11:45,321 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task
2025-05-09 10:11:45,321 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 10:11:45,321 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_task
2025-05-09 10:11:45,321 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments
2025-05-09 10:11:45,321 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment
2025-05-09 10:11:45,323 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments
2025-05-09 10:11:45,323 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment
2025-05-09 10:11:45,323 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_resources
2025-05-09 10:11:45,323 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks
2025-05-09 10:11:45,323 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_subtask
2025-05-09 10:11:45,323 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_dependencies
2025-05-09 10:11:45,324 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_dependency
2025-05-09 10:11:45,324 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs
2025-05-09 10:11:45,324 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_log
2025-05-09 10:11:45,324 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.gantt_chart
2025-05-09 10:11:45,325 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_gantt_data
2025-05-09 10:11:45,325 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 10:11:45,325 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:11:45,325 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:11:45,325 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 10:11:45,326 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_dependency
2025-05-09 10:11:45,326 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api
2025-05-09 10:11:45,326 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:11:45,327 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_page
2025-05-09 10:11:45,327 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.edit_task_page
2025-05-09 10:11:45,328 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:11:45,328 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment_auth
2025-05-09 10:11:45,328 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_attachment
2025-05-09 10:11:45,328 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment
2025-05-09 10:11:45,328 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_attachment
2025-05-09 10:11:45,329 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_new_version
2025-05-09 10:11:45,329 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_attachment_versions
2025-05-09 10:11:45,330 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_risks_front_path
2025-05-09 10:11:45,330 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:11:45,331 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_progress
2025-05-09 10:11:45,331 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'POST'} - 终端: tasks.update_task_progress
2025-05-09 10:11:45,331 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'OPTIONS', 'POST'} - 终端: tasks.approve_task_progress
2025-05-09 10:11:45,331 - app - INFO - 路由: /tasks/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_list
2025-05-09 10:11:45,332 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:11:45,332 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:11:45,332 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:11:45,332 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:11:45,332 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:11:45,333 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:11:45,333 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:11:45,333 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 10:11:45,333 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:11:45,334 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_csrf_token
2025-05-09 10:11:45,334 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:11:45,377 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:11:45,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:11:45,493 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,494 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('manage_users', 1, 0)
2025-05-09 10:11:45,494 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:11:45,495 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,495 - sqlalchemy.engine.Engine - INFO - [cached since 0.002336s ago] ('manage_roles', 1, 0)
2025-05-09 10:11:45,496 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:11:45,496 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,496 - sqlalchemy.engine.Engine - INFO - [cached since 0.003702s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:11:45,497 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:11:45,497 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,497 - sqlalchemy.engine.Engine - INFO - [cached since 0.004607s ago] ('manage_project', 1, 0)
2025-05-09 10:11:45,498 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:11:45,498 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,498 - sqlalchemy.engine.Engine - INFO - [cached since 0.005529s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:11:45,499 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:11:45,499 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,499 - sqlalchemy.engine.Engine - INFO - [cached since 0.006388s ago] ('manage_task', 1, 0)
2025-05-09 10:11:45,499 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:11:45,500 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,500 - sqlalchemy.engine.Engine - INFO - [cached since 0.00722s ago] ('view_project', 1, 0)
2025-05-09 10:11:45,500 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:11:45,501 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,501 - sqlalchemy.engine.Engine - INFO - [cached since 0.008431s ago] ('view_task', 1, 0)
2025-05-09 10:11:45,502 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:11:45,502 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,502 - sqlalchemy.engine.Engine - INFO - [cached since 0.009648s ago] ('manage_resources', 1, 0)
2025-05-09 10:11:45,502 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:11:45,503 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,503 - sqlalchemy.engine.Engine - INFO - [cached since 0.01051s ago] ('manage_risks', 1, 0)
2025-05-09 10:11:45,503 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:11:45,504 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,504 - sqlalchemy.engine.Engine - INFO - [cached since 0.01136s ago] ('view_reports', 1, 0)
2025-05-09 10:11:45,504 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:11:45,504 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,504 - sqlalchemy.engine.Engine - INFO - [cached since 0.01216s ago] ('create_task', 1, 0)
2025-05-09 10:11:45,506 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:11:45,506 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,506 - sqlalchemy.engine.Engine - INFO - [cached since 0.01316s ago] ('create_project', 1, 0)
2025-05-09 10:11:45,507 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:11:45,507 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,507 - sqlalchemy.engine.Engine - INFO - [cached since 0.01407s ago] ('assign_task', 1, 0)
2025-05-09 10:11:45,507 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:11:45,508 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,508 - sqlalchemy.engine.Engine - INFO - [cached since 0.01491s ago] ('change_project_status', 1, 0)
2025-05-09 10:11:45,508 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:11:45,511 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,511 - sqlalchemy.engine.Engine - INFO - [cached since 0.01814s ago] ('change_task_status', 1, 0)
2025-05-09 10:11:45,512 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:11:45,513 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:11:45,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:11:45,513 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:11:45,515 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ()
2025-05-09 10:11:45,516 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,516 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ('admin', 1, 0)
2025-05-09 10:11:45,516 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:11:45,519 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:11:45,519 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (1,)
2025-05-09 10:11:45,520 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:11:45,520 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,520 - sqlalchemy.engine.Engine - INFO - [cached since 0.004665s ago] ('manager', 1, 0)
2025-05-09 10:11:45,521 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:11:45,521 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:11:45,521 - sqlalchemy.engine.Engine - INFO - [cached since 0.002757s ago] (2,)
2025-05-09 10:11:45,521 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:11:45,523 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:11:45,523 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:11:45,523 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:11:45,523 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:11:45,524 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:11:45,524 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:11:45,524 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:11:45,524 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:11:45,525 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:11:45,525 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:11:45,526 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:11:45,526 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,526 - sqlalchemy.engine.Engine - INFO - [cached since 0.01077s ago] ('user', 1, 0)
2025-05-09 10:11:45,527 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:11:45,527 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:11:45,527 - sqlalchemy.engine.Engine - INFO - [cached since 0.008813s ago] (5,)
2025-05-09 10:11:45,528 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:11:45,528 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:11:45,528 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:11:45,531 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:11:45,531 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:11:45,531 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:11:45,532 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:11:45,533 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,533 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('system', 1, 0)
2025-05-09 10:11:45,535 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,535 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('Test Project', 1, 0)
2025-05-09 10:11:45,535 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:11:45,535 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:11:45,536 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:11:45,536 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:11:45,536 - sqlalchemy.engine.Engine - INFO - [cached since 0.003972s ago] ('system', 1, 0)
2025-05-09 10:11:45,542 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:11:45,542 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (2, 12.1, 49.0, 10.9, 0.0, '2025-05-09 02:11:45.540823')
2025-05-09 10:11:45,546 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:11:45,551 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:11:45,551 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:11:45,552 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:11:45,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('2025-04-09 02:11:45.551241',)
2025-05-09 10:11:45,553 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:11:45,554 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('2025-05-02 02:11:45.553786',)
2025-05-09 10:11:45,555 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:11:45,555 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:11:45,560 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:11:45,562 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 10:13:27,498 - app - INFO - File logging handler initialized successfully
2025-05-09 10:13:27,498 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:13:27,498 - app - INFO - Application logging configuration completed
2025-05-09 10:13:27,498 - app - INFO - Development configuration initialized
2025-05-09 10:13:27,527 - app - INFO - Logging setup completed successfully
2025-05-09 10:13:27,775 - app - INFO - 已注册的路由:
2025-05-09 10:13:27,776 - app - INFO - 路由: /static/<path:filename> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: static
2025-05-09 10:13:27,776 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'POST', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:27,776 - app - INFO - 路由: /api/users - 方法: {'PUT', 'POST', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:27,776 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,776 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,778 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,778 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,778 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'POST', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,778 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'PUT', 'POST', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,778 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,778 - app - INFO - 路由: /api/tasks - 方法: {'PUT', 'POST', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:27,779 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.login_page
2025-05-09 10:13:27,779 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'POST'} - 终端: auth.login
2025-05-09 10:13:27,779 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.register_page
2025-05-09 10:13:27,779 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'POST'} - 终端: auth.register
2025-05-09 10:13:27,779 - app - INFO - 路由: /logout - 方法: {'GET', 'OPTIONS', 'HEAD', 'POST'} - 终端: auth.logout
2025-05-09 10:13:27,779 - app - INFO - 路由: /refresh - 方法: {'OPTIONS', 'POST'} - 终端: auth.refresh
2025-05-09 10:13:27,779 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.profile
2025-05-09 10:13:27,781 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_profile
2025-05-09 10:13:27,781 - app - INFO - 路由: /users - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_users
2025-05-09 10:13:27,781 - app - INFO - 路由: /users/<int:user_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_user_by_id
2025-05-09 10:13:27,781 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user
2025-05-09 10:13:27,781 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_roles
2025-05-09 10:13:27,783 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_permissions
2025-05-09 10:13:27,783 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_permission
2025-05-09 10:13:27,783 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_permission
2025-05-09 10:13:27,783 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_permission
2025-05-09 10:13:27,784 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_permission
2025-05-09 10:13:27,784 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_role
2025-05-09 10:13:27,784 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_role
2025-05-09 10:13:27,784 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_role_permissions
2025-05-09 10:13:27,784 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_role
2025-05-09 10:13:27,785 - app - INFO - 路由: /dashboard - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.dashboard
2025-05-09 10:13:27,785 - app - INFO - 路由: /dashboard/redirect - 方法: {'GET', 'OPTIONS', 'HEAD', 'POST'} - 终端: auth.dashboard_redirect
2025-05-09 10:13:27,785 - app - INFO - 路由: /create_test_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_user
2025-05-09 10:13:27,785 - app - INFO - 路由: /check - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.check_auth
2025-05-09 10:13:27,785 - app - INFO - 路由: /create_test_project - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_project
2025-05-09 10:13:27,786 - app - INFO - 路由: /logout_all - 方法: {'OPTIONS', 'POST'} - 终端: auth.logout_all
2025-05-09 10:13:27,786 - app - INFO - 路由: /dashboard/data - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.dashboard_data
2025-05-09 10:13:27,786 - app - INFO - 路由: /check_token - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.check_token
2025-05-09 10:13:27,787 - app - INFO - 路由: /create_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_user
2025-05-09 10:13:27,787 - app - INFO - 路由: /user_info - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_user_info
2025-05-09 10:13:27,787 - app - INFO - 路由: /user/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_user
2025-05-09 10:13:27,788 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_user_roles
2025-05-09 10:13:27,788 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user_roles
2025-05-09 10:13:27,788 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_user_notifications
2025-05-09 10:13:27,789 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_notification_as_read
2025-05-09 10:13:27,789 - app - INFO - 路由: /notifications/read_all - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:13:27,790 - app - INFO - 路由: /change-password - 方法: {'OPTIONS', 'POST'} - 终端: auth.change_password
2025-05-09 10:13:27,790 - app - INFO - 路由: /reset-password - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.reset_password_page
2025-05-09 10:13:27,790 - app - INFO - 路由: /verify-email/confirm - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:13:27,791 - app - INFO - 路由: /auth/csrf-token - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_csrf_token
2025-05-09 10:13:27,791 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.api_update_user
2025-05-09 10:13:27,792 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.api_delete_user
2025-05-09 10:13:27,792 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.api_get_users
2025-05-09 10:13:27,792 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST'} - 终端: auth.api_create_user
2025-05-09 10:13:27,793 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_user_details
2025-05-09 10:13:27,793 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: auth.api_user_operations
2025-05-09 10:13:27,793 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: auth.get_user_csrf_token
2025-05-09 10:13:27,794 - app - INFO - 路由: /main/ - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.index
2025-05-09 10:13:27,794 - app - INFO - 路由: /main/dashboard - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.dashboard
2025-05-09 10:13:27,794 - app - INFO - 路由: /main/check_token - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.check_token
2025-05-09 10:13:27,795 - app - INFO - 路由: /main/projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.projects
2025-05-09 10:13:27,795 - app - INFO - 路由: /main/tasks - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.tasks
2025-05-09 10:13:27,795 - app - INFO - 路由: /main/risks - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.risks
2025-05-09 10:13:27,795 - app - INFO - 路由: /main/reports - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.reports
2025-05-09 10:13:27,797 - app - INFO - 路由: /main/resources - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.resources
2025-05-09 10:13:27,797 - app - INFO - 路由: /main/profile - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.profile
2025-05-09 10:13:27,797 - app - INFO - 路由: /main/system/status - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.system_status
2025-05-09 10:13:27,797 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.get_dashboard_data
2025-05-09 10:13:27,798 - app - INFO - 路由: /main/test - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.test_route
2025-05-09 10:13:27,798 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.project_detail_redirect
2025-05-09 10:13:27,799 - app - INFO - 路由: /main/users - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.users
2025-05-09 10:13:27,799 - app - INFO - 路由: /main/debug/projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.debug_projects
2025-05-09 10:13:27,800 - app - INFO - 路由: /main/simple/projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.simple_projects
2025-05-09 10:13:27,800 - app - INFO - 路由: /main/static-test - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.static_test
2025-05-09 10:13:27,800 - app - INFO - 路由: /main/print-projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.print_projects
2025-05-09 10:13:27,801 - app - INFO - 路由: /main/bypass-projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.bypass_projects
2025-05-09 10:13:27,801 - app - INFO - 路由: /main/debug-projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: main.debug_projects_api
2025-05-09 10:13:27,802 - app - INFO - 路由: /projects/list - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.project_list
2025-05-09 10:13:27,802 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_projects
2025-05-09 10:13:27,802 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project
2025-05-09 10:13:27,803 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_project
2025-05-09 10:13:27,803 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project
2025-05-09 10:13:27,803 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project
2025-05-09 10:13:27,804 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_project_members
2025-05-09 10:13:27,804 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: projects.add_project_member
2025-05-09 10:13:27,804 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.remove_project_member
2025-05-09 10:13:27,804 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.detail
2025-05-09 10:13:27,805 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.detail_api
2025-05-09 10:13:27,805 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_project_api
2025-05-09 10:13:27,805 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project_api
2025-05-09 10:13:27,806 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project_api
2025-05-09 10:13:27,806 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_projects_api
2025-05-09 10:13:27,806 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_project_auth_api
2025-05-09 10:13:27,807 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: projects.get_project_noauth
2025-05-09 10:13:27,807 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project_auth
2025-05-09 10:13:27,807 - app - INFO - 路由: /projects/api/project-managers - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_project_managers
2025-05-09 10:13:27,809 - app - INFO - 路由: /projects/api/projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_all_projects_api
2025-05-09 10:13:27,809 - app - INFO - 路由: /projects/api/active-projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: projects.get_active_projects_api
2025-05-09 10:13:27,809 - app - INFO - 路由: /list - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.project_list
2025-05-09 10:13:27,809 - app - INFO - 路由: / - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_projects
2025-05-09 10:13:27,810 - app - INFO - 路由: / - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project
2025-05-09 10:13:27,810 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_project
2025-05-09 10:13:27,810 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project
2025-05-09 10:13:27,811 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project
2025-05-09 10:13:27,811 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_project_members
2025-05-09 10:13:27,811 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: project_root.add_project_member
2025-05-09 10:13:27,812 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.remove_project_member
2025-05-09 10:13:27,812 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.detail
2025-05-09 10:13:27,812 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.detail_api
2025-05-09 10:13:27,812 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_project_api
2025-05-09 10:13:27,813 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project_api
2025-05-09 10:13:27,813 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project_api
2025-05-09 10:13:27,814 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_projects_api
2025-05-09 10:13:27,814 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_project_auth_api
2025-05-09 10:13:27,814 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS', 'DELETE', 'GET', 'HEAD'} - 终端: project_root.get_project_noauth
2025-05-09 10:13:27,815 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project_auth
2025-05-09 10:13:27,815 - app - INFO - 路由: /api/project-managers - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_project_managers
2025-05-09 10:13:27,815 - app - INFO - 路由: /api/projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_all_projects_api
2025-05-09 10:13:27,816 - app - INFO - 路由: /api/active-projects - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: project_root.get_active_projects_api
2025-05-09 10:13:27,816 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_tasks
2025-05-09 10:13:27,816 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task
2025-05-09 10:13:27,816 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task
2025-05-09 10:13:27,817 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task
2025-05-09 10:13:27,817 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_task
2025-05-09 10:13:27,817 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_comments
2025-05-09 10:13:27,818 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment
2025-05-09 10:13:27,818 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_attachments
2025-05-09 10:13:27,818 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment
2025-05-09 10:13:27,818 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_resources
2025-05-09 10:13:27,818 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_subtasks
2025-05-09 10:13:27,819 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_subtask
2025-05-09 10:13:27,819 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_dependencies
2025-05-09 10:13:27,819 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_dependency
2025-05-09 10:13:27,821 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_logs
2025-05-09 10:13:27,821 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_log
2025-05-09 10:13:27,821 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.gantt_chart
2025-05-09 10:13:27,822 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_gantt_data
2025-05-09 10:13:27,822 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_gantt_task
2025-05-09 10:13:27,822 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:13:27,823 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:13:27,823 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_status
2025-05-09 10:13:27,823 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_dependency
2025-05-09 10:13:27,823 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.task_detail_api
2025-05-09 10:13:27,824 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:13:27,824 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.task_detail_page
2025-05-09 10:13:27,824 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.edit_task_page
2025-05-09 10:13:27,825 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:13:27,825 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.download_attachment_auth
2025-05-09 10:13:27,825 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_attachment
2025-05-09 10:13:27,826 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.download_attachment
2025-05-09 10:13:27,826 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_attachment
2025-05-09 10:13:27,827 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_new_version
2025-05-09 10:13:27,827 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_attachment_versions
2025-05-09 10:13:27,827 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.task_risks_front_path
2025-05-09 10:13:27,827 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:13:27,828 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_progress
2025-05-09 10:13:27,828 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'POST'} - 终端: tasks.update_task_progress
2025-05-09 10:13:27,828 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'OPTIONS', 'POST'} - 终端: tasks.approve_task_progress
2025-05-09 10:13:27,829 - app - INFO - 路由: /tasks/list - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.task_list
2025-05-09 10:13:27,829 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:13:27,830 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:13:27,830 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:13:27,830 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:13:27,831 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:13:27,831 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:13:27,831 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:13:27,832 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.api_update_task
2025-05-09 10:13:27,832 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:13:27,833 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'OPTIONS', 'HEAD', 'GET'} - 终端: tasks.get_csrf_token
2025-05-09 10:13:27,833 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:13:27,879 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:13:27,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:27,998 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:27,998 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('manage_users', 1, 0)
2025-05-09 10:13:27,999 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:13:28,000 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.002454s ago] ('manage_roles', 1, 0)
2025-05-09 10:13:28,001 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:13:28,001 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,001 - sqlalchemy.engine.Engine - INFO - [cached since 0.003612s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:13:28,002 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:13:28,002 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,002 - sqlalchemy.engine.Engine - INFO - [cached since 0.004736s ago] ('manage_project', 1, 0)
2025-05-09 10:13:28,002 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:13:28,003 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,003 - sqlalchemy.engine.Engine - INFO - [cached since 0.005595s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:13:28,003 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:13:28,003 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,004 - sqlalchemy.engine.Engine - INFO - [cached since 0.006399s ago] ('manage_task', 1, 0)
2025-05-09 10:13:28,004 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:13:28,004 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,004 - sqlalchemy.engine.Engine - INFO - [cached since 0.007088s ago] ('view_project', 1, 0)
2025-05-09 10:13:28,004 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:13:28,005 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,005 - sqlalchemy.engine.Engine - INFO - [cached since 0.007818s ago] ('view_task', 1, 0)
2025-05-09 10:13:28,006 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:13:28,006 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.009754s ago] ('manage_resources', 1, 0)
2025-05-09 10:13:28,008 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:13:28,009 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,009 - sqlalchemy.engine.Engine - INFO - [cached since 0.01114s ago] ('manage_risks', 1, 0)
2025-05-09 10:13:28,009 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:13:28,010 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,010 - sqlalchemy.engine.Engine - INFO - [cached since 0.01248s ago] ('view_reports', 1, 0)
2025-05-09 10:13:28,010 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:13:28,011 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,011 - sqlalchemy.engine.Engine - INFO - [cached since 0.01349s ago] ('create_task', 1, 0)
2025-05-09 10:13:28,011 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:13:28,011 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,011 - sqlalchemy.engine.Engine - INFO - [cached since 0.01428s ago] ('create_project', 1, 0)
2025-05-09 10:13:28,013 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:13:28,013 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,013 - sqlalchemy.engine.Engine - INFO - [cached since 0.01514s ago] ('assign_task', 1, 0)
2025-05-09 10:13:28,013 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:13:28,014 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,014 - sqlalchemy.engine.Engine - INFO - [cached since 0.01587s ago] ('change_project_status', 1, 0)
2025-05-09 10:13:28,014 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:13:28,014 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,014 - sqlalchemy.engine.Engine - INFO - [cached since 0.01666s ago] ('change_task_status', 1, 0)
2025-05-09 10:13:28,015 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:13:28,015 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:28,015 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:28,016 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:13:28,016 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-05-09 10:13:28,017 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,017 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('admin', 1, 0)
2025-05-09 10:13:28,017 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:13:28,020 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:28,020 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (1,)
2025-05-09 10:13:28,020 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:13:28,021 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,021 - sqlalchemy.engine.Engine - INFO - [cached since 0.003806s ago] ('manager', 1, 0)
2025-05-09 10:13:28,021 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:13:28,021 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:28,021 - sqlalchemy.engine.Engine - INFO - [cached since 0.002186s ago] (2,)
2025-05-09 10:13:28,022 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:13:28,022 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:13:28,022 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:13:28,022 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:13:28,023 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:13:28,023 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:13:28,023 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:13:28,023 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:13:28,024 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:13:28,024 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:13:28,024 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:13:28,025 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:13:28,025 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,025 - sqlalchemy.engine.Engine - INFO - [cached since 0.008959s ago] ('user', 1, 0)
2025-05-09 10:13:28,026 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:13:28,026 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:28,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.007904s ago] (5,)
2025-05-09 10:13:28,027 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:13:28,027 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:13:28,027 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:13:28,028 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:28,028 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:13:28,028 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:13:28,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:28,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,031 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('system', 1, 0)
2025-05-09 10:13:28,032 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,032 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('Test Project', 1, 0)
2025-05-09 10:13:28,033 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:28,033 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:13:28,033 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:28,033 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:28,033 - sqlalchemy.engine.Engine - INFO - [cached since 0.003339s ago] ('system', 1, 0)
2025-05-09 10:13:28,039 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:13:28,039 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (2, 16.3, 50.0, 10.9, 0.0, '2025-05-09 02:13:28.038794')
2025-05-09 10:13:28,043 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:28,048 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:13:28,049 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:28,049 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:13:28,050 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('2025-04-09 02:13:28.048446',)
2025-05-09 10:13:28,050 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:13:28,051 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('2025-05-02 02:13:28.050452',)
2025-05-09 10:13:28,051 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:28,051 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:13:28,063 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.75:5000
2025-05-09 10:13:28,063 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 10:13:28,063 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:13:28,615 - app - INFO - File logging handler initialized successfully
2025-05-09 10:13:28,616 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:13:28,616 - app - INFO - Application logging configuration completed
2025-05-09 10:13:28,616 - app - INFO - Development configuration initialized
2025-05-09 10:13:28,646 - app - INFO - Logging setup completed successfully
2025-05-09 10:13:28,893 - app - INFO - 已注册的路由:
2025-05-09 10:13:28,893 - app - INFO - 路由: /static/<path:filename> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: static
2025-05-09 10:13:28,893 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'POST', 'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:28,894 - app - INFO - 路由: /api/users - 方法: {'POST', 'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:28,894 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,894 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,894 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,895 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,895 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'POST', 'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,895 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'POST', 'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,896 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,896 - app - INFO - 路由: /api/tasks - 方法: {'POST', 'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:28,896 - app - INFO - 路由: /login - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.login_page
2025-05-09 10:13:28,896 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'POST'} - 终端: auth.login
2025-05-09 10:13:28,897 - app - INFO - 路由: /register - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.register_page
2025-05-09 10:13:28,897 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'POST'} - 终端: auth.register
2025-05-09 10:13:28,897 - app - INFO - 路由: /logout - 方法: {'GET', 'OPTIONS', 'POST', 'HEAD'} - 终端: auth.logout
2025-05-09 10:13:28,897 - app - INFO - 路由: /refresh - 方法: {'OPTIONS', 'POST'} - 终端: auth.refresh
2025-05-09 10:13:28,898 - app - INFO - 路由: /profile - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.profile
2025-05-09 10:13:28,900 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:13:28,900 - app - INFO - 路由: /users - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_users
2025-05-09 10:13:28,901 - app - INFO - 路由: /users/<int:user_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_by_id
2025-05-09 10:13:28,901 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:13:28,902 - app - INFO - 路由: /roles - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_roles
2025-05-09 10:13:28,902 - app - INFO - 路由: /permissions - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_permissions
2025-05-09 10:13:28,902 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_permission
2025-05-09 10:13:28,903 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_permission
2025-05-09 10:13:28,903 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:13:28,903 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_permission
2025-05-09 10:13:28,905 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_role
2025-05-09 10:13:28,905 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_role
2025-05-09 10:13:28,905 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:13:28,905 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_role
2025-05-09 10:13:28,906 - app - INFO - 路由: /dashboard - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.dashboard
2025-05-09 10:13:28,906 - app - INFO - 路由: /dashboard/redirect - 方法: {'GET', 'OPTIONS', 'POST', 'HEAD'} - 终端: auth.dashboard_redirect
2025-05-09 10:13:28,906 - app - INFO - 路由: /create_test_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_user
2025-05-09 10:13:28,907 - app - INFO - 路由: /check - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.check_auth
2025-05-09 10:13:28,907 - app - INFO - 路由: /create_test_project - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_project
2025-05-09 10:13:28,908 - app - INFO - 路由: /logout_all - 方法: {'OPTIONS', 'POST'} - 终端: auth.logout_all
2025-05-09 10:13:28,908 - app - INFO - 路由: /dashboard/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.dashboard_data
2025-05-09 10:13:28,909 - app - INFO - 路由: /check_token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.check_token
2025-05-09 10:13:28,909 - app - INFO - 路由: /create_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_user
2025-05-09 10:13:28,909 - app - INFO - 路由: /user_info - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_info
2025-05-09 10:13:28,909 - app - INFO - 路由: /user/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_user
2025-05-09 10:13:28,910 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_roles
2025-05-09 10:13:28,910 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:13:28,910 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_notifications
2025-05-09 10:13:28,911 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:13:28,911 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:13:28,911 - app - INFO - 路由: /change-password - 方法: {'OPTIONS', 'POST'} - 终端: auth.change_password
2025-05-09 10:13:28,911 - app - INFO - 路由: /reset-password - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.reset_password_page
2025-05-09 10:13:28,912 - app - INFO - 路由: /verify-email/confirm - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:13:28,912 - app - INFO - 路由: /auth/csrf-token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_csrf_token
2025-05-09 10:13:28,912 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:13:28,912 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.api_delete_user
2025-05-09 10:13:28,913 - app - INFO - 路由: /api/users - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.api_get_users
2025-05-09 10:13:28,913 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST'} - 终端: auth.api_create_user
2025-05-09 10:13:28,913 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_details
2025-05-09 10:13:28,914 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: auth.api_user_operations
2025-05-09 10:13:28,914 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: auth.get_user_csrf_token
2025-05-09 10:13:28,914 - app - INFO - 路由: /main/ - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.index
2025-05-09 10:13:28,914 - app - INFO - 路由: /main/dashboard - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.dashboard
2025-05-09 10:13:28,916 - app - INFO - 路由: /main/check_token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.check_token
2025-05-09 10:13:28,916 - app - INFO - 路由: /main/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.projects
2025-05-09 10:13:28,916 - app - INFO - 路由: /main/tasks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.tasks
2025-05-09 10:13:28,916 - app - INFO - 路由: /main/risks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.risks
2025-05-09 10:13:28,917 - app - INFO - 路由: /main/reports - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.reports
2025-05-09 10:13:28,917 - app - INFO - 路由: /main/resources - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.resources
2025-05-09 10:13:28,917 - app - INFO - 路由: /main/profile - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.profile
2025-05-09 10:13:28,917 - app - INFO - 路由: /main/system/status - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.system_status
2025-05-09 10:13:28,918 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.get_dashboard_data
2025-05-09 10:13:28,918 - app - INFO - 路由: /main/test - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.test_route
2025-05-09 10:13:28,918 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.project_detail_redirect
2025-05-09 10:13:28,919 - app - INFO - 路由: /main/users - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.users
2025-05-09 10:13:28,919 - app - INFO - 路由: /main/debug/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.debug_projects
2025-05-09 10:13:28,919 - app - INFO - 路由: /main/simple/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.simple_projects
2025-05-09 10:13:28,920 - app - INFO - 路由: /main/static-test - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.static_test
2025-05-09 10:13:28,920 - app - INFO - 路由: /main/print-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.print_projects
2025-05-09 10:13:28,920 - app - INFO - 路由: /main/bypass-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.bypass_projects
2025-05-09 10:13:28,920 - app - INFO - 路由: /main/debug-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: main.debug_projects_api
2025-05-09 10:13:28,921 - app - INFO - 路由: /projects/list - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.project_list
2025-05-09 10:13:28,921 - app - INFO - 路由: /projects/ - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_projects
2025-05-09 10:13:28,921 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project
2025-05-09 10:13:28,921 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project
2025-05-09 10:13:28,921 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:13:28,922 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project
2025-05-09 10:13:28,922 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_members
2025-05-09 10:13:28,922 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: projects.add_project_member
2025-05-09 10:13:28,923 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.remove_project_member
2025-05-09 10:13:28,923 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.detail
2025-05-09 10:13:28,925 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.detail_api
2025-05-09 10:13:28,925 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_api
2025-05-09 10:13:28,925 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:13:28,927 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project_api
2025-05-09 10:13:28,927 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_projects_api
2025-05-09 10:13:28,927 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_auth_api
2025-05-09 10:13:28,927 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: projects.get_project_noauth
2025-05-09 10:13:28,928 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project_auth
2025-05-09 10:13:28,928 - app - INFO - 路由: /projects/api/project-managers - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_project_managers
2025-05-09 10:13:28,928 - app - INFO - 路由: /projects/api/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_all_projects_api
2025-05-09 10:13:28,929 - app - INFO - 路由: /projects/api/active-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: projects.get_active_projects_api
2025-05-09 10:13:28,929 - app - INFO - 路由: /list - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.project_list
2025-05-09 10:13:28,929 - app - INFO - 路由: / - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_projects
2025-05-09 10:13:28,930 - app - INFO - 路由: / - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project
2025-05-09 10:13:28,930 - app - INFO - 路由: /<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project
2025-05-09 10:13:28,930 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:13:28,930 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project
2025-05-09 10:13:28,931 - app - INFO - 路由: /<int:project_id>/members - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_members
2025-05-09 10:13:28,931 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: project_root.add_project_member
2025-05-09 10:13:28,931 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.remove_project_member
2025-05-09 10:13:28,932 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.detail
2025-05-09 10:13:28,932 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.detail_api
2025-05-09 10:13:28,932 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_api
2025-05-09 10:13:28,932 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:13:28,933 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project_api
2025-05-09 10:13:28,933 - app - INFO - 路由: /api/auth/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_projects_api
2025-05-09 10:13:28,933 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_auth_api
2025-05-09 10:13:28,934 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'DELETE', 'GET', 'HEAD', 'PUT', 'OPTIONS'} - 终端: project_root.get_project_noauth
2025-05-09 10:13:28,934 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project_auth
2025-05-09 10:13:28,934 - app - INFO - 路由: /api/project-managers - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_project_managers
2025-05-09 10:13:28,935 - app - INFO - 路由: /api/projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_all_projects_api
2025-05-09 10:13:28,935 - app - INFO - 路由: /api/active-projects - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: project_root.get_active_projects_api
2025-05-09 10:13:28,935 - app - INFO - 路由: /tasks/ - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_tasks
2025-05-09 10:13:28,935 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task
2025-05-09 10:13:28,936 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task
2025-05-09 10:13:28,936 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 10:13:28,936 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_task
2025-05-09 10:13:28,936 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_comments
2025-05-09 10:13:28,937 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment
2025-05-09 10:13:28,937 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_attachments
2025-05-09 10:13:28,937 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment
2025-05-09 10:13:28,937 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_resources
2025-05-09 10:13:28,938 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_subtasks
2025-05-09 10:13:28,938 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_subtask
2025-05-09 10:13:28,940 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_dependencies
2025-05-09 10:13:28,940 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_dependency
2025-05-09 10:13:28,940 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_logs
2025-05-09 10:13:28,941 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_log
2025-05-09 10:13:28,941 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.gantt_chart
2025-05-09 10:13:28,942 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_gantt_data
2025-05-09 10:13:28,942 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 10:13:28,942 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:13:28,942 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:13:28,943 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 10:13:28,943 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_dependency
2025-05-09 10:13:28,943 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_detail_api
2025-05-09 10:13:28,944 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:13:28,944 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_detail_page
2025-05-09 10:13:28,944 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.edit_task_page
2025-05-09 10:13:28,945 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:13:28,945 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.download_attachment_auth
2025-05-09 10:13:28,945 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_attachment
2025-05-09 10:13:28,945 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.download_attachment
2025-05-09 10:13:28,946 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_attachment
2025-05-09 10:13:28,946 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_new_version
2025-05-09 10:13:28,946 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_attachment_versions
2025-05-09 10:13:28,948 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_risks_front_path
2025-05-09 10:13:28,948 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:13:28,949 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_progress
2025-05-09 10:13:28,949 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'POST'} - 终端: tasks.update_task_progress
2025-05-09 10:13:28,949 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'OPTIONS', 'POST'} - 终端: tasks.approve_task_progress
2025-05-09 10:13:28,950 - app - INFO - 路由: /tasks/list - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.task_list
2025-05-09 10:13:28,950 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:13:28,950 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:13:28,950 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:13:28,951 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:13:28,951 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:13:28,951 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:13:28,951 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:13:28,952 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 10:13:28,952 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:13:28,952 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'GET', 'OPTIONS', 'HEAD'} - 终端: tasks.get_csrf_token
2025-05-09 10:13:28,952 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:13:29,002 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:13:29,122 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:29,124 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,124 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('manage_users', 1, 0)
2025-05-09 10:13:29,125 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:13:29,125 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,125 - sqlalchemy.engine.Engine - INFO - [cached since 0.001943s ago] ('manage_roles', 1, 0)
2025-05-09 10:13:29,126 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:13:29,126 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,126 - sqlalchemy.engine.Engine - INFO - [cached since 0.002798s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:13:29,126 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:13:29,127 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,127 - sqlalchemy.engine.Engine - INFO - [cached since 0.003588s ago] ('manage_project', 1, 0)
2025-05-09 10:13:29,127 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:13:29,128 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,128 - sqlalchemy.engine.Engine - INFO - [cached since 0.004461s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:13:29,128 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:13:29,129 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,129 - sqlalchemy.engine.Engine - INFO - [cached since 0.005665s ago] ('manage_task', 1, 0)
2025-05-09 10:13:29,129 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:13:29,129 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,129 - sqlalchemy.engine.Engine - INFO - [cached since 0.006626s ago] ('view_project', 1, 0)
2025-05-09 10:13:29,131 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:13:29,131 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,131 - sqlalchemy.engine.Engine - INFO - [cached since 0.007656s ago] ('view_task', 1, 0)
2025-05-09 10:13:29,132 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:13:29,134 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,134 - sqlalchemy.engine.Engine - INFO - [cached since 0.009656s ago] ('manage_resources', 1, 0)
2025-05-09 10:13:29,134 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:13:29,135 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,135 - sqlalchemy.engine.Engine - INFO - [cached since 0.01073s ago] ('manage_risks', 1, 0)
2025-05-09 10:13:29,135 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:13:29,135 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,136 - sqlalchemy.engine.Engine - INFO - [cached since 0.01159s ago] ('view_reports', 1, 0)
2025-05-09 10:13:29,136 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:13:29,136 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,136 - sqlalchemy.engine.Engine - INFO - [cached since 0.01228s ago] ('create_task', 1, 0)
2025-05-09 10:13:29,136 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:13:29,137 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,137 - sqlalchemy.engine.Engine - INFO - [cached since 0.01302s ago] ('create_project', 1, 0)
2025-05-09 10:13:29,137 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:13:29,138 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,138 - sqlalchemy.engine.Engine - INFO - [cached since 0.01371s ago] ('assign_task', 1, 0)
2025-05-09 10:13:29,138 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:13:29,138 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,138 - sqlalchemy.engine.Engine - INFO - [cached since 0.01463s ago] ('change_project_status', 1, 0)
2025-05-09 10:13:29,139 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:13:29,139 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,139 - sqlalchemy.engine.Engine - INFO - [cached since 0.01567s ago] ('change_task_status', 1, 0)
2025-05-09 10:13:29,140 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:13:29,140 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:29,141 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:29,141 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:13:29,142 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ()
2025-05-09 10:13:29,143 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,143 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('admin', 1, 0)
2025-05-09 10:13:29,143 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:13:29,146 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:29,146 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (1,)
2025-05-09 10:13:29,146 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:13:29,147 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,147 - sqlalchemy.engine.Engine - INFO - [cached since 0.004143s ago] ('manager', 1, 0)
2025-05-09 10:13:29,147 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:13:29,147 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:29,147 - sqlalchemy.engine.Engine - INFO - [cached since 0.002377s ago] (2,)
2025-05-09 10:13:29,148 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:13:29,148 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:13:29,148 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:13:29,148 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:13:29,148 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:13:29,150 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:13:29,150 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:13:29,150 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:13:29,150 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:13:29,151 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:13:29,151 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:13:29,151 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:13:29,151 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,152 - sqlalchemy.engine.Engine - INFO - [cached since 0.009022s ago] ('user', 1, 0)
2025-05-09 10:13:29,152 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:13:29,153 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:29,153 - sqlalchemy.engine.Engine - INFO - [cached since 0.007638s ago] (5,)
2025-05-09 10:13:29,153 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:13:29,153 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:13:29,154 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:13:29,154 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:29,154 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:13:29,154 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:13:29,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:29,155 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,156 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('system', 1, 0)
2025-05-09 10:13:29,158 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,158 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('Test Project', 1, 0)
2025-05-09 10:13:29,159 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:29,159 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:13:29,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:29,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:29,160 - sqlalchemy.engine.Engine - INFO - [cached since 0.003813s ago] ('system', 1, 0)
2025-05-09 10:13:29,167 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:13:29,167 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] (2, 14.5, 50.4, 10.9, 0.0, '2025-05-09 02:13:29.165733')
2025-05-09 10:13:29,171 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:29,175 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:13:29,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:29,176 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:13:29,176 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('2025-04-09 02:13:29.175020',)
2025-05-09 10:13:29,178 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:13:29,178 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('2025-05-02 02:13:29.177828',)
2025-05-09 10:13:29,178 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:29,179 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:13:29,184 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:13:29,187 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 10:13:40,291 - werkzeug - INFO -  * Detected change in 'D:\\tmp\\work\\app\\utils\\permissions.py', reloading
2025-05-09 10:13:40,367 - werkzeug - INFO -  * Detected change in 'D:\\tmp\\work\\app\\utils\\permissions.py', reloading
2025-05-09 10:13:40,562 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:13:40,653 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:13:41,140 - app - INFO - File logging handler initialized successfully
2025-05-09 10:13:41,141 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:13:41,141 - app - INFO - Application logging configuration completed
2025-05-09 10:13:41,141 - app - INFO - Development configuration initialized
2025-05-09 10:13:41,168 - app - INFO - Logging setup completed successfully
2025-05-09 10:13:41,194 - app - INFO - File logging handler initialized successfully
2025-05-09 10:13:41,194 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:13:41,195 - app - INFO - Application logging configuration completed
2025-05-09 10:13:41,195 - app - INFO - Development configuration initialized
2025-05-09 10:13:41,226 - app - INFO - Logging setup completed successfully
2025-05-09 10:13:41,484 - app - INFO - 已注册的路由:
2025-05-09 10:13:41,485 - app - INFO - 路由: /static/<path:filename> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: static
2025-05-09 10:13:41,485 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'PUT', 'OPTIONS', 'POST', 'DELETE', 'GET'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:41,485 - app - INFO - 路由: /api/users - 方法: {'HEAD', 'PUT', 'OPTIONS', 'POST', 'DELETE', 'GET'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:41,485 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,486 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,486 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,486 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,486 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'HEAD', 'PUT', 'OPTIONS', 'POST', 'DELETE', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,488 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'HEAD', 'PUT', 'OPTIONS', 'POST', 'DELETE', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,488 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,488 - app - INFO - 路由: /api/tasks - 方法: {'HEAD', 'PUT', 'OPTIONS', 'POST', 'DELETE', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,489 - app - INFO - 路由: /login - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.login_page
2025-05-09 10:13:41,489 - app - INFO - 路由: /login - 方法: {'POST', 'OPTIONS'} - 终端: auth.login
2025-05-09 10:13:41,489 - app - INFO - 路由: /register - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.register_page
2025-05-09 10:13:41,490 - app - INFO - 路由: /register - 方法: {'POST', 'OPTIONS'} - 终端: auth.register
2025-05-09 10:13:41,490 - app - INFO - 路由: /logout - 方法: {'HEAD', 'POST', 'GET', 'OPTIONS'} - 终端: auth.logout
2025-05-09 10:13:41,491 - app - INFO - 路由: /refresh - 方法: {'POST', 'OPTIONS'} - 终端: auth.refresh
2025-05-09 10:13:41,491 - app - INFO - 路由: /profile - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.profile
2025-05-09 10:13:41,491 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:13:41,491 - app - INFO - 路由: /users - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_users
2025-05-09 10:13:41,492 - app - INFO - 路由: /users/<int:user_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_by_id
2025-05-09 10:13:41,492 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:13:41,492 - app - INFO - 路由: /roles - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_roles
2025-05-09 10:13:41,492 - app - INFO - 路由: /permissions - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_permissions
2025-05-09 10:13:41,492 - app - INFO - 路由: /permissions - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_permission
2025-05-09 10:13:41,493 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_permission
2025-05-09 10:13:41,493 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:13:41,494 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_permission
2025-05-09 10:13:41,494 - app - INFO - 路由: /roles - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_role
2025-05-09 10:13:41,494 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_role
2025-05-09 10:13:41,495 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:13:41,495 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_role
2025-05-09 10:13:41,495 - app - INFO - 路由: /dashboard - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.dashboard
2025-05-09 10:13:41,496 - app - INFO - 路由: /dashboard/redirect - 方法: {'HEAD', 'POST', 'GET', 'OPTIONS'} - 终端: auth.dashboard_redirect
2025-05-09 10:13:41,496 - app - INFO - 路由: /create_test_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_user
2025-05-09 10:13:41,496 - app - INFO - 路由: /check - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.check_auth
2025-05-09 10:13:41,496 - app - INFO - 路由: /create_test_project - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_project
2025-05-09 10:13:41,497 - app - INFO - 路由: /logout_all - 方法: {'POST', 'OPTIONS'} - 终端: auth.logout_all
2025-05-09 10:13:41,497 - app - INFO - 路由: /dashboard/data - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.dashboard_data
2025-05-09 10:13:41,497 - app - INFO - 路由: /check_token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.check_token
2025-05-09 10:13:41,497 - app - INFO - 路由: /create_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_user
2025-05-09 10:13:41,497 - app - INFO - 路由: /user_info - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_info
2025-05-09 10:13:41,498 - app - INFO - 路由: /user/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_user
2025-05-09 10:13:41,498 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_roles
2025-05-09 10:13:41,498 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:13:41,498 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_notifications
2025-05-09 10:13:41,499 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:13:41,499 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:13:41,499 - app - INFO - 路由: /change-password - 方法: {'POST', 'OPTIONS'} - 终端: auth.change_password
2025-05-09 10:13:41,501 - app - INFO - 路由: /reset-password - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.reset_password_page
2025-05-09 10:13:41,501 - app - INFO - 路由: /verify-email/confirm - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:13:41,501 - app - INFO - 路由: /auth/csrf-token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_csrf_token
2025-05-09 10:13:41,501 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:13:41,502 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.api_delete_user
2025-05-09 10:13:41,502 - app - INFO - 路由: /api/users - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.api_get_users
2025-05-09 10:13:41,502 - app - INFO - 路由: /api/users - 方法: {'POST', 'OPTIONS'} - 终端: auth.api_create_user
2025-05-09 10:13:41,502 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_details
2025-05-09 10:13:41,503 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'GET', 'OPTIONS', 'DELETE', 'HEAD'} - 终端: auth.api_user_operations
2025-05-09 10:13:41,503 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_csrf_token
2025-05-09 10:13:41,503 - app - INFO - 路由: /main/ - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.index
2025-05-09 10:13:41,503 - app - INFO - 路由: /main/dashboard - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.dashboard
2025-05-09 10:13:41,504 - app - INFO - 路由: /main/check_token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.check_token
2025-05-09 10:13:41,504 - app - INFO - 路由: /main/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.projects
2025-05-09 10:13:41,504 - app - INFO - 路由: /main/tasks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.tasks
2025-05-09 10:13:41,505 - app - INFO - 路由: /main/risks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.risks
2025-05-09 10:13:41,505 - app - INFO - 路由: /main/reports - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.reports
2025-05-09 10:13:41,505 - app - INFO - 路由: /main/resources - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.resources
2025-05-09 10:13:41,506 - app - INFO - 路由: /main/profile - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.profile
2025-05-09 10:13:41,506 - app - INFO - 路由: /main/system/status - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.system_status
2025-05-09 10:13:41,506 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.get_dashboard_data
2025-05-09 10:13:41,507 - app - INFO - 路由: /main/test - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.test_route
2025-05-09 10:13:41,507 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.project_detail_redirect
2025-05-09 10:13:41,507 - app - INFO - 路由: /main/users - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.users
2025-05-09 10:13:41,507 - app - INFO - 路由: /main/debug/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.debug_projects
2025-05-09 10:13:41,508 - app - INFO - 路由: /main/simple/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.simple_projects
2025-05-09 10:13:41,508 - app - INFO - 路由: /main/static-test - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.static_test
2025-05-09 10:13:41,508 - app - INFO - 路由: /main/print-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.print_projects
2025-05-09 10:13:41,508 - app - INFO - 路由: /main/bypass-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.bypass_projects
2025-05-09 10:13:41,509 - app - INFO - 路由: /main/debug-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.debug_projects_api
2025-05-09 10:13:41,509 - app - INFO - 路由: /projects/list - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.project_list
2025-05-09 10:13:41,509 - app - INFO - 路由: /projects/ - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_projects
2025-05-09 10:13:41,510 - app - INFO - 路由: /projects/ - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project
2025-05-09 10:13:41,510 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project
2025-05-09 10:13:41,511 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:13:41,511 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project
2025-05-09 10:13:41,511 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_members
2025-05-09 10:13:41,511 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: projects.add_project_member
2025-05-09 10:13:41,512 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.remove_project_member
2025-05-09 10:13:41,512 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.detail
2025-05-09 10:13:41,512 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.detail_api
2025-05-09 10:13:41,512 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_api
2025-05-09 10:13:41,512 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:13:41,513 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project_api
2025-05-09 10:13:41,513 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_projects_api
2025-05-09 10:13:41,513 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_auth_api
2025-05-09 10:13:41,513 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'PUT', 'GET', 'OPTIONS', 'DELETE', 'HEAD'} - 终端: projects.get_project_noauth
2025-05-09 10:13:41,513 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project_auth
2025-05-09 10:13:41,514 - app - INFO - 路由: /projects/api/project-managers - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_managers
2025-05-09 10:13:41,514 - app - INFO - 路由: /projects/api/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_all_projects_api
2025-05-09 10:13:41,514 - app - INFO - 路由: /projects/api/active-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_active_projects_api
2025-05-09 10:13:41,515 - app - INFO - 路由: /list - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.project_list
2025-05-09 10:13:41,515 - app - INFO - 路由: / - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_projects
2025-05-09 10:13:41,516 - app - INFO - 路由: / - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project
2025-05-09 10:13:41,516 - app - INFO - 路由: /<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project
2025-05-09 10:13:41,516 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:13:41,516 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project
2025-05-09 10:13:41,517 - app - INFO - 路由: /<int:project_id>/members - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_members
2025-05-09 10:13:41,517 - app - INFO - 路由: /<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: project_root.add_project_member
2025-05-09 10:13:41,517 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.remove_project_member
2025-05-09 10:13:41,517 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.detail
2025-05-09 10:13:41,517 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.detail_api
2025-05-09 10:13:41,518 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_api
2025-05-09 10:13:41,518 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:13:41,518 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project_api
2025-05-09 10:13:41,518 - app - INFO - 路由: /api/auth/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_projects_api
2025-05-09 10:13:41,519 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_auth_api
2025-05-09 10:13:41,519 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'PUT', 'GET', 'OPTIONS', 'DELETE', 'HEAD'} - 终端: project_root.get_project_noauth
2025-05-09 10:13:41,519 - app - INFO - 路由: /api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project_auth
2025-05-09 10:13:41,519 - app - INFO - 路由: /api/project-managers - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_managers
2025-05-09 10:13:41,521 - app - INFO - 路由: /api/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_all_projects_api
2025-05-09 10:13:41,521 - app - INFO - 路由: /api/active-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_active_projects_api
2025-05-09 10:13:41,521 - app - INFO - 路由: /tasks/ - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_tasks
2025-05-09 10:13:41,521 - app - INFO - 路由: /tasks/ - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task
2025-05-09 10:13:41,522 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task
2025-05-09 10:13:41,522 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 10:13:41,522 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_task
2025-05-09 10:13:41,522 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_comments
2025-05-09 10:13:41,522 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment
2025-05-09 10:13:41,523 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_attachments
2025-05-09 10:13:41,523 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment
2025-05-09 10:13:41,523 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_resources
2025-05-09 10:13:41,523 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_subtasks
2025-05-09 10:13:41,523 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_subtask
2025-05-09 10:13:41,524 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_dependencies
2025-05-09 10:13:41,524 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_dependency
2025-05-09 10:13:41,524 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_logs
2025-05-09 10:13:41,525 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_log
2025-05-09 10:13:41,525 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.gantt_chart
2025-05-09 10:13:41,525 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_gantt_data
2025-05-09 10:13:41,526 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 10:13:41,526 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:13:41,527 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:13:41,527 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 10:13:41,527 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_dependency
2025-05-09 10:13:41,527 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.task_detail_api
2025-05-09 10:13:41,527 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:13:41,528 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.task_detail_page
2025-05-09 10:13:41,528 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.edit_task_page
2025-05-09 10:13:41,528 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:13:41,528 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.download_attachment_auth
2025-05-09 10:13:41,529 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_attachment
2025-05-09 10:13:41,529 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.download_attachment
2025-05-09 10:13:41,529 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_attachment
2025-05-09 10:13:41,530 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_new_version
2025-05-09 10:13:41,531 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_attachment_versions
2025-05-09 10:13:41,531 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.task_risks_front_path
2025-05-09 10:13:41,531 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:13:41,531 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_progress
2025-05-09 10:13:41,531 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'POST', 'OPTIONS'} - 终端: tasks.update_task_progress
2025-05-09 10:13:41,531 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'POST', 'OPTIONS'} - 终端: tasks.approve_task_progress
2025-05-09 10:13:41,531 - app - INFO - 路由: /tasks/list - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.task_list
2025-05-09 10:13:41,532 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:13:41,532 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:13:41,532 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:13:41,532 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:13:41,533 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:13:41,533 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:13:41,533 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:13:41,533 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 10:13:41,534 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:13:41,534 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_csrf_token
2025-05-09 10:13:41,534 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:13:41,545 - app - INFO - 已注册的路由:
2025-05-09 10:13:41,546 - app - INFO - 路由: /static/<path:filename> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: static
2025-05-09 10:13:41,546 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE', 'PUT', 'POST', 'HEAD', 'GET'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:41,546 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'DELETE', 'PUT', 'POST', 'HEAD', 'GET'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:41,546 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,546 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,547 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,547 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,547 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'OPTIONS', 'DELETE', 'PUT', 'POST', 'HEAD', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,547 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'OPTIONS', 'DELETE', 'PUT', 'POST', 'HEAD', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,547 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,548 - app - INFO - 路由: /api/tasks - 方法: {'OPTIONS', 'DELETE', 'PUT', 'POST', 'HEAD', 'GET'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:41,548 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.login_page
2025-05-09 10:13:41,548 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'POST'} - 终端: auth.login
2025-05-09 10:13:41,548 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.register_page
2025-05-09 10:13:41,549 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'POST'} - 终端: auth.register
2025-05-09 10:13:41,549 - app - INFO - 路由: /logout - 方法: {'OPTIONS', 'GET', 'POST', 'HEAD'} - 终端: auth.logout
2025-05-09 10:13:41,549 - app - INFO - 路由: /refresh - 方法: {'OPTIONS', 'POST'} - 终端: auth.refresh
2025-05-09 10:13:41,549 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.profile
2025-05-09 10:13:41,550 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_profile
2025-05-09 10:13:41,550 - app - INFO - 路由: /users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_users
2025-05-09 10:13:41,551 - app - INFO - 路由: /users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_by_id
2025-05-09 10:13:41,551 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user
2025-05-09 10:13:41,551 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_roles
2025-05-09 10:13:41,551 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permissions
2025-05-09 10:13:41,551 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_permission
2025-05-09 10:13:41,551 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permission
2025-05-09 10:13:41,553 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_permission
2025-05-09 10:13:41,553 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_permission
2025-05-09 10:13:41,553 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_role
2025-05-09 10:13:41,553 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_role
2025-05-09 10:13:41,554 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_role_permissions
2025-05-09 10:13:41,554 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_role
2025-05-09 10:13:41,554 - app - INFO - 路由: /dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard
2025-05-09 10:13:41,554 - app - INFO - 路由: /dashboard/redirect - 方法: {'OPTIONS', 'GET', 'POST', 'HEAD'} - 终端: auth.dashboard_redirect
2025-05-09 10:13:41,555 - app - INFO - 路由: /create_test_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_user
2025-05-09 10:13:41,555 - app - INFO - 路由: /check - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_auth
2025-05-09 10:13:41,555 - app - INFO - 路由: /create_test_project - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_project
2025-05-09 10:13:41,556 - app - INFO - 路由: /logout_all - 方法: {'OPTIONS', 'POST'} - 终端: auth.logout_all
2025-05-09 10:13:41,556 - app - INFO - 路由: /dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard_data
2025-05-09 10:13:41,557 - app - INFO - 路由: /check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_token
2025-05-09 10:13:41,557 - app - INFO - 路由: /create_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_user
2025-05-09 10:13:41,557 - app - INFO - 路由: /user_info - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_info
2025-05-09 10:13:41,557 - app - INFO - 路由: /user/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_user
2025-05-09 10:13:41,558 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_roles
2025-05-09 10:13:41,558 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user_roles
2025-05-09 10:13:41,558 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_notifications
2025-05-09 10:13:41,558 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_notification_as_read
2025-05-09 10:13:41,558 - app - INFO - 路由: /notifications/read_all - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:13:41,558 - app - INFO - 路由: /change-password - 方法: {'OPTIONS', 'POST'} - 终端: auth.change_password
2025-05-09 10:13:41,559 - app - INFO - 路由: /reset-password - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.reset_password_page
2025-05-09 10:13:41,559 - app - INFO - 路由: /verify-email/confirm - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:13:41,559 - app - INFO - 路由: /auth/csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_csrf_token
2025-05-09 10:13:41,559 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.api_update_user
2025-05-09 10:13:41,560 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.api_delete_user
2025-05-09 10:13:41,560 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.api_get_users
2025-05-09 10:13:41,560 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST'} - 终端: auth.api_create_user
2025-05-09 10:13:41,561 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_details
2025-05-09 10:13:41,561 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE', 'PUT', 'HEAD', 'GET'} - 终端: auth.api_user_operations
2025-05-09 10:13:41,562 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_csrf_token
2025-05-09 10:13:41,562 - app - INFO - 路由: /main/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.index
2025-05-09 10:13:41,562 - app - INFO - 路由: /main/dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.dashboard
2025-05-09 10:13:41,564 - app - INFO - 路由: /main/check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.check_token
2025-05-09 10:13:41,564 - app - INFO - 路由: /main/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.projects
2025-05-09 10:13:41,564 - app - INFO - 路由: /main/tasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.tasks
2025-05-09 10:13:41,565 - app - INFO - 路由: /main/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.risks
2025-05-09 10:13:41,565 - app - INFO - 路由: /main/reports - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.reports
2025-05-09 10:13:41,566 - app - INFO - 路由: /main/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.resources
2025-05-09 10:13:41,566 - app - INFO - 路由: /main/profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.profile
2025-05-09 10:13:41,566 - app - INFO - 路由: /main/system/status - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.system_status
2025-05-09 10:13:41,567 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.get_dashboard_data
2025-05-09 10:13:41,567 - app - INFO - 路由: /main/test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.test_route
2025-05-09 10:13:41,568 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.project_detail_redirect
2025-05-09 10:13:41,569 - app - INFO - 路由: /main/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.users
2025-05-09 10:13:41,569 - app - INFO - 路由: /main/debug/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects
2025-05-09 10:13:41,569 - app - INFO - 路由: /main/simple/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.simple_projects
2025-05-09 10:13:41,570 - app - INFO - 路由: /main/static-test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.static_test
2025-05-09 10:13:41,570 - app - INFO - 路由: /main/print-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.print_projects
2025-05-09 10:13:41,571 - app - INFO - 路由: /main/bypass-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.bypass_projects
2025-05-09 10:13:41,571 - app - INFO - 路由: /main/debug-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects_api
2025-05-09 10:13:41,571 - app - INFO - 路由: /projects/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.project_list
2025-05-09 10:13:41,571 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects
2025-05-09 10:13:41,572 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project
2025-05-09 10:13:41,572 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project
2025-05-09 10:13:41,572 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project
2025-05-09 10:13:41,572 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project
2025-05-09 10:13:41,573 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_members
2025-05-09 10:13:41,573 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: projects.add_project_member
2025-05-09 10:13:41,573 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.remove_project_member
2025-05-09 10:13:41,574 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail
2025-05-09 10:13:41,574 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail_api
2025-05-09 10:13:41,574 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_api
2025-05-09 10:13:41,574 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project_api
2025-05-09 10:13:41,574 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project_api
2025-05-09 10:13:41,574 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects_api
2025-05-09 10:13:41,575 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_auth_api
2025-05-09 10:13:41,575 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE', 'PUT', 'HEAD', 'GET'} - 终端: projects.get_project_noauth
2025-05-09 10:13:41,575 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project_auth
2025-05-09 10:13:41,577 - app - INFO - 路由: /projects/api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_managers
2025-05-09 10:13:41,577 - app - INFO - 路由: /projects/api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_all_projects_api
2025-05-09 10:13:41,577 - app - INFO - 路由: /projects/api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_active_projects_api
2025-05-09 10:13:41,577 - app - INFO - 路由: /list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.project_list
2025-05-09 10:13:41,578 - app - INFO - 路由: / - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects
2025-05-09 10:13:41,578 - app - INFO - 路由: / - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project
2025-05-09 10:13:41,579 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project
2025-05-09 10:13:41,579 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project
2025-05-09 10:13:41,579 - app - INFO - 路由: /<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project
2025-05-09 10:13:41,580 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_members
2025-05-09 10:13:41,580 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: project_root.add_project_member
2025-05-09 10:13:41,580 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.remove_project_member
2025-05-09 10:13:41,581 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail
2025-05-09 10:13:41,581 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail_api
2025-05-09 10:13:41,582 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_api
2025-05-09 10:13:41,582 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project_api
2025-05-09 10:13:41,582 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project_api
2025-05-09 10:13:41,583 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects_api
2025-05-09 10:13:41,583 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_auth_api
2025-05-09 10:13:41,583 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE', 'PUT', 'HEAD', 'GET'} - 终端: project_root.get_project_noauth
2025-05-09 10:13:41,584 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project_auth
2025-05-09 10:13:41,584 - app - INFO - 路由: /api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_managers
2025-05-09 10:13:41,584 - app - INFO - 路由: /api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_all_projects_api
2025-05-09 10:13:41,585 - app - INFO - 路由: /api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_active_projects_api
2025-05-09 10:13:41,586 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_tasks
2025-05-09 10:13:41,587 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task
2025-05-09 10:13:41,588 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task
2025-05-09 10:13:41,588 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task
2025-05-09 10:13:41,588 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_task
2025-05-09 10:13:41,588 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments
2025-05-09 10:13:41,589 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment
2025-05-09 10:13:41,589 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments
2025-05-09 10:13:41,589 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment
2025-05-09 10:13:41,589 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_resources
2025-05-09 10:13:41,589 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks
2025-05-09 10:13:41,590 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_subtask
2025-05-09 10:13:41,590 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_dependencies
2025-05-09 10:13:41,590 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_dependency
2025-05-09 10:13:41,590 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs
2025-05-09 10:13:41,592 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_log
2025-05-09 10:13:41,592 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.gantt_chart
2025-05-09 10:13:41,592 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_gantt_data
2025-05-09 10:13:41,593 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_gantt_task
2025-05-09 10:13:41,593 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:13:41,593 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:13:41,594 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_status
2025-05-09 10:13:41,594 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_dependency
2025-05-09 10:13:41,594 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api
2025-05-09 10:13:41,595 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:13:41,595 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:13:41,595 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_page
2025-05-09 10:13:41,596 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.edit_task_page
2025-05-09 10:13:41,596 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:13:41,597 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment_auth
2025-05-09 10:13:41,597 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_attachment
2025-05-09 10:13:41,597 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment
2025-05-09 10:13:41,598 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_attachment
2025-05-09 10:13:41,598 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_new_version
2025-05-09 10:13:41,598 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_attachment_versions
2025-05-09 10:13:41,599 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_risks_front_path
2025-05-09 10:13:41,599 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:13:41,599 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_progress
2025-05-09 10:13:41,601 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'POST'} - 终端: tasks.update_task_progress
2025-05-09 10:13:41,601 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'OPTIONS', 'POST'} - 终端: tasks.approve_task_progress
2025-05-09 10:13:41,601 - app - INFO - 路由: /tasks/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_list
2025-05-09 10:13:41,602 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:13:41,602 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:13:41,603 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:13:41,603 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:13:41,603 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:13:41,604 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:13:41,604 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:13:41,604 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.api_update_task
2025-05-09 10:13:41,605 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:13:41,606 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_csrf_token
2025-05-09 10:13:41,606 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:13:41,655 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:13:41,726 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,728 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,729 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('manage_users', 1, 0)
2025-05-09 10:13:41,730 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:13:41,730 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,730 - sqlalchemy.engine.Engine - INFO - [cached since 0.002483s ago] ('manage_roles', 1, 0)
2025-05-09 10:13:41,731 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:13:41,731 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,732 - sqlalchemy.engine.Engine - INFO - [cached since 0.003653s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:13:41,732 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:13:41,733 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,733 - sqlalchemy.engine.Engine - INFO - [cached since 0.004759s ago] ('manage_project', 1, 0)
2025-05-09 10:13:41,733 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:13:41,733 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.005727s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:13:41,734 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:13:41,734 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.006516s ago] ('manage_task', 1, 0)
2025-05-09 10:13:41,735 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:13:41,735 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,735 - sqlalchemy.engine.Engine - INFO - [cached since 0.007216s ago] ('view_project', 1, 0)
2025-05-09 10:13:41,735 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:13:41,736 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.008087s ago] ('view_task', 1, 0)
2025-05-09 10:13:41,736 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:13:41,737 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,737 - sqlalchemy.engine.Engine - INFO - [cached since 0.009061s ago] ('manage_resources', 1, 0)
2025-05-09 10:13:41,737 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:13:41,738 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.01009s ago] ('manage_risks', 1, 0)
2025-05-09 10:13:41,738 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:13:41,739 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,739 - sqlalchemy.engine.Engine - INFO - [cached since 0.01108s ago] ('view_reports', 1, 0)
2025-05-09 10:13:41,739 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:13:41,739 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,740 - sqlalchemy.engine.Engine - INFO - [cached since 0.01186s ago] ('create_task', 1, 0)
2025-05-09 10:13:41,740 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:13:41,740 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,740 - sqlalchemy.engine.Engine - INFO - [cached since 0.01253s ago] ('create_project', 1, 0)
2025-05-09 10:13:41,740 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:13:41,741 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,741 - sqlalchemy.engine.Engine - INFO - [cached since 0.0132s ago] ('assign_task', 1, 0)
2025-05-09 10:13:41,741 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:13:41,742 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.01431s ago] ('change_project_status', 1, 0)
2025-05-09 10:13:41,742 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:13:41,744 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,744 - sqlalchemy.engine.Engine - INFO - [cached since 0.01534s ago] ('change_task_status', 1, 0)
2025-05-09 10:13:41,744 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:13:41,744 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,745 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:13:41,745 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ()
2025-05-09 10:13:41,746 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,748 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('admin', 1, 0)
2025-05-09 10:13:41,748 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:13:41,750 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:41,750 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (1,)
2025-05-09 10:13:41,750 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:13:41,751 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,751 - sqlalchemy.engine.Engine - INFO - [cached since 0.0036s ago] ('manager', 1, 0)
2025-05-09 10:13:41,751 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:13:41,751 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:41,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.002104s ago] (2,)
2025-05-09 10:13:41,752 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:13:41,752 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:13:41,752 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:13:41,753 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:13:41,753 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:13:41,753 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:13:41,754 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:13:41,754 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:13:41,754 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:13:41,754 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:13:41,755 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:13:41,755 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:13:41,755 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,756 - sqlalchemy.engine.Engine - INFO - [cached since 0.008689s ago] ('user', 1, 0)
2025-05-09 10:13:41,756 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:13:41,756 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:41,757 - sqlalchemy.engine.Engine - INFO - [cached since 0.007429s ago] (5,)
2025-05-09 10:13:41,757 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:13:41,757 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:13:41,758 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:13:41,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,758 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:13:41,758 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:13:41,759 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,759 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,760 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('system', 1, 0)
2025-05-09 10:13:41,761 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,761 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('Test Project', 1, 0)
2025-05-09 10:13:41,762 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,762 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:13:41,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,763 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,763 - sqlalchemy.engine.Engine - INFO - [cached since 0.003718s ago] ('system', 1, 0)
2025-05-09 10:13:41,768 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:13:41,769 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (2, 28.1, 50.3, 10.9, 0.0, '2025-05-09 02:13:41.767192')
2025-05-09 10:13:41,770 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,773 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:13:41,774 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,774 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:13:41,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('2025-04-09 02:13:41.773337',)
2025-05-09 10:13:41,775 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:13:41,775 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('2025-05-02 02:13:41.774334',)
2025-05-09 10:13:41,776 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,776 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:13:41,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,782 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:13:41,782 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,783 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('manage_users', 1, 0)
2025-05-09 10:13:41,783 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 10:13:41,783 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:13:41,784 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,784 - sqlalchemy.engine.Engine - INFO - [cached since 0.001926s ago] ('manage_roles', 1, 0)
2025-05-09 10:13:41,785 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:13:41,785 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,785 - sqlalchemy.engine.Engine - INFO - [cached since 0.002835s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:13:41,785 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:13:41,786 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,786 - sqlalchemy.engine.Engine - INFO - [cached since 0.003737s ago] ('manage_project', 1, 0)
2025-05-09 10:13:41,786 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:13:41,786 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,788 - sqlalchemy.engine.Engine - INFO - [cached since 0.004964s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:13:41,788 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:13:41,788 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,788 - sqlalchemy.engine.Engine - INFO - [cached since 0.00579s ago] ('manage_task', 1, 0)
2025-05-09 10:13:41,788 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:13:41,788 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,790 - sqlalchemy.engine.Engine - INFO - [cached since 0.006506s ago] ('view_project', 1, 0)
2025-05-09 10:13:41,790 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:13:41,790 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,790 - sqlalchemy.engine.Engine - INFO - [cached since 0.007319s ago] ('view_task', 1, 0)
2025-05-09 10:13:41,791 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:13:41,791 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.008937s ago] ('manage_resources', 1, 0)
2025-05-09 10:13:41,791 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:13:41,793 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,793 - sqlalchemy.engine.Engine - INFO - [cached since 0.0101s ago] ('manage_risks', 1, 0)
2025-05-09 10:13:41,793 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:13:41,793 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,793 - sqlalchemy.engine.Engine - INFO - [cached since 0.01102s ago] ('view_reports', 1, 0)
2025-05-09 10:13:41,793 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:13:41,795 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.01201s ago] ('create_task', 1, 0)
2025-05-09 10:13:41,795 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:13:41,795 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.01309s ago] ('create_project', 1, 0)
2025-05-09 10:13:41,796 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:13:41,796 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,797 - sqlalchemy.engine.Engine - INFO - [cached since 0.01425s ago] ('assign_task', 1, 0)
2025-05-09 10:13:41,797 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:13:41,798 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,798 - sqlalchemy.engine.Engine - INFO - [cached since 0.01599s ago] ('change_project_status', 1, 0)
2025-05-09 10:13:41,798 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:13:41,800 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,800 - sqlalchemy.engine.Engine - INFO - [cached since 0.01709s ago] ('change_task_status', 1, 0)
2025-05-09 10:13:41,800 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:13:41,800 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,801 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:13:41,802 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-05-09 10:13:41,803 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,803 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('admin', 1, 0)
2025-05-09 10:13:41,803 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:13:41,806 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:41,806 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (1,)
2025-05-09 10:13:41,806 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:13:41,807 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,807 - sqlalchemy.engine.Engine - INFO - [cached since 0.003628s ago] ('manager', 1, 0)
2025-05-09 10:13:41,807 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:13:41,808 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:41,808 - sqlalchemy.engine.Engine - INFO - [cached since 0.002411s ago] (2,)
2025-05-09 10:13:41,808 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:13:41,808 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:13:41,809 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:13:41,809 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:13:41,809 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:13:41,810 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:13:41,810 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:13:41,810 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:13:41,810 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:13:41,810 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:13:41,811 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:13:41,811 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:13:41,812 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.008624s ago] ('user', 1, 0)
2025-05-09 10:13:41,812 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:13:41,813 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:41,813 - sqlalchemy.engine.Engine - INFO - [cached since 0.007702s ago] (5,)
2025-05-09 10:13:41,813 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:13:41,814 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:13:41,814 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:13:41,814 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,815 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:13:41,815 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:13:41,815 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,816 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('system', 1, 0)
2025-05-09 10:13:41,818 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('Test Project', 1, 0)
2025-05-09 10:13:41,818 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,818 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:13:41,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,820 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:41,820 - sqlalchemy.engine.Engine - INFO - [cached since 0.003956s ago] ('system', 1, 0)
2025-05-09 10:13:41,826 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:13:41,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] (2, 29.1, 50.3, 10.9, 0.0, '2025-05-09 02:13:41.825482')
2025-05-09 10:13:41,828 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,833 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:13:41,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:41,835 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:13:41,835 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('2025-04-09 02:13:41.833031',)
2025-05-09 10:13:41,836 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:13:41,836 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('2025-05-02 02:13:41.835048',)
2025-05-09 10:13:41,837 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:41,837 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:13:41,843 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:13:41,846 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 10:13:49,437 - app - INFO - File logging handler initialized successfully
2025-05-09 10:13:49,438 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:13:49,438 - app - INFO - Application logging configuration completed
2025-05-09 10:13:49,438 - app - INFO - Development configuration initialized
2025-05-09 10:13:49,467 - app - INFO - Logging setup completed successfully
2025-05-09 10:13:49,698 - app - INFO - 已注册的路由:
2025-05-09 10:13:49,699 - app - INFO - 路由: /static/<path:filename> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: static
2025-05-09 10:13:49,699 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'OPTIONS', 'GET', 'POST', 'DELETE', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:49,699 - app - INFO - 路由: /api/users - 方法: {'HEAD', 'OPTIONS', 'GET', 'POST', 'DELETE', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:49,700 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,700 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,700 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,700 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,701 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'HEAD', 'OPTIONS', 'GET', 'POST', 'DELETE', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,701 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'HEAD', 'OPTIONS', 'GET', 'POST', 'DELETE', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,702 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,702 - app - INFO - 路由: /api/tasks - 方法: {'HEAD', 'OPTIONS', 'GET', 'POST', 'DELETE', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:49,702 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.login_page
2025-05-09 10:13:49,702 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'POST'} - 终端: auth.login
2025-05-09 10:13:49,703 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.register_page
2025-05-09 10:13:49,703 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'POST'} - 终端: auth.register
2025-05-09 10:13:49,705 - app - INFO - 路由: /logout - 方法: {'OPTIONS', 'GET', 'HEAD', 'POST'} - 终端: auth.logout
2025-05-09 10:13:49,705 - app - INFO - 路由: /refresh - 方法: {'OPTIONS', 'POST'} - 终端: auth.refresh
2025-05-09 10:13:49,705 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.profile
2025-05-09 10:13:49,706 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_profile
2025-05-09 10:13:49,706 - app - INFO - 路由: /users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_users
2025-05-09 10:13:49,706 - app - INFO - 路由: /users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_by_id
2025-05-09 10:13:49,707 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user
2025-05-09 10:13:49,707 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_roles
2025-05-09 10:13:49,707 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permissions
2025-05-09 10:13:49,708 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_permission
2025-05-09 10:13:49,709 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permission
2025-05-09 10:13:49,709 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_permission
2025-05-09 10:13:49,710 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_permission
2025-05-09 10:13:49,710 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_role
2025-05-09 10:13:49,710 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_role
2025-05-09 10:13:49,711 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_role_permissions
2025-05-09 10:13:49,711 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_role
2025-05-09 10:13:49,712 - app - INFO - 路由: /dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard
2025-05-09 10:13:49,712 - app - INFO - 路由: /dashboard/redirect - 方法: {'OPTIONS', 'GET', 'HEAD', 'POST'} - 终端: auth.dashboard_redirect
2025-05-09 10:13:49,713 - app - INFO - 路由: /create_test_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_user
2025-05-09 10:13:49,714 - app - INFO - 路由: /check - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_auth
2025-05-09 10:13:49,714 - app - INFO - 路由: /create_test_project - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_project
2025-05-09 10:13:49,715 - app - INFO - 路由: /logout_all - 方法: {'OPTIONS', 'POST'} - 终端: auth.logout_all
2025-05-09 10:13:49,715 - app - INFO - 路由: /dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard_data
2025-05-09 10:13:49,717 - app - INFO - 路由: /check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_token
2025-05-09 10:13:49,717 - app - INFO - 路由: /create_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_user
2025-05-09 10:13:49,717 - app - INFO - 路由: /user_info - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_info
2025-05-09 10:13:49,719 - app - INFO - 路由: /user/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_user
2025-05-09 10:13:49,719 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_roles
2025-05-09 10:13:49,719 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user_roles
2025-05-09 10:13:49,720 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_notifications
2025-05-09 10:13:49,721 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_notification_as_read
2025-05-09 10:13:49,722 - app - INFO - 路由: /notifications/read_all - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:13:49,722 - app - INFO - 路由: /change-password - 方法: {'OPTIONS', 'POST'} - 终端: auth.change_password
2025-05-09 10:13:49,722 - app - INFO - 路由: /reset-password - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.reset_password_page
2025-05-09 10:13:49,724 - app - INFO - 路由: /verify-email/confirm - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:13:49,724 - app - INFO - 路由: /auth/csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_csrf_token
2025-05-09 10:13:49,725 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.api_update_user
2025-05-09 10:13:49,726 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.api_delete_user
2025-05-09 10:13:49,726 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.api_get_users
2025-05-09 10:13:49,726 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST'} - 终端: auth.api_create_user
2025-05-09 10:13:49,726 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_details
2025-05-09 10:13:49,726 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'OPTIONS', 'GET', 'DELETE', 'PUT'} - 终端: auth.api_user_operations
2025-05-09 10:13:49,727 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_csrf_token
2025-05-09 10:13:49,727 - app - INFO - 路由: /main/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.index
2025-05-09 10:13:49,727 - app - INFO - 路由: /main/dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.dashboard
2025-05-09 10:13:49,727 - app - INFO - 路由: /main/check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.check_token
2025-05-09 10:13:49,727 - app - INFO - 路由: /main/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.projects
2025-05-09 10:13:49,728 - app - INFO - 路由: /main/tasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.tasks
2025-05-09 10:13:49,728 - app - INFO - 路由: /main/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.risks
2025-05-09 10:13:49,728 - app - INFO - 路由: /main/reports - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.reports
2025-05-09 10:13:49,728 - app - INFO - 路由: /main/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.resources
2025-05-09 10:13:49,728 - app - INFO - 路由: /main/profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.profile
2025-05-09 10:13:49,729 - app - INFO - 路由: /main/system/status - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.system_status
2025-05-09 10:13:49,729 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.get_dashboard_data
2025-05-09 10:13:49,729 - app - INFO - 路由: /main/test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.test_route
2025-05-09 10:13:49,730 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.project_detail_redirect
2025-05-09 10:13:49,730 - app - INFO - 路由: /main/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.users
2025-05-09 10:13:49,730 - app - INFO - 路由: /main/debug/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects
2025-05-09 10:13:49,730 - app - INFO - 路由: /main/simple/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.simple_projects
2025-05-09 10:13:49,730 - app - INFO - 路由: /main/static-test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.static_test
2025-05-09 10:13:49,731 - app - INFO - 路由: /main/print-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.print_projects
2025-05-09 10:13:49,731 - app - INFO - 路由: /main/bypass-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.bypass_projects
2025-05-09 10:13:49,731 - app - INFO - 路由: /main/debug-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects_api
2025-05-09 10:13:49,731 - app - INFO - 路由: /projects/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.project_list
2025-05-09 10:13:49,731 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects
2025-05-09 10:13:49,731 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project
2025-05-09 10:13:49,732 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project
2025-05-09 10:13:49,732 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project
2025-05-09 10:13:49,732 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project
2025-05-09 10:13:49,732 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_members
2025-05-09 10:13:49,732 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: projects.add_project_member
2025-05-09 10:13:49,732 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.remove_project_member
2025-05-09 10:13:49,733 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail
2025-05-09 10:13:49,733 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail_api
2025-05-09 10:13:49,733 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_api
2025-05-09 10:13:49,733 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project_api
2025-05-09 10:13:49,735 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project_api
2025-05-09 10:13:49,735 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects_api
2025-05-09 10:13:49,735 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_auth_api
2025-05-09 10:13:49,736 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'OPTIONS', 'GET', 'DELETE', 'PUT'} - 终端: projects.get_project_noauth
2025-05-09 10:13:49,736 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project_auth
2025-05-09 10:13:49,736 - app - INFO - 路由: /projects/api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_managers
2025-05-09 10:13:49,736 - app - INFO - 路由: /projects/api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_all_projects_api
2025-05-09 10:13:49,736 - app - INFO - 路由: /projects/api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_active_projects_api
2025-05-09 10:13:49,736 - app - INFO - 路由: /list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.project_list
2025-05-09 10:13:49,737 - app - INFO - 路由: / - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects
2025-05-09 10:13:49,737 - app - INFO - 路由: / - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project
2025-05-09 10:13:49,738 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project
2025-05-09 10:13:49,738 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project
2025-05-09 10:13:49,738 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project
2025-05-09 10:13:49,739 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_members
2025-05-09 10:13:49,739 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: project_root.add_project_member
2025-05-09 10:13:49,739 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.remove_project_member
2025-05-09 10:13:49,739 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail
2025-05-09 10:13:49,740 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail_api
2025-05-09 10:13:49,740 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_api
2025-05-09 10:13:49,740 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project_api
2025-05-09 10:13:49,741 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project_api
2025-05-09 10:13:49,741 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects_api
2025-05-09 10:13:49,741 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_auth_api
2025-05-09 10:13:49,742 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'OPTIONS', 'GET', 'DELETE', 'PUT'} - 终端: project_root.get_project_noauth
2025-05-09 10:13:49,742 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project_auth
2025-05-09 10:13:49,742 - app - INFO - 路由: /api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_managers
2025-05-09 10:13:49,742 - app - INFO - 路由: /api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_all_projects_api
2025-05-09 10:13:49,742 - app - INFO - 路由: /api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_active_projects_api
2025-05-09 10:13:49,742 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_tasks
2025-05-09 10:13:49,743 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task
2025-05-09 10:13:49,743 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task
2025-05-09 10:13:49,743 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task
2025-05-09 10:13:49,743 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_task
2025-05-09 10:13:49,743 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments
2025-05-09 10:13:49,744 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment
2025-05-09 10:13:49,744 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments
2025-05-09 10:13:49,744 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment
2025-05-09 10:13:49,744 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_resources
2025-05-09 10:13:49,745 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks
2025-05-09 10:13:49,745 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_subtask
2025-05-09 10:13:49,745 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_dependencies
2025-05-09 10:13:49,745 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_dependency
2025-05-09 10:13:49,746 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs
2025-05-09 10:13:49,746 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_log
2025-05-09 10:13:49,746 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.gantt_chart
2025-05-09 10:13:49,746 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_gantt_data
2025-05-09 10:13:49,746 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_gantt_task
2025-05-09 10:13:49,746 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:13:49,747 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:13:49,747 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_status
2025-05-09 10:13:49,747 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_dependency
2025-05-09 10:13:49,747 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api
2025-05-09 10:13:49,747 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:13:49,747 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_page
2025-05-09 10:13:49,748 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.edit_task_page
2025-05-09 10:13:49,748 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:13:49,748 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment_auth
2025-05-09 10:13:49,748 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_attachment
2025-05-09 10:13:49,749 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment
2025-05-09 10:13:49,749 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_attachment
2025-05-09 10:13:49,749 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_new_version
2025-05-09 10:13:49,750 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_attachment_versions
2025-05-09 10:13:49,750 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_risks_front_path
2025-05-09 10:13:49,750 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:13:49,750 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_progress
2025-05-09 10:13:49,750 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'POST'} - 终端: tasks.update_task_progress
2025-05-09 10:13:49,752 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'OPTIONS', 'POST'} - 终端: tasks.approve_task_progress
2025-05-09 10:13:49,752 - app - INFO - 路由: /tasks/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_list
2025-05-09 10:13:49,752 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:13:49,752 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:13:49,752 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:13:49,753 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:13:49,753 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:13:49,753 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:13:49,753 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:13:49,753 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.api_update_task
2025-05-09 10:13:49,754 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:13:49,754 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_csrf_token
2025-05-09 10:13:49,755 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:13:49,801 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:13:49,917 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:49,918 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,919 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('manage_users', 1, 0)
2025-05-09 10:13:49,920 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:13:49,920 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,921 - sqlalchemy.engine.Engine - INFO - [cached since 0.002164s ago] ('manage_roles', 1, 0)
2025-05-09 10:13:49,921 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:13:49,921 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,921 - sqlalchemy.engine.Engine - INFO - [cached since 0.002983s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:13:49,921 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:13:49,922 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,922 - sqlalchemy.engine.Engine - INFO - [cached since 0.004155s ago] ('manage_project', 1, 0)
2025-05-09 10:13:49,923 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:13:49,923 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,923 - sqlalchemy.engine.Engine - INFO - [cached since 0.005044s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:13:49,924 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:13:49,924 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,924 - sqlalchemy.engine.Engine - INFO - [cached since 0.006212s ago] ('manage_task', 1, 0)
2025-05-09 10:13:49,924 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:13:49,926 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,926 - sqlalchemy.engine.Engine - INFO - [cached since 0.007217s ago] ('view_project', 1, 0)
2025-05-09 10:13:49,926 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:13:49,927 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,927 - sqlalchemy.engine.Engine - INFO - [cached since 0.008022s ago] ('view_task', 1, 0)
2025-05-09 10:13:49,928 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:13:49,929 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,929 - sqlalchemy.engine.Engine - INFO - [cached since 0.01041s ago] ('manage_resources', 1, 0)
2025-05-09 10:13:49,929 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:13:49,929 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,929 - sqlalchemy.engine.Engine - INFO - [cached since 0.01121s ago] ('manage_risks', 1, 0)
2025-05-09 10:13:49,930 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:13:49,930 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,930 - sqlalchemy.engine.Engine - INFO - [cached since 0.0119s ago] ('view_reports', 1, 0)
2025-05-09 10:13:49,930 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:13:49,930 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,931 - sqlalchemy.engine.Engine - INFO - [cached since 0.01258s ago] ('create_task', 1, 0)
2025-05-09 10:13:49,931 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:13:49,931 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,931 - sqlalchemy.engine.Engine - INFO - [cached since 0.01323s ago] ('create_project', 1, 0)
2025-05-09 10:13:49,931 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:13:49,933 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,933 - sqlalchemy.engine.Engine - INFO - [cached since 0.01389s ago] ('assign_task', 1, 0)
2025-05-09 10:13:49,933 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:13:49,934 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,934 - sqlalchemy.engine.Engine - INFO - [cached since 0.01475s ago] ('change_project_status', 1, 0)
2025-05-09 10:13:49,934 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:13:49,934 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,935 - sqlalchemy.engine.Engine - INFO - [cached since 0.01564s ago] ('change_task_status', 1, 0)
2025-05-09 10:13:49,935 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:13:49,935 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:49,935 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:49,936 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:13:49,936 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ()
2025-05-09 10:13:49,937 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,937 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('admin', 1, 0)
2025-05-09 10:13:49,937 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:13:49,940 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:49,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] (1,)
2025-05-09 10:13:49,941 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:13:49,941 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.005647s ago] ('manager', 1, 0)
2025-05-09 10:13:49,943 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:13:49,943 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:49,944 - sqlalchemy.engine.Engine - INFO - [cached since 0.003832s ago] (2,)
2025-05-09 10:13:49,944 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:13:49,944 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:13:49,944 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:13:49,945 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:13:49,945 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:13:49,945 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:13:49,945 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:13:49,945 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:13:49,945 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:13:49,946 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:13:49,946 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:13:49,946 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:13:49,946 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,947 - sqlalchemy.engine.Engine - INFO - [cached since 0.01031s ago] ('user', 1, 0)
2025-05-09 10:13:49,947 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:13:49,947 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:49,947 - sqlalchemy.engine.Engine - INFO - [cached since 0.007857s ago] (5,)
2025-05-09 10:13:49,948 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:13:49,948 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:13:49,948 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:13:49,950 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:49,950 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:13:49,950 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:13:49,950 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:49,951 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('system', 1, 0)
2025-05-09 10:13:49,953 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,953 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('Test Project', 1, 0)
2025-05-09 10:13:49,954 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:49,954 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:13:49,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:49,954 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:49,954 - sqlalchemy.engine.Engine - INFO - [cached since 0.003485s ago] ('system', 1, 0)
2025-05-09 10:13:49,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:13:49,961 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (2, 10.1, 50.0, 10.9, 0.0, '2025-05-09 02:13:49.959638')
2025-05-09 10:13:49,966 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:49,970 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:13:49,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:49,971 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:13:49,971 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('2025-04-09 02:13:49.970006',)
2025-05-09 10:13:49,972 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:13:49,972 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('2025-05-02 02:13:49.971189',)
2025-05-09 10:13:49,973 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:49,973 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:13:49,985 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.75:5000
2025-05-09 10:13:49,985 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 10:13:49,986 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:13:50,544 - app - INFO - File logging handler initialized successfully
2025-05-09 10:13:50,545 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:13:50,545 - app - INFO - Application logging configuration completed
2025-05-09 10:13:50,545 - app - INFO - Development configuration initialized
2025-05-09 10:13:50,574 - app - INFO - Logging setup completed successfully
2025-05-09 10:13:50,807 - app - INFO - 已注册的路由:
2025-05-09 10:13:50,809 - app - INFO - 路由: /static/<path:filename> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: static
2025-05-09 10:13:50,809 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'GET', 'POST', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:50,809 - app - INFO - 路由: /api/users - 方法: {'GET', 'POST', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:13:50,810 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,810 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,810 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,811 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,811 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'GET', 'POST', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,811 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'GET', 'POST', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,811 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,812 - app - INFO - 路由: /api/tasks - 方法: {'GET', 'POST', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:13:50,812 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.login_page
2025-05-09 10:13:50,812 - app - INFO - 路由: /login - 方法: {'OPTIONS', 'POST'} - 终端: auth.login
2025-05-09 10:13:50,812 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.register_page
2025-05-09 10:13:50,812 - app - INFO - 路由: /register - 方法: {'OPTIONS', 'POST'} - 终端: auth.register
2025-05-09 10:13:50,816 - app - INFO - 路由: /logout - 方法: {'OPTIONS', 'GET', 'POST', 'HEAD'} - 终端: auth.logout
2025-05-09 10:13:50,816 - app - INFO - 路由: /refresh - 方法: {'OPTIONS', 'POST'} - 终端: auth.refresh
2025-05-09 10:13:50,816 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.profile
2025-05-09 10:13:50,817 - app - INFO - 路由: /profile - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_profile
2025-05-09 10:13:50,817 - app - INFO - 路由: /users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_users
2025-05-09 10:13:50,817 - app - INFO - 路由: /users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_by_id
2025-05-09 10:13:50,817 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user
2025-05-09 10:13:50,818 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_roles
2025-05-09 10:13:50,818 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permissions
2025-05-09 10:13:50,819 - app - INFO - 路由: /permissions - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_permission
2025-05-09 10:13:50,819 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_permission
2025-05-09 10:13:50,819 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_permission
2025-05-09 10:13:50,820 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_permission
2025-05-09 10:13:50,820 - app - INFO - 路由: /roles - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_role
2025-05-09 10:13:50,820 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_role
2025-05-09 10:13:50,820 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_role_permissions
2025-05-09 10:13:50,821 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_role
2025-05-09 10:13:50,821 - app - INFO - 路由: /dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard
2025-05-09 10:13:50,821 - app - INFO - 路由: /dashboard/redirect - 方法: {'OPTIONS', 'GET', 'POST', 'HEAD'} - 终端: auth.dashboard_redirect
2025-05-09 10:13:50,821 - app - INFO - 路由: /create_test_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_user
2025-05-09 10:13:50,823 - app - INFO - 路由: /check - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_auth
2025-05-09 10:13:50,823 - app - INFO - 路由: /create_test_project - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_test_project
2025-05-09 10:13:50,823 - app - INFO - 路由: /logout_all - 方法: {'OPTIONS', 'POST'} - 终端: auth.logout_all
2025-05-09 10:13:50,824 - app - INFO - 路由: /dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.dashboard_data
2025-05-09 10:13:50,824 - app - INFO - 路由: /check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.check_token
2025-05-09 10:13:50,824 - app - INFO - 路由: /create_user - 方法: {'OPTIONS', 'POST'} - 终端: auth.create_user
2025-05-09 10:13:50,825 - app - INFO - 路由: /user_info - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_info
2025-05-09 10:13:50,825 - app - INFO - 路由: /user/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_user
2025-05-09 10:13:50,825 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_roles
2025-05-09 10:13:50,825 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'OPTIONS', 'PUT'} - 终端: auth.update_user_roles
2025-05-09 10:13:50,826 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_notifications
2025-05-09 10:13:50,826 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_notification_as_read
2025-05-09 10:13:50,826 - app - INFO - 路由: /notifications/read_all - 方法: {'OPTIONS', 'PUT'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:13:50,827 - app - INFO - 路由: /change-password - 方法: {'OPTIONS', 'POST'} - 终端: auth.change_password
2025-05-09 10:13:50,827 - app - INFO - 路由: /reset-password - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.reset_password_page
2025-05-09 10:13:50,827 - app - INFO - 路由: /verify-email/confirm - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:13:50,827 - app - INFO - 路由: /auth/csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_csrf_token
2025-05-09 10:13:50,828 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'PUT'} - 终端: auth.api_update_user
2025-05-09 10:13:50,828 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.api_delete_user
2025-05-09 10:13:50,828 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.api_get_users
2025-05-09 10:13:50,829 - app - INFO - 路由: /api/users - 方法: {'OPTIONS', 'POST'} - 终端: auth.api_create_user
2025-05-09 10:13:50,829 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_details
2025-05-09 10:13:50,829 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'GET', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: auth.api_user_operations
2025-05-09 10:13:50,831 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: auth.get_user_csrf_token
2025-05-09 10:13:50,831 - app - INFO - 路由: /main/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.index
2025-05-09 10:13:50,832 - app - INFO - 路由: /main/dashboard - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.dashboard
2025-05-09 10:13:50,832 - app - INFO - 路由: /main/check_token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.check_token
2025-05-09 10:13:50,832 - app - INFO - 路由: /main/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.projects
2025-05-09 10:13:50,833 - app - INFO - 路由: /main/tasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.tasks
2025-05-09 10:13:50,833 - app - INFO - 路由: /main/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.risks
2025-05-09 10:13:50,834 - app - INFO - 路由: /main/reports - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.reports
2025-05-09 10:13:50,834 - app - INFO - 路由: /main/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.resources
2025-05-09 10:13:50,834 - app - INFO - 路由: /main/profile - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.profile
2025-05-09 10:13:50,834 - app - INFO - 路由: /main/system/status - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.system_status
2025-05-09 10:13:50,835 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.get_dashboard_data
2025-05-09 10:13:50,835 - app - INFO - 路由: /main/test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.test_route
2025-05-09 10:13:50,835 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.project_detail_redirect
2025-05-09 10:13:50,836 - app - INFO - 路由: /main/users - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.users
2025-05-09 10:13:50,836 - app - INFO - 路由: /main/debug/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects
2025-05-09 10:13:50,836 - app - INFO - 路由: /main/simple/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.simple_projects
2025-05-09 10:13:50,837 - app - INFO - 路由: /main/static-test - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.static_test
2025-05-09 10:13:50,837 - app - INFO - 路由: /main/print-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.print_projects
2025-05-09 10:13:50,837 - app - INFO - 路由: /main/bypass-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.bypass_projects
2025-05-09 10:13:50,837 - app - INFO - 路由: /main/debug-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: main.debug_projects_api
2025-05-09 10:13:50,838 - app - INFO - 路由: /projects/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.project_list
2025-05-09 10:13:50,838 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects
2025-05-09 10:13:50,838 - app - INFO - 路由: /projects/ - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project
2025-05-09 10:13:50,839 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project
2025-05-09 10:13:50,839 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project
2025-05-09 10:13:50,839 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project
2025-05-09 10:13:50,840 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_members
2025-05-09 10:13:50,840 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: projects.add_project_member
2025-05-09 10:13:50,840 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.remove_project_member
2025-05-09 10:13:50,840 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail
2025-05-09 10:13:50,841 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.detail_api
2025-05-09 10:13:50,841 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_api
2025-05-09 10:13:50,841 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: projects.update_project_api
2025-05-09 10:13:50,841 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project_api
2025-05-09 10:13:50,841 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_projects_api
2025-05-09 10:13:50,842 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_auth_api
2025-05-09 10:13:50,842 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: projects.get_project_noauth
2025-05-09 10:13:50,842 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: projects.create_project_auth
2025-05-09 10:13:50,842 - app - INFO - 路由: /projects/api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_project_managers
2025-05-09 10:13:50,843 - app - INFO - 路由: /projects/api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_all_projects_api
2025-05-09 10:13:50,843 - app - INFO - 路由: /projects/api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: projects.get_active_projects_api
2025-05-09 10:13:50,843 - app - INFO - 路由: /list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.project_list
2025-05-09 10:13:50,844 - app - INFO - 路由: / - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects
2025-05-09 10:13:50,844 - app - INFO - 路由: / - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project
2025-05-09 10:13:50,844 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project
2025-05-09 10:13:50,845 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project
2025-05-09 10:13:50,845 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project
2025-05-09 10:13:50,845 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_members
2025-05-09 10:13:50,845 - app - INFO - 路由: /<int:project_id>/members - 方法: {'OPTIONS', 'POST'} - 终端: project_root.add_project_member
2025-05-09 10:13:50,845 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.remove_project_member
2025-05-09 10:13:50,846 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail
2025-05-09 10:13:50,847 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.detail_api
2025-05-09 10:13:50,847 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_api
2025-05-09 10:13:50,849 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'PUT'} - 终端: project_root.update_project_api
2025-05-09 10:13:50,850 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project_api
2025-05-09 10:13:50,850 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_projects_api
2025-05-09 10:13:50,870 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_auth_api
2025-05-09 10:13:50,873 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'GET', 'OPTIONS', 'HEAD', 'DELETE', 'PUT'} - 终端: project_root.get_project_noauth
2025-05-09 10:13:50,873 - app - INFO - 路由: /api/auth/projects - 方法: {'OPTIONS', 'POST'} - 终端: project_root.create_project_auth
2025-05-09 10:13:50,874 - app - INFO - 路由: /api/project-managers - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_project_managers
2025-05-09 10:13:50,874 - app - INFO - 路由: /api/projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_all_projects_api
2025-05-09 10:13:50,876 - app - INFO - 路由: /api/active-projects - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: project_root.get_active_projects_api
2025-05-09 10:13:50,876 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_tasks
2025-05-09 10:13:50,878 - app - INFO - 路由: /tasks/ - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task
2025-05-09 10:13:50,878 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task
2025-05-09 10:13:50,881 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task
2025-05-09 10:13:50,883 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_task
2025-05-09 10:13:50,884 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments
2025-05-09 10:13:50,885 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment
2025-05-09 10:13:50,886 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments
2025-05-09 10:13:50,886 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment
2025-05-09 10:13:50,887 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_resources
2025-05-09 10:13:50,887 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks
2025-05-09 10:13:50,888 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_subtask
2025-05-09 10:13:50,888 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_dependencies
2025-05-09 10:13:50,888 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_dependency
2025-05-09 10:13:50,889 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs
2025-05-09 10:13:50,889 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_log
2025-05-09 10:13:50,889 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.gantt_chart
2025-05-09 10:13:50,889 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_gantt_data
2025-05-09 10:13:50,891 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_gantt_task
2025-05-09 10:13:50,892 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:13:50,892 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:13:50,893 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_status
2025-05-09 10:13:50,894 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_dependency
2025-05-09 10:13:50,895 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api
2025-05-09 10:13:50,895 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:13:50,896 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_detail_page
2025-05-09 10:13:50,897 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.edit_task_page
2025-05-09 10:13:50,898 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:13:50,898 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment_auth
2025-05-09 10:13:50,899 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_attachment
2025-05-09 10:13:50,899 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.download_attachment
2025-05-09 10:13:50,900 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: tasks.delete_attachment
2025-05-09 10:13:50,900 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'POST'} - 终端: tasks.upload_new_version
2025-05-09 10:13:50,902 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_attachment_versions
2025-05-09 10:13:50,903 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_risks_front_path
2025-05-09 10:13:50,903 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:13:50,904 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_progress
2025-05-09 10:13:50,904 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'OPTIONS', 'POST'} - 终端: tasks.update_task_progress
2025-05-09 10:13:50,905 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'OPTIONS', 'POST'} - 终端: tasks.approve_task_progress
2025-05-09 10:13:50,906 - app - INFO - 路由: /tasks/list - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.task_list
2025-05-09 10:13:50,906 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:13:50,907 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:13:50,907 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:13:50,908 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:13:50,909 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:13:50,909 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'OPTIONS', 'POST'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:13:50,910 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'OPTIONS', 'POST'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:13:50,911 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.api_update_task
2025-05-09 10:13:50,912 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:13:50,912 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'OPTIONS', 'GET', 'HEAD'} - 终端: tasks.get_csrf_token
2025-05-09 10:13:50,913 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'OPTIONS', 'PUT'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:13:50,980 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:13:51,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:51,094 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('manage_users', 1, 0)
2025-05-09 10:13:51,095 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:13:51,095 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,095 - sqlalchemy.engine.Engine - INFO - [cached since 0.002104s ago] ('manage_roles', 1, 0)
2025-05-09 10:13:51,096 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:13:51,096 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,097 - sqlalchemy.engine.Engine - INFO - [cached since 0.003174s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:13:51,097 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:13:51,097 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,098 - sqlalchemy.engine.Engine - INFO - [cached since 0.004518s ago] ('manage_project', 1, 0)
2025-05-09 10:13:51,098 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:13:51,099 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,099 - sqlalchemy.engine.Engine - INFO - [cached since 0.005761s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:13:51,099 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:13:51,100 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,100 - sqlalchemy.engine.Engine - INFO - [cached since 0.006798s ago] ('manage_task', 1, 0)
2025-05-09 10:13:51,100 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:13:51,101 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,102 - sqlalchemy.engine.Engine - INFO - [cached since 0.007671s ago] ('view_project', 1, 0)
2025-05-09 10:13:51,102 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:13:51,102 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,103 - sqlalchemy.engine.Engine - INFO - [cached since 0.008598s ago] ('view_task', 1, 0)
2025-05-09 10:13:51,104 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:13:51,104 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,104 - sqlalchemy.engine.Engine - INFO - [cached since 0.01053s ago] ('manage_resources', 1, 0)
2025-05-09 10:13:51,105 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:13:51,105 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,105 - sqlalchemy.engine.Engine - INFO - [cached since 0.01136s ago] ('manage_risks', 1, 0)
2025-05-09 10:13:51,105 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:13:51,106 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,106 - sqlalchemy.engine.Engine - INFO - [cached since 0.0121s ago] ('view_reports', 1, 0)
2025-05-09 10:13:51,106 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:13:51,106 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.01276s ago] ('create_task', 1, 0)
2025-05-09 10:13:51,107 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:13:51,107 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.01352s ago] ('create_project', 1, 0)
2025-05-09 10:13:51,108 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:13:51,108 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,108 - sqlalchemy.engine.Engine - INFO - [cached since 0.01433s ago] ('assign_task', 1, 0)
2025-05-09 10:13:51,108 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:13:51,109 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,109 - sqlalchemy.engine.Engine - INFO - [cached since 0.01511s ago] ('change_project_status', 1, 0)
2025-05-09 10:13:51,109 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:13:51,109 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,109 - sqlalchemy.engine.Engine - INFO - [cached since 0.01578s ago] ('change_task_status', 1, 0)
2025-05-09 10:13:51,109 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:13:51,110 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:51,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:51,111 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:13:51,111 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
2025-05-09 10:13:51,112 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('admin', 1, 0)
2025-05-09 10:13:51,113 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:13:51,115 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:51,115 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (1,)
2025-05-09 10:13:51,116 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:13:51,116 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,117 - sqlalchemy.engine.Engine - INFO - [cached since 0.004367s ago] ('manager', 1, 0)
2025-05-09 10:13:51,117 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:13:51,117 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:51,118 - sqlalchemy.engine.Engine - INFO - [cached since 0.002743s ago] (2,)
2025-05-09 10:13:51,118 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:13:51,118 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:13:51,118 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:13:51,119 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:13:51,119 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:13:51,119 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:13:51,119 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:13:51,119 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:13:51,119 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:13:51,120 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:13:51,120 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:13:51,121 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:13:51,121 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,121 - sqlalchemy.engine.Engine - INFO - [cached since 0.00852s ago] ('user', 1, 0)
2025-05-09 10:13:51,121 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:13:51,122 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:13:51,122 - sqlalchemy.engine.Engine - INFO - [cached since 0.00671s ago] (5,)
2025-05-09 10:13:51,122 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:13:51,123 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:13:51,123 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:13:51,123 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:51,124 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:13:51,124 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:13:51,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:51,125 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,125 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('system', 1, 0)
2025-05-09 10:13:51,126 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,127 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('Test Project', 1, 0)
2025-05-09 10:13:51,127 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:51,127 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:13:51,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:51,127 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:13:51,127 - sqlalchemy.engine.Engine - INFO - [cached since 0.003313s ago] ('system', 1, 0)
2025-05-09 10:13:51,135 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:13:51,135 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (2, 22.3, 50.2, 10.9, 0.0, '2025-05-09 02:13:51.133191')
2025-05-09 10:13:51,138 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:51,143 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:13:51,143 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:13:51,144 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:13:51,144 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('2025-04-09 02:13:51.143800',)
2025-05-09 10:13:51,144 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:13:51,146 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('2025-05-02 02:13:51.144969',)
2025-05-09 10:13:51,146 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:13:51,146 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:13:51,152 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:13:51,155 - werkzeug - INFO -  * Debugger PIN: 670-037-726
2025-05-09 10:14:09,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:09,764 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,764 - sqlalchemy.engine.Engine - INFO - [cached since 28.04s ago] ('manage_users', 1, 0)
2025-05-09 10:14:09,765 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:14:09,766 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,766 - sqlalchemy.engine.Engine - INFO - [cached since 28.04s ago] ('manage_roles', 1, 0)
2025-05-09 10:14:09,767 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:14:09,768 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,768 - sqlalchemy.engine.Engine - INFO - [cached since 28.04s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:14:09,769 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:14:09,770 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,770 - sqlalchemy.engine.Engine - INFO - [cached since 28.04s ago] ('manage_project', 1, 0)
2025-05-09 10:14:09,770 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:14:09,771 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,771 - sqlalchemy.engine.Engine - INFO - [cached since 28.04s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:14:09,772 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:14:09,774 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,775 - sqlalchemy.engine.Engine - INFO - [cached since 28.05s ago] ('manage_task', 1, 0)
2025-05-09 10:14:09,776 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:14:09,777 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,778 - sqlalchemy.engine.Engine - INFO - [cached since 28.05s ago] ('view_project', 1, 0)
2025-05-09 10:14:09,779 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:14:09,780 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,780 - sqlalchemy.engine.Engine - INFO - [cached since 28.05s ago] ('view_task', 1, 0)
2025-05-09 10:14:09,782 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:14:09,783 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,783 - sqlalchemy.engine.Engine - INFO - [cached since 28.05s ago] ('manage_resources', 1, 0)
2025-05-09 10:14:09,784 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:14:09,784 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,785 - sqlalchemy.engine.Engine - INFO - [cached since 28.06s ago] ('manage_risks', 1, 0)
2025-05-09 10:14:09,785 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:14:09,786 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,787 - sqlalchemy.engine.Engine - INFO - [cached since 28.06s ago] ('view_reports', 1, 0)
2025-05-09 10:14:09,787 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:14:09,789 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,790 - sqlalchemy.engine.Engine - INFO - [cached since 28.06s ago] ('create_task', 1, 0)
2025-05-09 10:14:09,791 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:14:09,792 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,793 - sqlalchemy.engine.Engine - INFO - [cached since 28.06s ago] ('create_project', 1, 0)
2025-05-09 10:14:09,793 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:14:09,795 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,795 - sqlalchemy.engine.Engine - INFO - [cached since 28.07s ago] ('assign_task', 1, 0)
2025-05-09 10:14:09,796 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:14:09,799 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,799 - sqlalchemy.engine.Engine - INFO - [cached since 28.07s ago] ('change_project_status', 1, 0)
2025-05-09 10:14:09,800 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:14:09,801 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,801 - sqlalchemy.engine.Engine - INFO - [cached since 28.07s ago] ('change_task_status', 1, 0)
2025-05-09 10:14:09,801 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:14:09,802 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:14:09,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:09,803 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:14:09,804 - sqlalchemy.engine.Engine - INFO - [cached since 28.06s ago] ()
2025-05-09 10:14:09,806 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,806 - sqlalchemy.engine.Engine - INFO - [cached since 28.06s ago] ('admin', 1, 0)
2025-05-09 10:14:09,808 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:14:09,810 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:09,811 - sqlalchemy.engine.Engine - INFO - [cached since 28.06s ago] (1,)
2025-05-09 10:14:09,812 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:14:09,813 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,814 - sqlalchemy.engine.Engine - INFO - [cached since 28.07s ago] ('manager', 1, 0)
2025-05-09 10:14:09,815 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:14:09,816 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:09,816 - sqlalchemy.engine.Engine - INFO - [cached since 28.07s ago] (2,)
2025-05-09 10:14:09,816 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:14:09,817 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:14:09,817 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:14:09,818 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:14:09,819 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:14:09,820 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:14:09,821 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:14:09,821 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:14:09,822 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:14:09,823 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:14:09,824 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:14:09,825 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:14:09,826 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:09,827 - sqlalchemy.engine.Engine - INFO - [cached since 28.08s ago] ('user', 1, 0)
2025-05-09 10:14:09,828 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:14:09,830 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:09,831 - sqlalchemy.engine.Engine - INFO - [cached since 28.08s ago] (5,)
2025-05-09 10:14:09,831 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:14:09,833 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:14:09,833 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:14:09,834 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:14:09,834 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:14:09,835 - app - INFO - 角色和权限初始化成功
2025-05-09 10:14:09,835 - app - INFO - 应用初始化完成
2025-05-09 10:14:09,885 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:09] "GET /login HTTP/1.1" 200 -
2025-05-09 10:14:10,146 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/css/bootstrap-icons.css HTTP/1.1" 200 -
2025-05-09 10:14:10,147 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/css/bootstrap.min.css HTTP/1.1" 200 -
2025-05-09 10:14:10,152 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/js/jquery.min.js HTTP/1.1" 200 -
2025-05-09 10:14:10,152 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/js/bootstrap.bundle.min.js HTTP/1.1" 200 -
2025-05-09 10:14:10,154 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/css/style.css HTTP/1.1" 200 -
2025-05-09 10:14:10,153 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/images/background.png HTTP/1.1" 200 -
2025-05-09 10:14:10,156 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/js/auth.js HTTP/1.1" 200 -
2025-05-09 10:14:10,168 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/js/fix-modals.js HTTP/1.1" 200 -
2025-05-09 10:14:10,169 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/js/csrf.js HTTP/1.1" 200 -
2025-05-09 10:14:10,169 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/js/background-helper.js HTTP/1.1" 200 -
2025-05-09 10:14:10,174 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:14:10,191 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:14:10,203 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:10] "GET /static/favicon.ico HTTP/1.1" 200 -
2025-05-09 10:14:11,199 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:11] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:14:11,607 - app - INFO - 登录请求 - 方法: POST, 内容类型: application/x-www-form-urlencoded
2025-05-09 10:14:11,608 - app - INFO - 请求头: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '135', 'Cache-Control': 'max-age=0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Origin': 'http://127.0.0.1:5000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://127.0.0.1:5000/login', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Cookie': 'session=eyJjc3JmX3Rva2VuIjoiYWIwOWI0MjFjMjRiN2FmOTBhMzk2ZjE4ZmNjNDc0MWI1MWFjODRkNyJ9.aB1k8w.KWa8Z5AkJQd92HGums1ao7Syq6Y'}
2025-05-09 10:14:11,609 - app - INFO - 处理表单格式的登录请求
2025-05-09 10:14:11,611 - app - INFO - 表单数据: username=user3, password=********
2025-05-09 10:14:11,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:11,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:11,612 - sqlalchemy.engine.Engine - INFO - [cached since 29.85s ago] ('user3', 1, 0)
2025-05-09 10:14:12,082 - app - INFO - 已生成CSRF令牌: ImFiMDliND...
2025-05-09 10:14:12,086 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:12,087 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] (9,)
2025-05-09 10:14:12,092 - app - INFO - 用户 user3 的角色: ['user']
2025-05-09 10:14:12,095 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 9
2025-05-09 10:14:12,097 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:12,099 - sqlalchemy.engine.Engine - INFO - [cached since 30.35s ago] (5,)
2025-05-09 10:14:12,101 - app.utils.jwt_callbacks - INFO - Added claims for user 9: {'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}}
2025-05-09 10:14:12,103 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 9
2025-05-09 10:14:12,104 - app.utils.jwt_callbacks - INFO - Added claims for user 9: {'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}}
2025-05-09 10:14:12,113 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=?, last_login=? WHERE users.id = ?
2025-05-09 10:14:12,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00099s] ('2025-05-09 02:14:12.113094', '2025-05-09 02:14:12.107770', 9)
2025-05-09 10:14:12,116 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:14:12,122 - app - INFO - 用户登录成功: user3
2025-05-09 10:14:12,124 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 10:14:12,131 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:12,132 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:12,135 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:12,136 - sqlalchemy.engine.Engine - INFO - [generated in 0.00098s] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:12,136 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:12,139 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:12,141 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:12,141 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:12,143 - app.utils.jwt_callbacks - INFO - Token time difference: -0.143876 seconds
2025-05-09 10:14:12,148 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:12,150 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:12,154 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:12,156 - sqlalchemy.engine.Engine - INFO - [generated in 0.00201s] (9,)
2025-05-09 10:14:12,158 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:12,161 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:12,163 - sqlalchemy.engine.Engine - INFO - [cached since 0.07672s ago] (9,)
2025-05-09 10:14:12,164 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:12,166 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:12,167 - sqlalchemy.engine.Engine - INFO - [cached since 30.42s ago] (5,)
2025-05-09 10:14:12,172 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:12,174 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:12,177 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:12,178 - sqlalchemy.engine.Engine - INFO - [cached since 0.04427s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:12,179 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:12,181 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:12,181 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:12,183 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:12,185 - app.utils.jwt_callbacks - INFO - Token time difference: -0.185174 seconds
2025-05-09 10:14:12,186 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:12,187 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:12,188 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:12,189 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:12,195 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:12,196 - app - INFO - Dashboard access with user ID: 9
2025-05-09 10:14:12,196 - app - INFO - Token found in: cookies
2025-05-09 10:14:12,202 - app - INFO - Dashboard context user_data: {'id': 9, 'username': 'user3', 'email': 'errr@163.com', 'name': 'user3', 'is_active': True, 'created_at': '2025-05-08T02:55:24.302933', 'last_login': '2025-05-09T02:14:12.107770', 'roles': ['user'], 'permissions': ['view_reports', 'view_project', 'view_task']}
2025-05-09 10:14:12,203 - app - INFO - 用户 user3 的角色: ['user']
2025-05-09 10:14:12,205 - app - INFO - 用户 user3 的权限: ['view_reports', 'view_project', 'view_task']
2025-05-09 10:14:12,206 - app - INFO - 用户 user3 - 是否管理员: False, 是否项目经理: False
2025-05-09 10:14:12,229 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:12,230 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:14:12,259 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,261 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,261 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,263 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,270 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,270 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,270 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,277 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:12,284 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "GET /static/css/fonts/bootstrap-icons.woff2 HTTP/1.1" 200 -
2025-05-09 10:14:12,303 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:12] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,433 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:14:13,434 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:13,435 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:13,436 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:13,436 - sqlalchemy.engine.Engine - INFO - [cached since 1.303s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:13,438 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:13,439 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:13,439 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:13,440 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:13,442 - app.utils.jwt_callbacks - INFO - Token time difference: -1.44248 seconds
2025-05-09 10:14:13,442 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:13,443 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:13,444 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:13,444 - sqlalchemy.engine.Engine - INFO - [cached since 1.29s ago] (9,)
2025-05-09 10:14:13,445 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:13,448 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:13,448 - sqlalchemy.engine.Engine - INFO - [cached since 1.363s ago] (9,)
2025-05-09 10:14:13,450 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:13,451 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:13,452 - sqlalchemy.engine.Engine - INFO - [cached since 31.7s ago] (5,)
2025-05-09 10:14:13,452 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:13,454 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:14:13,455 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:13,455 - sqlalchemy.engine.Engine - INFO - [cached since 1.301s ago] (1,)
2025-05-09 10:14:13,456 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:13,456 - sqlalchemy.engine.Engine - INFO - [cached since 1.37s ago] (1,)
2025-05-09 10:14:13,457 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:13,458 - sqlalchemy.engine.Engine - INFO - [cached since 31.71s ago] (1,)
2025-05-09 10:14:13,461 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:14:13,461 - sqlalchemy.engine.Engine - INFO - [generated in 0.00083s] ()
2025-05-09 10:14:13,464 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:13,464 - sqlalchemy.engine.Engine - INFO - [cached since 1.311s ago] (5,)
2025-05-09 10:14:13,466 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:13,467 - sqlalchemy.engine.Engine - INFO - [cached since 1.314s ago] (8,)
2025-05-09 10:14:13,468 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:13,468 - sqlalchemy.engine.Engine - INFO - [cached since 1.315s ago] (5,)
2025-05-09 10:14:13,495 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:13,497 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:14:13,525 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,527 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,529 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,533 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,533 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "GET /static/js/frappe-gantt.min.js HTTP/1.1" 200 -
2025-05-09 10:14:13,536 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "GET /static/css/frappe-gantt.min.css HTTP/1.1" 200 -
2025-05-09 10:14:13,538 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,539 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,542 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,546 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:13,562 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:13] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:14:38,079 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:38,081 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:38,082 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:38,082 - sqlalchemy.engine.Engine - INFO - [cached since 25.95s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:38,083 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:38,085 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:38,087 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:38,088 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:38,089 - app.utils.jwt_callbacks - INFO - Token time difference: -26.089314 seconds
2025-05-09 10:14:38,089 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:38,090 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:38,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:38,091 - sqlalchemy.engine.Engine - INFO - [cached since 25.94s ago] (9,)
2025-05-09 10:14:38,093 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:38,095 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:38,095 - sqlalchemy.engine.Engine - INFO - [cached since 26.01s ago] (9,)
2025-05-09 10:14:38,096 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:38,097 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:38,097 - sqlalchemy.engine.Engine - INFO - [cached since 56.35s ago] (5,)
2025-05-09 10:14:38,097 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:38,099 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 10:14:38,100 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] (1,)
2025-05-09 10:14:38,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:38,101 - sqlalchemy.engine.Engine - INFO - [cached since 25.95s ago] (5,)
2025-05-09 10:14:38,103 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.is_active = 1
2025-05-09 10:14:38,104 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ()
2025-05-09 10:14:38,105 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:38,106 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:38] "GET /api/noauth/projects/1 HTTP/1.1" 200 -
2025-05-09 10:14:46,400 - app - WARNING - 绕过JWT验证: /api/noauth/projects/1
2025-05-09 10:14:46,403 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:46,403 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 10:14:46,404 - sqlalchemy.engine.Engine - INFO - [cached since 8.305s ago] (1,)
2025-05-09 10:14:46,407 - sqlalchemy.engine.Engine - INFO - UPDATE projects SET updated_at=?, manager_id=? WHERE projects.id = ?
2025-05-09 10:14:46,407 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('2025-05-09 10:14:46.405280', '3', 1)
2025-05-09 10:14:46,409 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:14:46,414 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:46,416 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.id = ?
2025-05-09 10:14:46,417 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] (1,)
2025-05-09 10:14:46,419 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:46,419 - sqlalchemy.engine.Engine - INFO - [cached since 34.27s ago] (3,)
2025-05-09 10:14:46,423 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:46,424 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:46] "PUT /api/noauth/projects/1?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:14:47,246 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:14:47,247 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:47,247 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:47,248 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:47,249 - sqlalchemy.engine.Engine - INFO - [cached since 35.11s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:47,250 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:47,255 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:47,258 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:47,260 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:47,262 - app.utils.jwt_callbacks - INFO - Token time difference: -35.262989 seconds
2025-05-09 10:14:47,266 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:47,267 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:47,271 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:47,272 - sqlalchemy.engine.Engine - INFO - [cached since 35.12s ago] (9,)
2025-05-09 10:14:47,274 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:47,276 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:47,277 - sqlalchemy.engine.Engine - INFO - [cached since 35.19s ago] (9,)
2025-05-09 10:14:47,279 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:47,280 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:47,281 - sqlalchemy.engine.Engine - INFO - [cached since 65.53s ago] (5,)
2025-05-09 10:14:47,281 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:47,284 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:14:47,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:47,286 - sqlalchemy.engine.Engine - INFO - [cached since 35.13s ago] (1,)
2025-05-09 10:14:47,289 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:47,290 - sqlalchemy.engine.Engine - INFO - [cached since 35.2s ago] (1,)
2025-05-09 10:14:47,292 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:47,293 - sqlalchemy.engine.Engine - INFO - [cached since 65.54s ago] (1,)
2025-05-09 10:14:47,296 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:14:47,297 - sqlalchemy.engine.Engine - INFO - [cached since 33.84s ago] ()
2025-05-09 10:14:47,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:47,300 - sqlalchemy.engine.Engine - INFO - [cached since 35.15s ago] (3,)
2025-05-09 10:14:47,303 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:47,304 - sqlalchemy.engine.Engine - INFO - [cached since 35.15s ago] (5,)
2025-05-09 10:14:47,307 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:47,307 - sqlalchemy.engine.Engine - INFO - [cached since 35.15s ago] (8,)
2025-05-09 10:14:47,308 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:47,308 - sqlalchemy.engine.Engine - INFO - [cached since 35.15s ago] (5,)
2025-05-09 10:14:47,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:47,313 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:14:47,337 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,337 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,344 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,347 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,350 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,356 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,359 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,362 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,362 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,364 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:47,381 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:47] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:14:51,763 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:51] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,520 - app - WARNING - 绕过JWT验证: /main/tasks
2025-05-09 10:14:52,522 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:52,523 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:52,524 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:52,525 - sqlalchemy.engine.Engine - INFO - [cached since 40.39s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:52,526 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:52,527 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:52,528 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:52,530 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:52,530 - app.utils.jwt_callbacks - INFO - Token time difference: -40.530963 seconds
2025-05-09 10:14:52,530 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:52,532 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:52,533 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:52,534 - sqlalchemy.engine.Engine - INFO - [cached since 40.38s ago] (9,)
2025-05-09 10:14:52,536 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:52,538 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:52,538 - sqlalchemy.engine.Engine - INFO - [cached since 40.45s ago] (9,)
2025-05-09 10:14:52,540 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:52,544 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:52,544 - sqlalchemy.engine.Engine - INFO - [cached since 70.79s ago] (5,)
2025-05-09 10:14:52,545 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:52,546 - app.routes.main - INFO - JWT bypass enabled for tasks - Using test user
2025-05-09 10:14:52,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:52,548 - sqlalchemy.engine.Engine - INFO - [cached since 40.39s ago] (1,)
2025-05-09 10:14:52,551 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:52,551 - sqlalchemy.engine.Engine - INFO - [cached since 40.47s ago] (1,)
2025-05-09 10:14:52,553 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:52,554 - sqlalchemy.engine.Engine - INFO - [cached since 70.8s ago] (1,)
2025-05-09 10:14:52,561 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks
2025-05-09 10:14:52,561 - sqlalchemy.engine.Engine - INFO - [generated in 0.00089s] ()
2025-05-09 10:14:52,614 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:52,616 - sqlalchemy.engine.Engine - INFO - [generated in 0.00245s] (5,)
2025-05-09 10:14:52,619 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:52,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.006343s ago] (6,)
2025-05-09 10:14:52,622 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:52,623 - sqlalchemy.engine.Engine - INFO - [cached since 0.009892s ago] (7,)
2025-05-09 10:14:52,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:52,626 - sqlalchemy.engine.Engine - INFO - [cached since 0.01349s ago] (8,)
2025-05-09 10:14:52,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:52,629 - sqlalchemy.engine.Engine - INFO - [cached since 0.01588s ago] (3,)
2025-05-09 10:14:52,631 - app - INFO - 未认证用户被视为普通用户
2025-05-09 10:14:52,634 - app - INFO - 未认证用户被视为普通用户
2025-05-09 10:14:52,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:52,638 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "GET /main/tasks?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:14:52,666 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,667 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,670 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,672 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,673 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "GET /static/js/utils/tasks.js HTTP/1.1" 200 -
2025-05-09 10:14:52,674 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,680 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,681 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,681 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:52,720 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:52] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,324 - app - WARNING - 绕过JWT验证: /tasks/2/view
2025-05-09 10:14:55,324 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:55,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:55,326 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:55,326 - sqlalchemy.engine.Engine - INFO - [cached since 43.19s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:55,327 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:55,327 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:55,328 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:55,328 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:55,329 - app.utils.jwt_callbacks - INFO - Token time difference: -43.329221 seconds
2025-05-09 10:14:55,330 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:55,331 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:55,333 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:55,334 - sqlalchemy.engine.Engine - INFO - [cached since 43.18s ago] (9,)
2025-05-09 10:14:55,335 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:55,337 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:55,337 - sqlalchemy.engine.Engine - INFO - [cached since 43.25s ago] (9,)
2025-05-09 10:14:55,337 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:55,338 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:55,339 - sqlalchemy.engine.Engine - INFO - [cached since 73.59s ago] (5,)
2025-05-09 10:14:55,341 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:55,342 - app.routes.tasks - INFO - JWT bypass enabled for task_detail_page 2 - Using test user
2025-05-09 10:14:55,344 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks 
WHERE tasks.id = ?
2025-05-09 10:14:55,345 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] (2,)
2025-05-09 10:14:55,345 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:14:55,346 - sqlalchemy.engine.Engine - INFO - [cached since 41.89s ago] ()
2025-05-09 10:14:55,347 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users
2025-05-09 10:14:55,348 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] ()
2025-05-09 10:14:55,387 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:55,388 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "GET /tasks/2/view?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:14:55,415 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,418 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,419 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,421 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,422 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,426 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,428 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,428 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,451 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:14:55,544 - app - WARNING - 绕过JWT验证: /api/auth/tasks/2/detail
2025-05-09 10:14:55,547 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:55] "[33mGET /api/auth/tasks/2/detail?bypass_jwt=true HTTP/1.1[0m" 404 -
2025-05-09 10:14:57,779 - app - WARNING - 绕过JWT验证: /tasks
2025-05-09 10:14:57,780 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:57] "[32mGET /tasks?bypass_jwt=true HTTP/1.1[0m" 308 -
2025-05-09 10:14:57,787 - app - WARNING - 绕过JWT验证: /tasks/
2025-05-09 10:14:57,788 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:57,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:57,791 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:57,791 - sqlalchemy.engine.Engine - INFO - [cached since 45.66s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:57,792 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:57,792 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:57,793 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:57,794 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:57,794 - app.utils.jwt_callbacks - INFO - Token time difference: -45.794594 seconds
2025-05-09 10:14:57,795 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:57,795 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:57,796 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:57,796 - sqlalchemy.engine.Engine - INFO - [cached since 45.64s ago] (9,)
2025-05-09 10:14:57,797 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:57,797 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:57,798 - sqlalchemy.engine.Engine - INFO - [cached since 45.71s ago] (9,)
2025-05-09 10:14:57,799 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:57,800 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:57,801 - sqlalchemy.engine.Engine - INFO - [cached since 76.05s ago] (5,)
2025-05-09 10:14:57,802 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:57,813 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id, projects_1.id AS projects_1_id, projects_1.name AS projects_1_name, projects_1.description AS projects_1_description, projects_1.status AS projects_1_status, projects_1.start_date AS projects_1_start_date, projects_1.end_date AS projects_1_end_date, projects_1.progress AS projects_1_progress, projects_1.created_at AS projects_1_created_at, projects_1.updated_at AS projects_1_updated_at, projects_1.manager_id AS projects_1_manager_id, projects_1.owner_id AS projects_1_owner_id, users_1.id AS users_1_id, users_1.username AS users_1_username, users_1.email AS users_1_email, users_1.name AS users_1_name, users_1.password_hash AS users_1_password_hash, users_1.is_active AS users_1_is_active, users_1.created_at AS users_1_created_at, users_1.updated_at AS users_1_updated_at, users_1.last_login AS users_1_last_login, users_2.id AS users_2_id, users_2.username AS users_2_username, users_2.email AS users_2_email, users_2.name AS users_2_name, users_2.password_hash AS users_2_password_hash, users_2.is_active AS users_2_is_active, users_2.created_at AS users_2_created_at, users_2.updated_at AS users_2_updated_at, users_2.last_login AS users_2_last_login 
FROM tasks LEFT OUTER JOIN projects AS projects_1 ON projects_1.id = tasks.project_id LEFT OUTER JOIN users AS users_1 ON users_1.id = tasks.assignee_id LEFT OUTER JOIN users AS users_2 ON users_2.id = tasks.created_by ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
2025-05-09 10:14:57,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00130s] (10, 0)
2025-05-09 10:14:57,826 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks) AS anon_1
2025-05-09 10:14:57,830 - sqlalchemy.engine.Engine - INFO - [generated in 0.00468s] ()
2025-05-09 10:14:57,834 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:57,837 - sqlalchemy.engine.Engine - INFO - [generated in 0.00311s] (8,)
2025-05-09 10:14:57,848 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:57,851 - sqlalchemy.engine.Engine - INFO - [generated in 0.00350s] (1,)
2025-05-09 10:14:57,855 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:57,858 - sqlalchemy.engine.Engine - INFO - [generated in 0.00313s] (1,)
2025-05-09 10:14:57,867 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:57,869 - sqlalchemy.engine.Engine - INFO - [generated in 0.00212s] (20,)
2025-05-09 10:14:57,875 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:57,877 - sqlalchemy.engine.Engine - INFO - [generated in 0.00275s] (20,)
2025-05-09 10:14:57,885 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:57,887 - sqlalchemy.engine.Engine - INFO - [generated in 0.00191s] (20,)
2025-05-09 10:14:57,894 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:57,896 - sqlalchemy.engine.Engine - INFO - [generated in 0.00293s] (20,)
2025-05-09 10:14:57,902 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:57,910 - sqlalchemy.engine.Engine - INFO - [generated in 0.00858s] (20,)
2025-05-09 10:14:57,918 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:57,922 - sqlalchemy.engine.Engine - INFO - [generated in 0.00500s] (20,)
2025-05-09 10:14:57,924 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:57,925 - sqlalchemy.engine.Engine - INFO - [cached since 0.05946s ago] (19,)
2025-05-09 10:14:57,928 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:57,929 - sqlalchemy.engine.Engine - INFO - [cached since 0.05401s ago] (19,)
2025-05-09 10:14:57,930 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:57,931 - sqlalchemy.engine.Engine - INFO - [cached since 0.04539s ago] (19,)
2025-05-09 10:14:57,932 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:57,933 - sqlalchemy.engine.Engine - INFO - [cached since 0.03943s ago] (19,)
2025-05-09 10:14:57,935 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:57,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.03491s ago] (19,)
2025-05-09 10:14:57,938 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:57,939 - sqlalchemy.engine.Engine - INFO - [cached since 0.02169s ago] (19,)
2025-05-09 10:14:57,941 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:57,942 - sqlalchemy.engine.Engine - INFO - [cached since 0.1071s ago] (3,)
2025-05-09 10:14:57,944 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:57,945 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] (2,)
2025-05-09 10:14:57,947 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:57,948 - sqlalchemy.engine.Engine - INFO - [cached since 0.08215s ago] (18,)
2025-05-09 10:14:57,966 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:57,968 - sqlalchemy.engine.Engine - INFO - [cached since 0.09359s ago] (18,)
2025-05-09 10:14:57,971 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:57,972 - sqlalchemy.engine.Engine - INFO - [cached since 0.08656s ago] (18,)
2025-05-09 10:14:57,974 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:57,975 - sqlalchemy.engine.Engine - INFO - [cached since 0.08164s ago] (18,)
2025-05-09 10:14:57,977 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:57,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.07683s ago] (18,)
2025-05-09 10:14:57,980 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:57,981 - sqlalchemy.engine.Engine - INFO - [cached since 0.06383s ago] (18,)
2025-05-09 10:14:57,986 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:57,988 - sqlalchemy.engine.Engine - INFO - [cached since 0.1223s ago] (17,)
2025-05-09 10:14:57,991 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:57,994 - sqlalchemy.engine.Engine - INFO - [cached since 0.1194s ago] (17,)
2025-05-09 10:14:57,998 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:58,003 - sqlalchemy.engine.Engine - INFO - [cached since 0.1167s ago] (17,)
2025-05-09 10:14:58,008 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:58,009 - sqlalchemy.engine.Engine - INFO - [cached since 0.1155s ago] (17,)
2025-05-09 10:14:58,015 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:58,016 - sqlalchemy.engine.Engine - INFO - [cached since 0.1149s ago] (17,)
2025-05-09 10:14:58,019 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:58,022 - sqlalchemy.engine.Engine - INFO - [cached since 0.1038s ago] (17,)
2025-05-09 10:14:58,025 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:58,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.161s ago] (16,)
2025-05-09 10:14:58,029 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:58,031 - sqlalchemy.engine.Engine - INFO - [cached since 0.1569s ago] (16,)
2025-05-09 10:14:58,035 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:58,037 - sqlalchemy.engine.Engine - INFO - [cached since 0.1513s ago] (16,)
2025-05-09 10:14:58,041 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:58,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.151s ago] (16,)
2025-05-09 10:14:58,048 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:58,050 - sqlalchemy.engine.Engine - INFO - [cached since 0.1494s ago] (16,)
2025-05-09 10:14:58,054 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:58,056 - sqlalchemy.engine.Engine - INFO - [cached since 0.1383s ago] (16,)
2025-05-09 10:14:58,058 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:58,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.2134s ago] (6,)
2025-05-09 10:14:58,062 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:58,064 - sqlalchemy.engine.Engine - INFO - [cached since 0.21s ago] (3,)
2025-05-09 10:14:58,068 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:58,070 - sqlalchemy.engine.Engine - INFO - [cached since 0.2225s ago] (2,)
2025-05-09 10:14:58,073 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:58,073 - sqlalchemy.engine.Engine - INFO - [cached since 0.2073s ago] (15,)
2025-05-09 10:14:58,076 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:58,078 - sqlalchemy.engine.Engine - INFO - [cached since 0.2031s ago] (15,)
2025-05-09 10:14:58,080 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:58,081 - sqlalchemy.engine.Engine - INFO - [cached since 0.1957s ago] (15,)
2025-05-09 10:14:58,084 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:58,087 - sqlalchemy.engine.Engine - INFO - [cached since 0.193s ago] (15,)
2025-05-09 10:14:58,089 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:58,091 - sqlalchemy.engine.Engine - INFO - [cached since 0.19s ago] (15,)
2025-05-09 10:14:58,095 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:58,097 - sqlalchemy.engine.Engine - INFO - [cached since 0.1789s ago] (15,)
2025-05-09 10:14:58,100 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:58,102 - sqlalchemy.engine.Engine - INFO - [cached since 0.2676s ago] (7,)
2025-05-09 10:14:58,106 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:58,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.1634s ago] (4,)
2025-05-09 10:14:58,109 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:58,111 - sqlalchemy.engine.Engine - INFO - [cached since 0.2633s ago] (5,)
2025-05-09 10:14:58,115 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:58,117 - sqlalchemy.engine.Engine - INFO - [cached since 0.2507s ago] (14,)
2025-05-09 10:14:58,120 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:58,122 - sqlalchemy.engine.Engine - INFO - [cached since 0.2478s ago] (14,)
2025-05-09 10:14:58,124 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:58,126 - sqlalchemy.engine.Engine - INFO - [cached since 0.2399s ago] (14,)
2025-05-09 10:14:58,128 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:58,129 - sqlalchemy.engine.Engine - INFO - [cached since 0.2357s ago] (14,)
2025-05-09 10:14:58,133 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:58,134 - sqlalchemy.engine.Engine - INFO - [cached since 0.2325s ago] (14,)
2025-05-09 10:14:58,144 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:58,145 - sqlalchemy.engine.Engine - INFO - [cached since 0.2277s ago] (14,)
2025-05-09 10:14:58,150 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:58,151 - sqlalchemy.engine.Engine - INFO - [cached since 0.3033s ago] (4,)
2025-05-09 10:14:58,153 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:58,154 - sqlalchemy.engine.Engine - INFO - [cached since 0.2878s ago] (13,)
2025-05-09 10:14:58,156 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:58,158 - sqlalchemy.engine.Engine - INFO - [cached since 0.283s ago] (13,)
2025-05-09 10:14:58,160 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:58,160 - sqlalchemy.engine.Engine - INFO - [cached since 0.2752s ago] (13,)
2025-05-09 10:14:58,163 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:58,163 - sqlalchemy.engine.Engine - INFO - [cached since 0.2699s ago] (13,)
2025-05-09 10:14:58,166 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:58,166 - sqlalchemy.engine.Engine - INFO - [cached since 0.2643s ago] (13,)
2025-05-09 10:14:58,168 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:58,168 - sqlalchemy.engine.Engine - INFO - [cached since 0.2505s ago] (13,)
2025-05-09 10:14:58,171 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:58,172 - sqlalchemy.engine.Engine - INFO - [cached since 0.3056s ago] (12,)
2025-05-09 10:14:58,174 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:58,175 - sqlalchemy.engine.Engine - INFO - [cached since 0.3008s ago] (12,)
2025-05-09 10:14:58,178 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:58,178 - sqlalchemy.engine.Engine - INFO - [cached since 0.2929s ago] (12,)
2025-05-09 10:14:58,180 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:58,181 - sqlalchemy.engine.Engine - INFO - [cached since 0.2872s ago] (12,)
2025-05-09 10:14:58,183 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:58,184 - sqlalchemy.engine.Engine - INFO - [cached since 0.2826s ago] (12,)
2025-05-09 10:14:58,185 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:58,185 - sqlalchemy.engine.Engine - INFO - [cached since 0.2678s ago] (12,)
2025-05-09 10:14:58,186 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:14:58,187 - sqlalchemy.engine.Engine - INFO - [cached since 0.3215s ago] (11,)
2025-05-09 10:14:58,189 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:14:58,190 - sqlalchemy.engine.Engine - INFO - [cached since 0.3148s ago] (11,)
2025-05-09 10:14:58,190 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:14:58,191 - sqlalchemy.engine.Engine - INFO - [cached since 0.305s ago] (11,)
2025-05-09 10:14:58,192 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:14:58,195 - sqlalchemy.engine.Engine - INFO - [cached since 0.3007s ago] (11,)
2025-05-09 10:14:58,197 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:14:58,198 - sqlalchemy.engine.Engine - INFO - [cached since 0.297s ago] (11,)
2025-05-09 10:14:58,200 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:14:58,201 - sqlalchemy.engine.Engine - INFO - [cached since 0.2829s ago] (11,)
2025-05-09 10:14:58,203 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:58,204 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:58] "GET /tasks/?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:14:58,247 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:58,249 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:58,249 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:58,250 - sqlalchemy.engine.Engine - INFO - [cached since 46.12s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:58,250 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:58,251 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:58,251 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:58,252 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:58,253 - app.utils.jwt_callbacks - INFO - Token time difference: -46.253703 seconds
2025-05-09 10:14:58,253 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:58,255 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:58,257 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:58,257 - sqlalchemy.engine.Engine - INFO - [cached since 46.1s ago] (9,)
2025-05-09 10:14:58,258 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:58,259 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:58,259 - sqlalchemy.engine.Engine - INFO - [cached since 46.17s ago] (9,)
2025-05-09 10:14:58,260 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:58,261 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:58,263 - sqlalchemy.engine.Engine - INFO - [cached since 76.51s ago] (5,)
2025-05-09 10:14:58,264 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:58,265 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:58,267 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:58,267 - sqlalchemy.engine.Engine - INFO - [cached since 46.13s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:58,268 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:58,269 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:58,269 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:58,271 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:58,273 - app.utils.jwt_callbacks - INFO - Token time difference: -46.273325 seconds
2025-05-09 10:14:58,273 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:58,275 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:58,276 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:58,276 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:58,277 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:58,277 - app - INFO - 用户已认证，重定向到仪表板页面: /favicon.ico
2025-05-09 10:14:58,278 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:58,278 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:58] "[32mGET /favicon.ico HTTP/1.1[0m" 302 -
2025-05-09 10:14:58,284 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:58,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:14:58,287 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:58,287 - sqlalchemy.engine.Engine - INFO - [cached since 46.15s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:58,288 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:58,290 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:58,290 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:58,291 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:58,291 - app.utils.jwt_callbacks - INFO - Token time difference: -46.291188 seconds
2025-05-09 10:14:58,292 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:58,292 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:58,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:14:58,294 - sqlalchemy.engine.Engine - INFO - [cached since 46.14s ago] (9,)
2025-05-09 10:14:58,295 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:58,298 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:14:58,299 - sqlalchemy.engine.Engine - INFO - [cached since 46.21s ago] (9,)
2025-05-09 10:14:58,299 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:58,301 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:14:58,302 - sqlalchemy.engine.Engine - INFO - [cached since 76.55s ago] (5,)
2025-05-09 10:14:58,303 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:58,304 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:14:58,305 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:14:58,307 - sqlalchemy.engine.Engine - INFO - [cached since 46.17s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:14:58,307 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:14:58,308 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:14:58,308 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:14:58,308 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:14:58,309 - app.utils.jwt_callbacks - INFO - Token time difference: -46.309339 seconds
2025-05-09 10:14:58,310 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:14:58,311 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:14:58,312 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:14:58,313 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:14:58,314 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:14:58,315 - app - INFO - Dashboard access with user ID: 9
2025-05-09 10:14:58,316 - app - INFO - Token found in: cookies
2025-05-09 10:14:58,318 - app - INFO - Dashboard context user_data: {'id': 9, 'username': 'user3', 'email': 'errr@163.com', 'name': 'user3', 'is_active': True, 'created_at': '2025-05-08T02:55:24.302933', 'last_login': '2025-05-09T02:14:12.107770', 'roles': ['user'], 'permissions': ['view_reports', 'view_project', 'view_task']}
2025-05-09 10:14:58,320 - app - INFO - 用户 user3 的角色: ['user']
2025-05-09 10:14:58,320 - app - INFO - 用户 user3 的权限: ['view_reports', 'view_project', 'view_task']
2025-05-09 10:14:58,321 - app - INFO - 用户 user3 - 是否管理员: False, 是否项目经理: False
2025-05-09 10:14:58,324 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:14:58,324 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:14:58] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:15:00,980 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:00] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:15:02,690 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:02] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:15:13,611 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:13] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,844 - app - WARNING - 绕过JWT验证: /main/reports
2025-05-09 10:15:14,845 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:15:14,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:15:14,847 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:15:14,847 - sqlalchemy.engine.Engine - INFO - [cached since 62.71s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:15:14,848 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:15:14,849 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:15:14,851 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:15:14,851 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:15:14,852 - app.utils.jwt_callbacks - INFO - Token time difference: -62.852301 seconds
2025-05-09 10:15:14,852 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:15:14,853 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:15:14,853 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:14,854 - sqlalchemy.engine.Engine - INFO - [cached since 62.7s ago] (9,)
2025-05-09 10:15:14,854 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:15:14,857 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:15:14,858 - sqlalchemy.engine.Engine - INFO - [cached since 62.77s ago] (9,)
2025-05-09 10:15:14,858 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:15:14,860 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:15:14,861 - sqlalchemy.engine.Engine - INFO - [cached since 93.11s ago] (5,)
2025-05-09 10:15:14,862 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:15:14,863 - app.routes.main - INFO - JWT bypass enabled for reports - Using test user
2025-05-09 10:15:14,864 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:14,865 - sqlalchemy.engine.Engine - INFO - [cached since 62.71s ago] (1,)
2025-05-09 10:15:14,867 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:15:14,867 - sqlalchemy.engine.Engine - INFO - [cached since 62.78s ago] (1,)
2025-05-09 10:15:14,869 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:15:14,869 - sqlalchemy.engine.Engine - INFO - [cached since 93.12s ago] (1,)
2025-05-09 10:15:14,871 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.status != ?
2025-05-09 10:15:14,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('deleted',)
2025-05-09 10:15:14,872 - app.routes.main - INFO - Found 4 projects for reports
2025-05-09 10:15:14,873 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.is_active = 1
2025-05-09 10:15:14,874 - sqlalchemy.engine.Engine - INFO - [cached since 36.77s ago] ()
2025-05-09 10:15:14,875 - app.routes.main - INFO - Found 9 users for reports filtering
2025-05-09 10:15:14,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:15:14,893 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "GET /main/reports?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:15:14,922 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,924 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,924 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,928 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,929 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,933 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,936 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,938 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:14,954 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:14] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:15:16,761 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:16] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,058 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:15:18,059 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:15:18,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:15:18,062 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:15:18,062 - sqlalchemy.engine.Engine - INFO - [cached since 65.93s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:15:18,063 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:15:18,065 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:15:18,066 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:15:18,067 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:15:18,068 - app.utils.jwt_callbacks - INFO - Token time difference: -66.068392 seconds
2025-05-09 10:15:18,068 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:15:18,068 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:15:18,070 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:18,070 - sqlalchemy.engine.Engine - INFO - [cached since 65.92s ago] (9,)
2025-05-09 10:15:18,071 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:15:18,071 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:15:18,072 - sqlalchemy.engine.Engine - INFO - [cached since 65.99s ago] (9,)
2025-05-09 10:15:18,077 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:15:18,079 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:15:18,079 - sqlalchemy.engine.Engine - INFO - [cached since 96.33s ago] (5,)
2025-05-09 10:15:18,080 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:15:18,081 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:15:18,082 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:18,083 - sqlalchemy.engine.Engine - INFO - [cached since 65.93s ago] (1,)
2025-05-09 10:15:18,084 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:15:18,084 - sqlalchemy.engine.Engine - INFO - [cached since 66s ago] (1,)
2025-05-09 10:15:18,086 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:15:18,086 - sqlalchemy.engine.Engine - INFO - [cached since 96.34s ago] (1,)
2025-05-09 10:15:18,087 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:15:18,087 - sqlalchemy.engine.Engine - INFO - [cached since 64.63s ago] ()
2025-05-09 10:15:18,088 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:18,089 - sqlalchemy.engine.Engine - INFO - [cached since 65.93s ago] (3,)
2025-05-09 10:15:18,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:18,091 - sqlalchemy.engine.Engine - INFO - [cached since 65.94s ago] (5,)
2025-05-09 10:15:18,093 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:18,093 - sqlalchemy.engine.Engine - INFO - [cached since 65.94s ago] (8,)
2025-05-09 10:15:18,095 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:15:18,096 - sqlalchemy.engine.Engine - INFO - [cached since 65.94s ago] (5,)
2025-05-09 10:15:18,099 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:15:18,099 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:15:18,126 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,127 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,129 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,131 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,135 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,136 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,138 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,139 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,143 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,145 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:15:18,167 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:18] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:32,982 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:32] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,652 - app - WARNING - 绕过JWT验证: /logout
2025-05-09 10:16:39,653 - app.utils.jwt_callbacks - INFO - Checking if token 912a3297-8f5f-4af9-a4e9-5740476f125d is in blocklist
2025-05-09 10:16:39,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:39,653 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:39,653 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 1, 0)
2025-05-09 10:16:39,654 - app.utils.jwt_callbacks - INFO - Token 912a3297-8f5f-4af9-a4e9-5740476f125d is valid
2025-05-09 10:16:39,654 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:39,654 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:39,654 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746756852, 'jti': '912a3297-8f5f-4af9-a4e9-5740476f125d', 'type': 'access', 'sub': 9, 'nbf': 1746756852, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1k9A.AzgZ1uHJxm3POIhkExqRBM4v3P8', 'exp': 1746760452, 'aud': 'task_management_system', 'user_claims': {'username': 'user3', 'roles': ['user'], 'permissions': ['view_project', 'view_task', 'view_reports'], 'is_active': True}, 'roles': ['user']}
2025-05-09 10:16:39,655 - app.utils.jwt_callbacks - INFO - Token time difference: -147.655824 seconds
2025-05-09 10:16:39,655 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:39,655 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 9
2025-05-09 10:16:39,656 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:39,656 - sqlalchemy.engine.Engine - INFO - [cached since 147.5s ago] (9,)
2025-05-09 10:16:39,657 - app.utils.jwt_callbacks - INFO - User found: user3
2025-05-09 10:16:39,657 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:39,657 - sqlalchemy.engine.Engine - INFO - [cached since 147.6s ago] (9,)
2025-05-09 10:16:39,658 - app.utils.jwt_callbacks - INFO - User roles: ['user']
2025-05-09 10:16:39,658 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:39,658 - sqlalchemy.engine.Engine - INFO - [cached since 177.9s ago] (5,)
2025-05-09 10:16:39,659 - app.utils.jwt_callbacks - INFO - User permissions: ['view_project', 'view_task', 'view_reports']
2025-05-09 10:16:39,659 - app - INFO - 将令牌加入黑名单: 912a3297-8f5f-4af9-a4e9-5740476f125d - 用户ID: 9
2025-05-09 10:16:39,661 - sqlalchemy.engine.Engine - INFO - INSERT INTO token_blacklist (jti, token_type, user_id, revoked_at, expires_at) VALUES (?, ?, ?, ?, ?)
2025-05-09 10:16:39,661 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('912a3297-8f5f-4af9-a4e9-5740476f125d', 'access', 9, '2025-05-09 02:16:39.661080', '2025-05-09 11:14:12.000000')
2025-05-09 10:16:39,662 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:16:39,666 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "POST /logout?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:16:39,680 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "GET /login HTTP/1.1" 200 -
2025-05-09 10:16:39,710 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,710 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,711 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,712 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,714 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,714 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/images/background.png HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,719 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,723 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,727 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,727 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/js/background-helper.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:39,728 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:16:39,739 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:16:39,748 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:39] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:40,742 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:40] "[33mGET /static/uploads/background.png HTTP/1.1[0m" 404 -
2025-05-09 10:16:42,003 - app - INFO - 登录请求 - 方法: POST, 内容类型: application/x-www-form-urlencoded
2025-05-09 10:16:42,003 - app - INFO - 请求头: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '135', 'Cache-Control': 'max-age=0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Origin': 'http://127.0.0.1:5000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://127.0.0.1:5000/login', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Cookie': 'user_roles=user; session=eyJjc3JmX3Rva2VuIjoiYWIwOWI0MjFjMjRiN2FmOTBhMzk2ZjE4ZmNjNDc0MWI1MWFjODRkNyJ9.aB1liA.0NCbeH_nS9F-6gQ9cfHlirDScIc'}
2025-05-09 10:16:42,004 - app - INFO - 处理表单格式的登录请求
2025-05-09 10:16:42,004 - app - INFO - 表单数据: username=admin, password=********
2025-05-09 10:16:42,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:42,005 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:42,005 - sqlalchemy.engine.Engine - INFO - [cached since 180.2s ago] ('admin', 1, 0)
2025-05-09 10:16:42,177 - app - INFO - 已生成CSRF令牌: ImFiMDliND...
2025-05-09 10:16:42,178 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:42,178 - sqlalchemy.engine.Engine - INFO - [cached since 150.1s ago] (1,)
2025-05-09 10:16:42,178 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:16:42,178 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 10:16:42,179 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:42,179 - sqlalchemy.engine.Engine - INFO - [cached since 180.4s ago] (1,)
2025-05-09 10:16:42,179 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 10:16:42,180 - app.utils.jwt_callbacks - INFO - Adding additional claims for user 1
2025-05-09 10:16:42,180 - app.utils.jwt_callbacks - INFO - Added claims for user 1: {'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}}
2025-05-09 10:16:42,181 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=?, last_login=? WHERE users.id = ?
2025-05-09 10:16:42,181 - sqlalchemy.engine.Engine - INFO - [cached since 150.1s ago] ('2025-05-09 02:16:42.181855', '2025-05-09 02:16:42.180749', 1)
2025-05-09 10:16:42,182 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:16:42,187 - app - INFO - 用户登录成功: admin
2025-05-09 10:16:42,187 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 10:16:42,194 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:42,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:42,195 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:42,195 - sqlalchemy.engine.Engine - INFO - [cached since 150.1s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:42,196 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:42,196 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:42,196 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:42,196 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:42,197 - app.utils.jwt_callbacks - INFO - Token time difference: -0.197824 seconds
2025-05-09 10:16:42,197 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:42,197 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:42,199 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:42,199 - sqlalchemy.engine.Engine - INFO - [cached since 150s ago] (1,)
2025-05-09 10:16:42,199 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:42,200 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:42,200 - sqlalchemy.engine.Engine - INFO - [cached since 150.1s ago] (1,)
2025-05-09 10:16:42,200 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:42,201 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:42,201 - sqlalchemy.engine.Engine - INFO - [cached since 180.5s ago] (1,)
2025-05-09 10:16:42,201 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:42,202 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:42,202 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:42,202 - sqlalchemy.engine.Engine - INFO - [cached since 150.1s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:42,203 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:42,203 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:42,203 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:42,203 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:42,204 - app.utils.jwt_callbacks - INFO - Token time difference: -0.204133 seconds
2025-05-09 10:16:42,204 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:42,204 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:42,204 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:42,204 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:42,205 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:42,205 - app - INFO - Dashboard access with user ID: 1
2025-05-09 10:16:42,206 - app - INFO - Token found in: cookies
2025-05-09 10:16:42,206 - app - INFO - Dashboard context user_data: {'id': 1, 'username': 'admin', 'email': 'admin@example.com', 'name': '管理员', 'is_active': True, 'created_at': '2025-05-07T01:07:21.773527', 'last_login': '2025-05-09T02:16:42.180749', 'roles': ['admin'], 'permissions': ['manage_users', 'view_task', 'manage_task', 'assign_task', 'change_task_status', 'manage_project', 'manage_roles', 'view_reports', 'create_task', 'manage_resources', 'view_project', 'manage_all_projects', 'manage_risks', 'change_project_status', 'manage_all_tasks', 'create_project']}
2025-05-09 10:16:42,206 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:16:42,207 - app - INFO - 用户 admin 的权限: ['manage_users', 'view_task', 'manage_task', 'assign_task', 'change_task_status', 'manage_project', 'manage_roles', 'view_reports', 'create_task', 'manage_resources', 'view_project', 'manage_all_projects', 'manage_risks', 'change_project_status', 'manage_all_tasks', 'create_project']
2025-05-09 10:16:42,207 - app - INFO - 用户 admin - 是否管理员: True, 是否项目经理: False
2025-05-09 10:16:42,208 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:16:42,208 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:16:42,236 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,236 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,237 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,237 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,240 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,244 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,244 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,244 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,255 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/css/fonts/bootstrap-icons.woff2 HTTP/1.1[0m" 304 -
2025-05-09 10:16:42,265 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:42] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,244 - app - WARNING - 绕过JWT验证: /main/projects
2025-05-09 10:16:43,245 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:43,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:43,245 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:43,245 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:43,247 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:43,247 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:43,247 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:43,248 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:43,248 - app.utils.jwt_callbacks - INFO - Token time difference: -1.248356 seconds
2025-05-09 10:16:43,249 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:43,249 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:43,250 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:43,251 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] (1,)
2025-05-09 10:16:43,251 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:43,252 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:43,252 - sqlalchemy.engine.Engine - INFO - [cached since 151.2s ago] (1,)
2025-05-09 10:16:43,252 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:43,253 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:43,253 - sqlalchemy.engine.Engine - INFO - [cached since 181.5s ago] (1,)
2025-05-09 10:16:43,253 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:43,254 - app.routes.main - INFO - JWT bypass enabled for projects - Using test user
2025-05-09 10:16:43,254 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:16:43,255 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ()
2025-05-09 10:16:43,255 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:43,255 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] (3,)
2025-05-09 10:16:43,256 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:43,256 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] (5,)
2025-05-09 10:16:43,256 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:43,256 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] (8,)
2025-05-09 10:16:43,258 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:43,258 - sqlalchemy.engine.Engine - INFO - [cached since 151.1s ago] (5,)
2025-05-09 10:16:43,259 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:16:43,259 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "GET /main/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:16:43,286 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,287 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,290 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,291 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/css/frappe-gantt.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,293 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,295 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,295 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,296 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,299 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,300 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/js/frappe-gantt.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:43,317 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:43] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:45,707 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:45] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,667 - app - WARNING - 绕过JWT验证: /main/tasks
2025-05-09 10:16:46,668 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:46,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:46,669 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:46,669 - sqlalchemy.engine.Engine - INFO - [cached since 154.5s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:46,670 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:46,670 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:46,671 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:46,671 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:46,672 - app.utils.jwt_callbacks - INFO - Token time difference: -4.672713 seconds
2025-05-09 10:16:46,672 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:46,672 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:46,673 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:46,673 - sqlalchemy.engine.Engine - INFO - [cached since 154.5s ago] (1,)
2025-05-09 10:16:46,673 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:46,674 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:46,674 - sqlalchemy.engine.Engine - INFO - [cached since 154.6s ago] (1,)
2025-05-09 10:16:46,675 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:46,675 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:46,675 - sqlalchemy.engine.Engine - INFO - [cached since 184.9s ago] (1,)
2025-05-09 10:16:46,676 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:46,676 - app.routes.main - INFO - JWT bypass enabled for tasks - Using test user
2025-05-09 10:16:46,677 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks
2025-05-09 10:16:46,677 - sqlalchemy.engine.Engine - INFO - [cached since 114.1s ago] ()
2025-05-09 10:16:46,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:46,678 - sqlalchemy.engine.Engine - INFO - [cached since 114.1s ago] (5,)
2025-05-09 10:16:46,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:46,678 - sqlalchemy.engine.Engine - INFO - [cached since 114.1s ago] (6,)
2025-05-09 10:16:46,679 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:46,679 - sqlalchemy.engine.Engine - INFO - [cached since 114.1s ago] (7,)
2025-05-09 10:16:46,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:46,680 - sqlalchemy.engine.Engine - INFO - [cached since 114.1s ago] (8,)
2025-05-09 10:16:46,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:46,681 - sqlalchemy.engine.Engine - INFO - [cached since 114.1s ago] (3,)
2025-05-09 10:16:46,681 - app - INFO - 未认证用户被视为普通用户
2025-05-09 10:16:46,681 - app - INFO - 未认证用户被视为普通用户
2025-05-09 10:16:46,682 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:16:46,682 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "GET /main/tasks?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:16:46,709 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,710 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,712 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,714 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,715 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,717 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,718 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,721 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,722 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/js/utils/tasks.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:46,738 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:46] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,563 - app - WARNING - 绕过JWT验证: /tasks/2/view
2025-05-09 10:16:48,563 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:48,564 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:48,564 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:48,565 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:48,565 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:48,565 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:48,565 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:48,565 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:48,567 - app.utils.jwt_callbacks - INFO - Token time difference: -6.56704 seconds
2025-05-09 10:16:48,567 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:48,567 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:48,568 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:48,568 - sqlalchemy.engine.Engine - INFO - [cached since 156.4s ago] (1,)
2025-05-09 10:16:48,568 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:48,569 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:48,569 - sqlalchemy.engine.Engine - INFO - [cached since 156.5s ago] (1,)
2025-05-09 10:16:48,569 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:48,570 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:48,570 - sqlalchemy.engine.Engine - INFO - [cached since 186.8s ago] (1,)
2025-05-09 10:16:48,571 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:48,572 - app.routes.tasks - INFO - JWT bypass enabled for task_detail_page 2 - Using test user
2025-05-09 10:16:48,572 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks 
WHERE tasks.id = ?
2025-05-09 10:16:48,572 - sqlalchemy.engine.Engine - INFO - [cached since 113.2s ago] (2,)
2025-05-09 10:16:48,573 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects
2025-05-09 10:16:48,573 - sqlalchemy.engine.Engine - INFO - [cached since 155.1s ago] ()
2025-05-09 10:16:48,574 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users
2025-05-09 10:16:48,574 - sqlalchemy.engine.Engine - INFO - [cached since 113.2s ago] ()
2025-05-09 10:16:48,575 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:16:48,575 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "GET /tasks/2/view?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:16:48,601 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,602 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,604 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,605 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,605 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,608 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,609 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,611 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,628 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:48,739 - app - WARNING - 绕过JWT验证: /api/auth/tasks/2/detail
2025-05-09 10:16:48,740 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:48] "[33mGET /api/auth/tasks/2/detail?bypass_jwt=true HTTP/1.1[0m" 404 -
2025-05-09 10:16:50,080 - app - WARNING - 绕过JWT验证: /tasks/
2025-05-09 10:16:50,081 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:50,081 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:50,082 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:50,082 - sqlalchemy.engine.Engine - INFO - [cached since 157.9s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:50,082 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:50,083 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:50,083 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:50,083 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:50,083 - app.utils.jwt_callbacks - INFO - Token time difference: -8.083442 seconds
2025-05-09 10:16:50,083 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:50,084 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:50,084 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:50,085 - sqlalchemy.engine.Engine - INFO - [cached since 157.9s ago] (1,)
2025-05-09 10:16:50,085 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:50,085 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,086 - sqlalchemy.engine.Engine - INFO - [cached since 158s ago] (1,)
2025-05-09 10:16:50,086 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:50,087 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:50,087 - sqlalchemy.engine.Engine - INFO - [cached since 188.3s ago] (1,)
2025-05-09 10:16:50,088 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:50,088 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id, projects_1.id AS projects_1_id, projects_1.name AS projects_1_name, projects_1.description AS projects_1_description, projects_1.status AS projects_1_status, projects_1.start_date AS projects_1_start_date, projects_1.end_date AS projects_1_end_date, projects_1.progress AS projects_1_progress, projects_1.created_at AS projects_1_created_at, projects_1.updated_at AS projects_1_updated_at, projects_1.manager_id AS projects_1_manager_id, projects_1.owner_id AS projects_1_owner_id, users_1.id AS users_1_id, users_1.username AS users_1_username, users_1.email AS users_1_email, users_1.name AS users_1_name, users_1.password_hash AS users_1_password_hash, users_1.is_active AS users_1_is_active, users_1.created_at AS users_1_created_at, users_1.updated_at AS users_1_updated_at, users_1.last_login AS users_1_last_login, users_2.id AS users_2_id, users_2.username AS users_2_username, users_2.email AS users_2_email, users_2.name AS users_2_name, users_2.password_hash AS users_2_password_hash, users_2.is_active AS users_2_is_active, users_2.created_at AS users_2_created_at, users_2.updated_at AS users_2_updated_at, users_2.last_login AS users_2_last_login 
FROM tasks LEFT OUTER JOIN projects AS projects_1 ON projects_1.id = tasks.project_id LEFT OUTER JOIN users AS users_1 ON users_1.id = tasks.assignee_id LEFT OUTER JOIN users AS users_2 ON users_2.id = tasks.created_by ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
2025-05-09 10:16:50,089 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (10, 0)
2025-05-09 10:16:50,090 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.status AS tasks_status, tasks.priority AS tasks_priority, tasks.progress AS tasks_progress, tasks.start_date AS tasks_start_date, tasks.due_date AS tasks_due_date, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.project_id AS tasks_project_id, tasks.assignee_id AS tasks_assignee_id, tasks.created_by AS tasks_created_by, tasks.team_id AS tasks_team_id, tasks.parent_id AS tasks_parent_id 
FROM tasks) AS anon_1
2025-05-09 10:16:50,090 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] ()
2025-05-09 10:16:50,091 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,091 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (8,)
2025-05-09 10:16:50,091 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:50,092 - sqlalchemy.engine.Engine - INFO - [cached since 112.1s ago] (5,)
2025-05-09 10:16:50,092 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,092 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (20,)
2025-05-09 10:16:50,093 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,093 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (20,)
2025-05-09 10:16:50,094 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,094 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (20,)
2025-05-09 10:16:50,094 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,095 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (20,)
2025-05-09 10:16:50,095 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,095 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (20,)
2025-05-09 10:16:50,096 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,096 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (20,)
2025-05-09 10:16:50,096 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,096 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (19,)
2025-05-09 10:16:50,098 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,098 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (19,)
2025-05-09 10:16:50,098 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,099 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (19,)
2025-05-09 10:16:50,099 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,099 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (19,)
2025-05-09 10:16:50,100 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,100 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (19,)
2025-05-09 10:16:50,100 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,101 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (19,)
2025-05-09 10:16:50,101 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,101 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (3,)
2025-05-09 10:16:50,102 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:50,102 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (2,)
2025-05-09 10:16:50,102 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,102 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (18,)
2025-05-09 10:16:50,103 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,103 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (18,)
2025-05-09 10:16:50,104 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,104 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (18,)
2025-05-09 10:16:50,104 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,104 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (18,)
2025-05-09 10:16:50,106 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,106 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (18,)
2025-05-09 10:16:50,107 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,107 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (18,)
2025-05-09 10:16:50,107 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,108 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (17,)
2025-05-09 10:16:50,108 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,108 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (17,)
2025-05-09 10:16:50,109 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,109 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (17,)
2025-05-09 10:16:50,109 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,109 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (17,)
2025-05-09 10:16:50,110 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,110 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (17,)
2025-05-09 10:16:50,110 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,110 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (17,)
2025-05-09 10:16:50,112 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,112 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (16,)
2025-05-09 10:16:50,113 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,113 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (16,)
2025-05-09 10:16:50,113 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,113 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (16,)
2025-05-09 10:16:50,114 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,114 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (16,)
2025-05-09 10:16:50,115 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,115 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (16,)
2025-05-09 10:16:50,116 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,116 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (16,)
2025-05-09 10:16:50,117 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,117 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (6,)
2025-05-09 10:16:50,118 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:50,118 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (3,)
2025-05-09 10:16:50,118 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,118 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (2,)
2025-05-09 10:16:50,119 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,120 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (15,)
2025-05-09 10:16:50,120 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,120 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (15,)
2025-05-09 10:16:50,122 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,122 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (15,)
2025-05-09 10:16:50,123 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,123 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (15,)
2025-05-09 10:16:50,124 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,124 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (15,)
2025-05-09 10:16:50,125 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,125 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (15,)
2025-05-09 10:16:50,126 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,126 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (7,)
2025-05-09 10:16:50,126 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:50,127 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (4,)
2025-05-09 10:16:50,127 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,127 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (5,)
2025-05-09 10:16:50,128 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,128 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (14,)
2025-05-09 10:16:50,129 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,129 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (14,)
2025-05-09 10:16:50,129 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,131 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (14,)
2025-05-09 10:16:50,131 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,132 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (14,)
2025-05-09 10:16:50,132 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,133 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (14,)
2025-05-09 10:16:50,133 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,133 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (14,)
2025-05-09 10:16:50,134 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,134 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (4,)
2025-05-09 10:16:50,135 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,135 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (13,)
2025-05-09 10:16:50,135 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,136 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (13,)
2025-05-09 10:16:50,136 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,136 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (13,)
2025-05-09 10:16:50,137 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,138 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (13,)
2025-05-09 10:16:50,138 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,139 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (13,)
2025-05-09 10:16:50,139 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,139 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (13,)
2025-05-09 10:16:50,140 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,140 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (12,)
2025-05-09 10:16:50,141 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,141 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (12,)
2025-05-09 10:16:50,141 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,141 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (12,)
2025-05-09 10:16:50,143 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,143 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (12,)
2025-05-09 10:16:50,144 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,144 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (12,)
2025-05-09 10:16:50,144 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,145 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (12,)
2025-05-09 10:16:50,146 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_logs.id AS task_logs_id, task_logs.task_id AS task_logs_task_id, task_logs.user_id AS task_logs_user_id, task_logs.action AS task_logs_action, task_logs.details AS task_logs_details, task_logs.created_at AS task_logs_created_at 
FROM task_logs 
WHERE ? = task_logs.task_id) AS anon_1
2025-05-09 10:16:50,146 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (11,)
2025-05-09 10:16:50,146 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_comments.id AS task_comments_id, task_comments.task_id AS task_comments_task_id, task_comments.user_id AS task_comments_user_id, task_comments.content AS task_comments_content, task_comments.created_at AS task_comments_created_at, task_comments.updated_at AS task_comments_updated_at 
FROM task_comments 
WHERE ? = task_comments.task_id) AS anon_1
2025-05-09 10:16:50,147 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (11,)
2025-05-09 10:16:50,147 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT risks.id AS risks_id, risks.title AS risks_title, risks.description AS risks_description, risks.status AS risks_status, risks.severity AS risks_severity, risks.probability AS risks_probability, risks.impact AS risks_impact, risks.mitigation_plan AS risks_mitigation_plan, risks.contingency_plan AS risks_contingency_plan, risks.created_at AS risks_created_at, risks.updated_at AS risks_updated_at, risks.project_id AS risks_project_id, risks.owner_id AS risks_owner_id, risks.task_id AS risks_task_id 
FROM risks 
WHERE ? = risks.task_id) AS anon_1
2025-05-09 10:16:50,147 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (11,)
2025-05-09 10:16:50,148 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources, resource_allocations 
WHERE ? = resource_allocations.task_id AND resources.id = resource_allocations.resource_id) AS anon_1
2025-05-09 10:16:50,148 - sqlalchemy.engine.Engine - INFO - [cached since 112.3s ago] (11,)
2025-05-09 10:16:50,149 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.task_id) AS anon_1
2025-05-09 10:16:50,149 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (11,)
2025-05-09 10:16:50,150 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT task_dependencies.id AS task_dependencies_id, task_dependencies.task_id AS task_dependencies_task_id, task_dependencies.dependent_id AS task_dependencies_dependent_id, task_dependencies.dependency_type AS task_dependencies_dependency_type, task_dependencies.created_at AS task_dependencies_created_at 
FROM task_dependencies 
WHERE ? = task_dependencies.dependent_id) AS anon_1
2025-05-09 10:16:50,150 - sqlalchemy.engine.Engine - INFO - [cached since 112.2s ago] (11,)
2025-05-09 10:16:50,152 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:16:50,152 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:50] "GET /tasks/?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:16:50,194 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:50,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:50,195 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:50,196 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:50,196 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:50,196 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:50,198 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:50,198 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:50,199 - app.utils.jwt_callbacks - INFO - Token time difference: -8.199216 seconds
2025-05-09 10:16:50,199 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:50,199 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:50,200 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:50,200 - sqlalchemy.engine.Engine - INFO - [cached since 158s ago] (1,)
2025-05-09 10:16:50,200 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:50,201 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,201 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] (1,)
2025-05-09 10:16:50,201 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:50,202 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:50,202 - sqlalchemy.engine.Engine - INFO - [cached since 188.5s ago] (1,)
2025-05-09 10:16:50,203 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:50,203 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:50,204 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:50,205 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:50,205 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:50,205 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:50,206 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:50,206 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:50,207 - app.utils.jwt_callbacks - INFO - Token time difference: -8.20796 seconds
2025-05-09 10:16:50,207 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:50,207 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:50,207 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:50,208 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:50,208 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:50,208 - app - INFO - 用户已认证，重定向到仪表板页面: /favicon.ico
2025-05-09 10:16:50,208 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:16:50,209 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:50] "[32mGET /favicon.ico HTTP/1.1[0m" 302 -
2025-05-09 10:16:50,214 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:50,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:16:50,216 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:50,216 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:50,216 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:50,216 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:50,217 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:50,217 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:50,217 - app.utils.jwt_callbacks - INFO - Token time difference: -8.217333 seconds
2025-05-09 10:16:50,217 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:50,218 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:50,219 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:16:50,219 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] (1,)
2025-05-09 10:16:50,219 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:50,220 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:16:50,220 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] (1,)
2025-05-09 10:16:50,221 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:50,221 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:16:50,221 - sqlalchemy.engine.Engine - INFO - [cached since 188.5s ago] (1,)
2025-05-09 10:16:50,222 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:50,222 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:16:50,223 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:16:50,223 - sqlalchemy.engine.Engine - INFO - [cached since 158.1s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:16:50,223 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:16:50,223 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:16:50,225 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:16:50,225 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:16:50,225 - app.utils.jwt_callbacks - INFO - Token time difference: -8.225068 seconds
2025-05-09 10:16:50,225 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:16:50,226 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:16:50,226 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:16:50,227 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:16:50,227 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:16:50,227 - app - INFO - Dashboard access with user ID: 1
2025-05-09 10:16:50,227 - app - INFO - Token found in: cookies
2025-05-09 10:16:50,228 - app - INFO - Dashboard context user_data: {'id': 1, 'username': 'admin', 'email': 'admin@example.com', 'name': '管理员', 'is_active': True, 'created_at': '2025-05-07T01:07:21.773527', 'last_login': '2025-05-09T02:16:42.180749', 'roles': ['admin'], 'permissions': ['manage_users', 'view_task', 'manage_task', 'assign_task', 'change_task_status', 'manage_project', 'manage_roles', 'view_reports', 'create_task', 'manage_resources', 'view_project', 'manage_all_projects', 'manage_risks', 'change_project_status', 'manage_all_tasks', 'create_project']}
2025-05-09 10:16:50,228 - app - INFO - 用户 admin 的角色: ['admin']
2025-05-09 10:16:50,228 - app - INFO - 用户 admin 的权限: ['manage_users', 'view_task', 'manage_task', 'assign_task', 'change_task_status', 'manage_project', 'manage_roles', 'view_reports', 'create_task', 'manage_resources', 'view_project', 'manage_all_projects', 'manage_risks', 'change_project_status', 'manage_all_tasks', 'create_project']
2025-05-09 10:16:50,228 - app - INFO - 用户 admin - 是否管理员: True, 是否项目经理: False
2025-05-09 10:16:50,229 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:16:50,230 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:50] "GET /main/dashboard HTTP/1.1" 200 -
2025-05-09 10:16:52,748 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:52] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:16:53,583 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:53] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:17:03,403 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:03] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,439 - app - WARNING - 绕过JWT验证: /main/risks
2025-05-09 10:17:04,440 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:17:04,441 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:04,441 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:17:04,441 - sqlalchemy.engine.Engine - INFO - [cached since 172.3s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:17:04,442 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:17:04,442 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:17:04,442 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:17:04,443 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:17:04,443 - app.utils.jwt_callbacks - INFO - Token time difference: -22.443326 seconds
2025-05-09 10:17:04,443 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:17:04,444 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:17:04,444 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:17:04,445 - sqlalchemy.engine.Engine - INFO - [cached since 172.3s ago] (1,)
2025-05-09 10:17:04,445 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:17:04,446 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:17:04,446 - sqlalchemy.engine.Engine - INFO - [cached since 172.4s ago] (1,)
2025-05-09 10:17:04,446 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:17:04,447 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:17:04,447 - sqlalchemy.engine.Engine - INFO - [cached since 202.7s ago] (1,)
2025-05-09 10:17:04,447 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:17:04,448 - app.routes.main - INFO - JWT bypass enabled for risks - Using test user
2025-05-09 10:17:04,453 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:17:04,453 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "GET /main/risks?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:17:04,480 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,480 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,482 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,483 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,484 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,487 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,487 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,488 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:04,498 - app - WARNING - 绕过JWT验证: /api/projects
2025-05-09 10:17:04,498 - app - WARNING - 绕过JWT验证: /api/auth/risks/
2025-05-09 10:17:04,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:04,501 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.status != ?
2025-05-09 10:17:04,502 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[33mGET /api/auth/risks/?bypass_jwt=true HTTP/1.1[0m" 404 -
2025-05-09 10:17:04,502 - sqlalchemy.engine.Engine - INFO - [cached since 109.6s ago] ('deleted',)
2025-05-09 10:17:04,503 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:17:04,503 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "GET /api/projects?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:17:04,511 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:04] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:17:10,093 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:10] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,382 - app - WARNING - 绕过JWT验证: /main/resources
2025-05-09 10:17:13,382 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:17:13,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:13,383 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:17:13,383 - sqlalchemy.engine.Engine - INFO - [cached since 181.2s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:17:13,383 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:17:13,384 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:17:13,384 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:17:13,384 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:17:13,384 - app.utils.jwt_callbacks - INFO - Token time difference: -31.384495 seconds
2025-05-09 10:17:13,385 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:17:13,385 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:17:13,386 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:17:13,386 - sqlalchemy.engine.Engine - INFO - [cached since 181.2s ago] (1,)
2025-05-09 10:17:13,387 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:17:13,387 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:17:13,387 - sqlalchemy.engine.Engine - INFO - [cached since 181.3s ago] (1,)
2025-05-09 10:17:13,389 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:17:13,389 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:17:13,389 - sqlalchemy.engine.Engine - INFO - [cached since 211.6s ago] (1,)
2025-05-09 10:17:13,390 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:17:13,390 - app.routes.main - INFO - JWT bypass enabled for resources - Using test user
2025-05-09 10:17:13,395 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:17:13,395 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "GET /main/resources?bypass_jwt=true HTTP/1.1" 200 -
2025-05-09 10:17:13,422 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,423 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,425 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,426 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,428 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,428 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,429 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,431 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,446 - app - WARNING - 绕过JWT验证: /api/resources
2025-05-09 10:17:13,447 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[32mGET /api/resources?bypass_jwt=true HTTP/1.1[0m" 308 -
2025-05-09 10:17:13,448 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:17:13,451 - app - WARNING - 绕过JWT验证: /api/resources/
2025-05-09 10:17:13,452 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:17:13,453 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:13,453 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:17:13,453 - sqlalchemy.engine.Engine - INFO - [cached since 181.3s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:17:13,455 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:17:13,455 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:17:13,455 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:17:13,456 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:17:13,456 - app.utils.jwt_callbacks - INFO - Token time difference: -31.456716 seconds
2025-05-09 10:17:13,457 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:17:13,457 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:17:13,458 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:17:13,458 - sqlalchemy.engine.Engine - INFO - [cached since 181.3s ago] (1,)
2025-05-09 10:17:13,458 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:17:13,459 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:17:13,459 - sqlalchemy.engine.Engine - INFO - [cached since 181.4s ago] (1,)
2025-05-09 10:17:13,459 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:17:13,460 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:17:13,461 - sqlalchemy.engine.Engine - INFO - [cached since 211.7s ago] (1,)
2025-05-09 10:17:13,461 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:17:13,462 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources ORDER BY resources.created_at DESC) AS anon_1
2025-05-09 10:17:13,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ()
2025-05-09 10:17:13,463 - sqlalchemy.engine.Engine - INFO - SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources ORDER BY resources.created_at DESC
 LIMIT ? OFFSET ?
2025-05-09 10:17:13,464 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (20, 0)
2025-05-09 10:17:13,465 - sqlalchemy.engine.Engine - INFO - SELECT resource_types.id AS resource_types_id, resource_types.name AS resource_types_name, resource_types.description AS resource_types_description, resource_types.unit AS resource_types_unit, resource_types.created_at AS resource_types_created_at, resource_types.updated_at AS resource_types_updated_at 
FROM resource_types 
WHERE resource_types.id = ?
2025-05-09 10:17:13,465 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (1,)
2025-05-09 10:17:13,465 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:17:13,472 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:13] "[35m[1mGET /api/resources/?bypass_jwt=true HTTP/1.1[0m" 500 -
2025-05-09 10:17:21,711 - app - WARNING - 绕过JWT验证: /api/resources
2025-05-09 10:17:21,711 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:21] "[32mPOST /api/resources?bypass_jwt=true HTTP/1.1[0m" 308 -
2025-05-09 10:17:21,716 - app - WARNING - 绕过JWT验证: /api/resources/
2025-05-09 10:17:21,716 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:17:21,718 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:21,718 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:17:21,719 - sqlalchemy.engine.Engine - INFO - [cached since 189.6s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:17:21,719 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:17:21,719 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:17:21,719 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:17:21,720 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:17:21,720 - app.utils.jwt_callbacks - INFO - Token time difference: -39.720085 seconds
2025-05-09 10:17:21,720 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:17:21,720 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:17:21,721 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:17:21,721 - sqlalchemy.engine.Engine - INFO - [cached since 189.6s ago] (1,)
2025-05-09 10:17:21,721 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:17:21,722 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:17:21,722 - sqlalchemy.engine.Engine - INFO - [cached since 189.6s ago] (1,)
2025-05-09 10:17:21,722 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:17:21,723 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:17:21,723 - sqlalchemy.engine.Engine - INFO - [cached since 220s ago] (1,)
2025-05-09 10:17:21,724 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:17:21,724 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:17:21,724 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:17:21,725 - sqlalchemy.engine.Engine - INFO - [cached since 189.6s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:17:21,725 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:17:21,725 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:17:21,725 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:17:21,726 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:17:21,727 - app.utils.jwt_callbacks - INFO - Token time difference: -39.727494 seconds
2025-05-09 10:17:21,727 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:17:21,728 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:17:21,728 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:17:21,729 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:17:21,729 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:17:21,730 - app.routes.resources - INFO - API request to create_resource with bypass_jwt=True
2025-05-09 10:17:21,730 - app.routes.resources - INFO - JWT bypass enabled for create_resource - Using test user
2025-05-09 10:17:21,731 - app.routes.resources - INFO - Request Content-Type: application/json
2025-05-09 10:17:21,731 - app.routes.resources - INFO - Received resource creation data: {'name': 'tttt', 'type_id': '1', 'capacity': '1', 'unit': '个', 'description': 'hhhh', 'cost_per_unit': '0'}
2025-05-09 10:17:21,732 - sqlalchemy.engine.Engine - INFO - INSERT INTO resources (name, description, type_id, capacity, unit, cost_per_unit, status, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-09 10:17:21,733 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('tttt', 'hhhh', '1', 1.0, '个', 0.0, 'available', '2025-05-09 02:17:21.732759', '2025-05-09 02:17:21.732759')
2025-05-09 10:17:21,735 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:17:21,738 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:21,739 - sqlalchemy.engine.Engine - INFO - SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = ?
2025-05-09 10:17:21,739 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (5,)
2025-05-09 10:17:21,740 - app.routes.resources - INFO - Resource created successfully: 5 - tttt
2025-05-09 10:17:21,740 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:17:21,741 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:21] "[35m[1mPOST /api/resources/?bypass_jwt=true HTTP/1.1[0m" 201 -
2025-05-09 10:17:22,065 - app - WARNING - 绕过JWT验证: /api/resources
2025-05-09 10:17:22,067 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:22] "[32mGET /api/resources?bypass_jwt=true HTTP/1.1[0m" 308 -
2025-05-09 10:17:22,073 - app - WARNING - 绕过JWT验证: /api/resources/
2025-05-09 10:17:22,074 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:17:22,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:22,075 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:17:22,076 - sqlalchemy.engine.Engine - INFO - [cached since 189.9s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:17:22,076 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:17:22,076 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:17:22,076 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:17:22,077 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:17:22,077 - app.utils.jwt_callbacks - INFO - Token time difference: -40.077364 seconds
2025-05-09 10:17:22,077 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:17:22,077 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:17:22,078 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:17:22,078 - sqlalchemy.engine.Engine - INFO - [cached since 189.9s ago] (1,)
2025-05-09 10:17:22,079 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:17:22,079 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:17:22,079 - sqlalchemy.engine.Engine - INFO - [cached since 190s ago] (1,)
2025-05-09 10:17:22,079 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:17:22,080 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:17:22,080 - sqlalchemy.engine.Engine - INFO - [cached since 220.3s ago] (1,)
2025-05-09 10:17:22,080 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:17:22,082 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources ORDER BY resources.created_at DESC) AS anon_1
2025-05-09 10:17:22,082 - sqlalchemy.engine.Engine - INFO - [cached since 8.619s ago] ()
2025-05-09 10:17:22,082 - sqlalchemy.engine.Engine - INFO - SELECT resources.id AS resources_id, resources.name AS resources_name, resources.description AS resources_description, resources.type_id AS resources_type_id, resources.capacity AS resources_capacity, resources.unit AS resources_unit, resources.cost_per_unit AS resources_cost_per_unit, resources.status AS resources_status, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources ORDER BY resources.created_at DESC
 LIMIT ? OFFSET ?
2025-05-09 10:17:22,082 - sqlalchemy.engine.Engine - INFO - [cached since 8.619s ago] (20, 0)
2025-05-09 10:17:22,083 - sqlalchemy.engine.Engine - INFO - SELECT resource_types.id AS resource_types_id, resource_types.name AS resource_types_name, resource_types.description AS resource_types_description, resource_types.unit AS resource_types_unit, resource_types.created_at AS resource_types_created_at, resource_types.updated_at AS resource_types_updated_at 
FROM resource_types 
WHERE resource_types.id = ?
2025-05-09 10:17:22,083 - sqlalchemy.engine.Engine - INFO - [cached since 8.618s ago] (1,)
2025-05-09 10:17:22,083 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:17:22,088 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:22] "[35m[1mGET /api/resources/?bypass_jwt=true HTTP/1.1[0m" 500 -
2025-05-09 10:17:24,605 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:24] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,879 - app - WARNING - 绕过JWT验证: /main/users
2025-05-09 10:17:26,879 - app.utils.jwt_callbacks - INFO - Checking if token e0f09642-1613-4e0c-a046-6d3828582436 is in blocklist
2025-05-09 10:17:26,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:17:26,880 - sqlalchemy.engine.Engine - INFO - SELECT token_blacklist.id AS token_blacklist_id, token_blacklist.jti AS token_blacklist_jti, token_blacklist.token_type AS token_blacklist_token_type, token_blacklist.user_id AS token_blacklist_user_id, token_blacklist.revoked_at AS token_blacklist_revoked_at, token_blacklist.expires_at AS token_blacklist_expires_at 
FROM token_blacklist 
WHERE token_blacklist.jti = ?
 LIMIT ? OFFSET ?
2025-05-09 10:17:26,881 - sqlalchemy.engine.Engine - INFO - [cached since 194.7s ago] ('e0f09642-1613-4e0c-a046-6d3828582436', 1, 0)
2025-05-09 10:17:26,881 - app.utils.jwt_callbacks - INFO - Token e0f09642-1613-4e0c-a046-6d3828582436 is valid
2025-05-09 10:17:26,881 - app.utils.jwt_callbacks - INFO - Verifying token
2025-05-09 10:17:26,881 - app.utils.jwt_callbacks - INFO - JWT Header: {'alg': 'HS256', 'typ': 'JWT'}
2025-05-09 10:17:26,881 - app.utils.jwt_callbacks - INFO - JWT Data: {'fresh': False, 'iat': 1746757002, 'jti': 'e0f09642-1613-4e0c-a046-6d3828582436', 'type': 'access', 'sub': 1, 'nbf': 1746757002, 'csrf': 'ImFiMDliNDIxYzI0YjdhZjkwYTM5NmYxOGZjYzQ3NDFiNTFhYzg0ZDci.aB1lig.9z_VoBH4HnjmyCOjj1n3XA6n7Ns', 'exp': 1746760602, 'aud': 'task_management_system', 'user_claims': {'username': 'admin', 'roles': ['admin'], 'permissions': ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project'], 'is_active': True}, 'roles': ['admin']}
2025-05-09 10:17:26,882 - app.utils.jwt_callbacks - INFO - Token time difference: -44.882665 seconds
2025-05-09 10:17:26,882 - app.utils.jwt_callbacks - INFO - Token verification successful
2025-05-09 10:17:26,882 - app.utils.jwt_callbacks - INFO - Looking up user with identity: 1
2025-05-09 10:17:26,883 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
2025-05-09 10:17:26,884 - sqlalchemy.engine.Engine - INFO - [cached since 194.7s ago] (1,)
2025-05-09 10:17:26,884 - app.utils.jwt_callbacks - INFO - User found: admin
2025-05-09 10:17:26,885 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles, user_roles 
WHERE ? = user_roles.user_id AND roles.id = user_roles.role_id
2025-05-09 10:17:26,885 - sqlalchemy.engine.Engine - INFO - [cached since 194.8s ago] (1,)
2025-05-09 10:17:26,886 - app.utils.jwt_callbacks - INFO - User roles: ['admin']
2025-05-09 10:17:26,886 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:17:26,886 - sqlalchemy.engine.Engine - INFO - [cached since 225.1s ago] (1,)
2025-05-09 10:17:26,887 - app.utils.jwt_callbacks - INFO - User permissions: ['manage_users', 'manage_roles', 'manage_all_projects', 'manage_project', 'manage_all_tasks', 'manage_task', 'view_project', 'view_task', 'manage_resources', 'manage_risks', 'view_reports', 'create_task', 'assign_task', 'change_project_status', 'change_task_status', 'create_project']
2025-05-09 10:17:26,887 - app.routes.main - INFO - JWT bypass enabled for users - Using test user
2025-05-09 10:17:26,888 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users
2025-05-09 10:17:26,888 - sqlalchemy.engine.Engine - INFO - [cached since 151.5s ago] ()
2025-05-09 10:17:26,890 - app.routes.main - ERROR - Error in users: expected token 'end of statement block', got 'if'
2025-05-09 10:17:26,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-09 10:17:26,892 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[35m[1mGET /main/users?bypass_jwt=true HTTP/1.1[0m" 500 -
2025-05-09 10:17:26,924 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/css/bootstrap.min.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,926 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/css/bootstrap-icons.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,927 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,930 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/js/jquery.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,932 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/js/bootstrap.bundle.min.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,934 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/js/fix-modals.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,936 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,937 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/js/csrf.js HTTP/1.1[0m" 304 -
2025-05-09 10:17:26,955 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:17:26] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-05-09 10:20:24,785 - app - INFO - File logging handler initialized successfully
2025-05-09 10:20:24,785 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:20:24,785 - app - INFO - Application logging configuration completed
2025-05-09 10:20:24,786 - app - INFO - Development configuration initialized
2025-05-09 10:20:24,814 - app - INFO - Logging setup completed successfully
2025-05-09 10:20:25,052 - app - INFO - 已注册的路由:
2025-05-09 10:20:25,053 - app - INFO - 路由: /static/<path:filename> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: static
2025-05-09 10:20:25,053 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'POST', 'OPTIONS'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:20:25,053 - app - INFO - 路由: /api/users - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'POST', 'OPTIONS'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:20:25,053 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,054 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,054 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,054 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,054 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,055 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,055 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,055 - app - INFO - 路由: /api/tasks - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:25,056 - app - INFO - 路由: /login - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.login_page
2025-05-09 10:20:25,056 - app - INFO - 路由: /login - 方法: {'POST', 'OPTIONS'} - 终端: auth.login
2025-05-09 10:20:25,056 - app - INFO - 路由: /register - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.register_page
2025-05-09 10:20:25,056 - app - INFO - 路由: /register - 方法: {'POST', 'OPTIONS'} - 终端: auth.register
2025-05-09 10:20:25,056 - app - INFO - 路由: /logout - 方法: {'GET', 'POST', 'HEAD', 'OPTIONS'} - 终端: auth.logout
2025-05-09 10:20:25,057 - app - INFO - 路由: /refresh - 方法: {'POST', 'OPTIONS'} - 终端: auth.refresh
2025-05-09 10:20:25,057 - app - INFO - 路由: /profile - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.profile
2025-05-09 10:20:25,057 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:20:25,057 - app - INFO - 路由: /users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_users
2025-05-09 10:20:25,058 - app - INFO - 路由: /users/<int:user_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_by_id
2025-05-09 10:20:25,058 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:20:25,058 - app - INFO - 路由: /roles - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_roles
2025-05-09 10:20:25,059 - app - INFO - 路由: /permissions - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_permissions
2025-05-09 10:20:25,059 - app - INFO - 路由: /permissions - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_permission
2025-05-09 10:20:25,059 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_permission
2025-05-09 10:20:25,059 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:20:25,059 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_permission
2025-05-09 10:20:25,060 - app - INFO - 路由: /roles - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_role
2025-05-09 10:20:25,060 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_role
2025-05-09 10:20:25,060 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:20:25,060 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_role
2025-05-09 10:20:25,060 - app - INFO - 路由: /dashboard - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.dashboard
2025-05-09 10:20:25,061 - app - INFO - 路由: /dashboard/redirect - 方法: {'GET', 'POST', 'HEAD', 'OPTIONS'} - 终端: auth.dashboard_redirect
2025-05-09 10:20:25,061 - app - INFO - 路由: /create_test_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_user
2025-05-09 10:20:25,061 - app - INFO - 路由: /check - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.check_auth
2025-05-09 10:20:25,061 - app - INFO - 路由: /create_test_project - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_project
2025-05-09 10:20:25,061 - app - INFO - 路由: /logout_all - 方法: {'POST', 'OPTIONS'} - 终端: auth.logout_all
2025-05-09 10:20:25,061 - app - INFO - 路由: /dashboard/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.dashboard_data
2025-05-09 10:20:25,062 - app - INFO - 路由: /check_token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.check_token
2025-05-09 10:20:25,062 - app - INFO - 路由: /create_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_user
2025-05-09 10:20:25,062 - app - INFO - 路由: /user_info - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_info
2025-05-09 10:20:25,063 - app - INFO - 路由: /user/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.delete_user
2025-05-09 10:20:25,063 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_roles
2025-05-09 10:20:25,063 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:20:25,064 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_notifications
2025-05-09 10:20:25,064 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:20:25,064 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:20:25,065 - app - INFO - 路由: /change-password - 方法: {'POST', 'OPTIONS'} - 终端: auth.change_password
2025-05-09 10:20:25,065 - app - INFO - 路由: /reset-password - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.reset_password_page
2025-05-09 10:20:25,065 - app - INFO - 路由: /verify-email/confirm - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:20:25,066 - app - INFO - 路由: /auth/csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_csrf_token
2025-05-09 10:20:25,066 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:20:25,066 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: auth.api_delete_user
2025-05-09 10:20:25,067 - app - INFO - 路由: /api/users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.api_get_users
2025-05-09 10:20:25,067 - app - INFO - 路由: /api/users - 方法: {'POST', 'OPTIONS'} - 终端: auth.api_create_user
2025-05-09 10:20:25,067 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_details
2025-05-09 10:20:25,068 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'OPTIONS'} - 终端: auth.api_user_operations
2025-05-09 10:20:25,068 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: auth.get_user_csrf_token
2025-05-09 10:20:25,068 - app - INFO - 路由: /main/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.index
2025-05-09 10:20:25,068 - app - INFO - 路由: /main/dashboard - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.dashboard
2025-05-09 10:20:25,069 - app - INFO - 路由: /main/check_token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.check_token
2025-05-09 10:20:25,069 - app - INFO - 路由: /main/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.projects
2025-05-09 10:20:25,069 - app - INFO - 路由: /main/tasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.tasks
2025-05-09 10:20:25,069 - app - INFO - 路由: /main/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.risks
2025-05-09 10:20:25,070 - app - INFO - 路由: /main/reports - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.reports
2025-05-09 10:20:25,070 - app - INFO - 路由: /main/resources - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.resources
2025-05-09 10:20:25,070 - app - INFO - 路由: /main/profile - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.profile
2025-05-09 10:20:25,071 - app - INFO - 路由: /main/system/status - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.system_status
2025-05-09 10:20:25,072 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.get_dashboard_data
2025-05-09 10:20:25,072 - app - INFO - 路由: /main/test - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.test_route
2025-05-09 10:20:25,072 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.project_detail_redirect
2025-05-09 10:20:25,073 - app - INFO - 路由: /main/users - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.users
2025-05-09 10:20:25,073 - app - INFO - 路由: /main/debug/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.debug_projects
2025-05-09 10:20:25,073 - app - INFO - 路由: /main/simple/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.simple_projects
2025-05-09 10:20:25,073 - app - INFO - 路由: /main/static-test - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.static_test
2025-05-09 10:20:25,074 - app - INFO - 路由: /main/print-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.print_projects
2025-05-09 10:20:25,074 - app - INFO - 路由: /main/bypass-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.bypass_projects
2025-05-09 10:20:25,074 - app - INFO - 路由: /main/debug-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: main.debug_projects_api
2025-05-09 10:20:25,074 - app - INFO - 路由: /projects/list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.project_list
2025-05-09 10:20:25,075 - app - INFO - 路由: /projects/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_projects
2025-05-09 10:20:25,075 - app - INFO - 路由: /projects/ - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project
2025-05-09 10:20:25,075 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project
2025-05-09 10:20:25,075 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:20:25,076 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project
2025-05-09 10:20:25,076 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_members
2025-05-09 10:20:25,076 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: projects.add_project_member
2025-05-09 10:20:25,077 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.remove_project_member
2025-05-09 10:20:25,077 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.detail
2025-05-09 10:20:25,077 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.detail_api
2025-05-09 10:20:25,078 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_api
2025-05-09 10:20:25,078 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:20:25,078 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: projects.delete_project_api
2025-05-09 10:20:25,079 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_projects_api
2025-05-09 10:20:25,079 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_auth_api
2025-05-09 10:20:25,079 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'OPTIONS'} - 终端: projects.get_project_noauth
2025-05-09 10:20:25,080 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project_auth
2025-05-09 10:20:25,080 - app - INFO - 路由: /projects/api/project-managers - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_project_managers
2025-05-09 10:20:25,080 - app - INFO - 路由: /projects/api/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_all_projects_api
2025-05-09 10:20:25,080 - app - INFO - 路由: /projects/api/active-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: projects.get_active_projects_api
2025-05-09 10:20:25,080 - app - INFO - 路由: /list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.project_list
2025-05-09 10:20:25,081 - app - INFO - 路由: / - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_projects
2025-05-09 10:20:25,081 - app - INFO - 路由: / - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project
2025-05-09 10:20:25,081 - app - INFO - 路由: /<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project
2025-05-09 10:20:25,082 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:20:25,082 - app - INFO - 路由: /<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project
2025-05-09 10:20:25,082 - app - INFO - 路由: /<int:project_id>/members - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_members
2025-05-09 10:20:25,082 - app - INFO - 路由: /<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: project_root.add_project_member
2025-05-09 10:20:25,084 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.remove_project_member
2025-05-09 10:20:25,084 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.detail
2025-05-09 10:20:25,084 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.detail_api
2025-05-09 10:20:25,084 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_api
2025-05-09 10:20:25,085 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:20:25,085 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: project_root.delete_project_api
2025-05-09 10:20:25,085 - app - INFO - 路由: /api/auth/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_projects_api
2025-05-09 10:20:25,085 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_auth_api
2025-05-09 10:20:25,086 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'DELETE', 'GET', 'PUT', 'OPTIONS'} - 终端: project_root.get_project_noauth
2025-05-09 10:20:25,086 - app - INFO - 路由: /api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project_auth
2025-05-09 10:20:25,086 - app - INFO - 路由: /api/project-managers - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_project_managers
2025-05-09 10:20:25,086 - app - INFO - 路由: /api/projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_all_projects_api
2025-05-09 10:20:25,087 - app - INFO - 路由: /api/active-projects - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: project_root.get_active_projects_api
2025-05-09 10:20:25,088 - app - INFO - 路由: /tasks/ - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_tasks
2025-05-09 10:20:25,088 - app - INFO - 路由: /tasks/ - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task
2025-05-09 10:20:25,088 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task
2025-05-09 10:20:25,089 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task
2025-05-09 10:20:25,089 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_task
2025-05-09 10:20:25,089 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_comments
2025-05-09 10:20:25,090 - app - INFO - 路由: /tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment
2025-05-09 10:20:25,090 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_attachments
2025-05-09 10:20:25,090 - app - INFO - 路由: /tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment
2025-05-09 10:20:25,090 - app - INFO - 路由: /tasks/<int:task_id>/resources - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_resources
2025-05-09 10:20:25,091 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_subtasks
2025-05-09 10:20:25,091 - app - INFO - 路由: /tasks/<int:task_id>/subtasks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_subtask
2025-05-09 10:20:25,091 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_dependencies
2025-05-09 10:20:25,091 - app - INFO - 路由: /tasks/<int:task_id>/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_dependency
2025-05-09 10:20:25,091 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_logs
2025-05-09 10:20:25,092 - app - INFO - 路由: /tasks/<int:task_id>/logs - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_log
2025-05-09 10:20:25,092 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.gantt_chart
2025-05-09 10:20:25,092 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_gantt_data
2025-05-09 10:20:25,093 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_gantt_task
2025-05-09 10:20:25,093 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_gantt_dependency
2025-05-09 10:20:25,093 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_gantt_dependency
2025-05-09 10:20:25,093 - app - INFO - 路由: /tasks/<int:task_id>/status - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_status
2025-05-09 10:20:25,093 - app - INFO - 路由: /tasks/api/tasks/dependencies - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_dependency
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/<int:task_id>/detail - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_api
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/detail - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_api_auth
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/<int:task_id>/view - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_detail_page
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/<int:task_id>/edit - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.edit_task_page
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_attachment_auth
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.download_attachment_auth
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_attachment
2025-05-09 10:20:25,094 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/download - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.download_attachment
2025-05-09 10:20:25,096 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id> - 方法: {'DELETE', 'OPTIONS'} - 终端: tasks.delete_attachment
2025-05-09 10:20:25,096 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'POST', 'OPTIONS'} - 终端: tasks.upload_new_version
2025-05-09 10:20:25,096 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/attachments/<int:attachment_id>/versions - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_attachment_versions
2025-05-09 10:20:25,096 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_risks_front_path
2025-05-09 10:20:25,098 - app - INFO - 路由: /tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_front_path
2025-05-09 10:20:25,098 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_progress
2025-05-09 10:20:25,098 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress - 方法: {'POST', 'OPTIONS'} - 终端: tasks.update_task_progress
2025-05-09 10:20:25,098 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/progress/approve - 方法: {'POST', 'OPTIONS'} - 终端: tasks.approve_task_progress
2025-05-09 10:20:25,098 - app - INFO - 路由: /tasks/list - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.task_list
2025-05-09 10:20:25,098 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/logs - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_logs_auth
2025-05-09 10:20:25,100 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/subtasks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_subtasks_auth
2025-05-09 10:20:25,100 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_comments_auth
2025-05-09 10:20:25,100 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/attachments - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_attachments_auth
2025-05-09 10:20:25,100 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_task_risks_auth
2025-05-09 10:20:25,100 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/risks - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task_risk_auth
2025-05-09 10:20:25,101 - app - INFO - 路由: /tasks/api/auth/tasks/<int:task_id>/comments - 方法: {'POST', 'OPTIONS'} - 终端: tasks.add_task_comment_auth
2025-05-09 10:20:25,101 - app - INFO - 路由: /tasks/api/tasks/<int:task_id> - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.api_update_task
2025-05-09 10:20:25,101 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/update_bypass - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_bypass_csrf
2025-05-09 10:20:25,102 - app - INFO - 路由: /tasks/get-csrf-token - 方法: {'GET', 'HEAD', 'OPTIONS'} - 终端: tasks.get_csrf_token
2025-05-09 10:20:25,103 - app - INFO - 路由: /tasks/api/tasks/<int:task_id>/no_csrf - 方法: {'PUT', 'OPTIONS'} - 终端: tasks.update_task_no_csrf
2025-05-09 10:20:25,146 - app - WARNING - team_bp 未定义或无法导入
2025-05-09 10:20:25,260 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:20:25,261 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,261 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('manage_users', 1, 0)
2025-05-09 10:20:25,262 - app.utils.permissions - INFO - 更新权限: manage_users
2025-05-09 10:20:25,263 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,263 - sqlalchemy.engine.Engine - INFO - [cached since 0.002508s ago] ('manage_roles', 1, 0)
2025-05-09 10:20:25,264 - app.utils.permissions - INFO - 更新权限: manage_roles
2025-05-09 10:20:25,264 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,264 - sqlalchemy.engine.Engine - INFO - [cached since 0.003562s ago] ('manage_all_projects', 1, 0)
2025-05-09 10:20:25,265 - app.utils.permissions - INFO - 更新权限: manage_all_projects
2025-05-09 10:20:25,265 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.004611s ago] ('manage_project', 1, 0)
2025-05-09 10:20:25,266 - app.utils.permissions - INFO - 更新权限: manage_project
2025-05-09 10:20:25,266 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.005385s ago] ('manage_all_tasks', 1, 0)
2025-05-09 10:20:25,266 - app.utils.permissions - INFO - 更新权限: manage_all_tasks
2025-05-09 10:20:25,267 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,267 - sqlalchemy.engine.Engine - INFO - [cached since 0.006062s ago] ('manage_task', 1, 0)
2025-05-09 10:20:25,267 - app.utils.permissions - INFO - 更新权限: manage_task
2025-05-09 10:20:25,267 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,267 - sqlalchemy.engine.Engine - INFO - [cached since 0.006712s ago] ('view_project', 1, 0)
2025-05-09 10:20:25,268 - app.utils.permissions - INFO - 更新权限: view_project
2025-05-09 10:20:25,268 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,268 - sqlalchemy.engine.Engine - INFO - [cached since 0.007369s ago] ('view_task', 1, 0)
2025-05-09 10:20:25,269 - app.utils.permissions - INFO - 更新权限: view_task
2025-05-09 10:20:25,269 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,270 - sqlalchemy.engine.Engine - INFO - [cached since 0.008987s ago] ('manage_resources', 1, 0)
2025-05-09 10:20:25,270 - app.utils.permissions - INFO - 更新权限: manage_resources
2025-05-09 10:20:25,270 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,271 - sqlalchemy.engine.Engine - INFO - [cached since 0.01013s ago] ('manage_risks', 1, 0)
2025-05-09 10:20:25,271 - app.utils.permissions - INFO - 更新权限: manage_risks
2025-05-09 10:20:25,271 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.01116s ago] ('view_reports', 1, 0)
2025-05-09 10:20:25,273 - app.utils.permissions - INFO - 更新权限: view_reports
2025-05-09 10:20:25,273 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.01187s ago] ('create_task', 1, 0)
2025-05-09 10:20:25,273 - app.utils.permissions - INFO - 更新权限: create_task
2025-05-09 10:20:25,274 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,274 - sqlalchemy.engine.Engine - INFO - [cached since 0.01253s ago] ('create_project', 1, 0)
2025-05-09 10:20:25,274 - app.utils.permissions - INFO - 更新权限: create_project
2025-05-09 10:20:25,274 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,275 - sqlalchemy.engine.Engine - INFO - [cached since 0.01329s ago] ('assign_task', 1, 0)
2025-05-09 10:20:25,275 - app.utils.permissions - INFO - 更新权限: assign_task
2025-05-09 10:20:25,275 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,276 - sqlalchemy.engine.Engine - INFO - [cached since 0.01422s ago] ('change_project_status', 1, 0)
2025-05-09 10:20:25,276 - app.utils.permissions - INFO - 更新权限: change_project_status
2025-05-09 10:20:25,276 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions 
WHERE permissions.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,277 - sqlalchemy.engine.Engine - INFO - [cached since 0.0152s ago] ('change_task_status', 1, 0)
2025-05-09 10:20:25,277 - app.utils.permissions - INFO - 更新权限: change_task_status
2025-05-09 10:20:25,277 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:20:25,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:20:25,278 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions
2025-05-09 10:20:25,278 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
2025-05-09 10:20:25,278 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('admin', 1, 0)
2025-05-09 10:20:25,279 - app.utils.permissions - INFO - 更新角色: admin
2025-05-09 10:20:25,281 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:20:25,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (1,)
2025-05-09 10:20:25,283 - app.utils.permissions - INFO - 为管理员角色添加所有权限: 16个
2025-05-09 10:20:25,284 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,284 - sqlalchemy.engine.Engine - INFO - [cached since 0.004878s ago] ('manager', 1, 0)
2025-05-09 10:20:25,284 - app.utils.permissions - INFO - 更新角色: manager
2025-05-09 10:20:25,285 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:20:25,285 - sqlalchemy.engine.Engine - INFO - [cached since 0.003508s ago] (2,)
2025-05-09 10:20:25,285 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_project
2025-05-09 10:20:25,286 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_task
2025-05-09 10:20:25,286 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_project
2025-05-09 10:20:25,286 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_task
2025-05-09 10:20:25,286 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_resources
2025-05-09 10:20:25,287 - app.utils.permissions - INFO - 为角色 manager 添加权限: manage_risks
2025-05-09 10:20:25,287 - app.utils.permissions - INFO - 为角色 manager 添加权限: view_reports
2025-05-09 10:20:25,287 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_project
2025-05-09 10:20:25,287 - app.utils.permissions - INFO - 为角色 manager 添加权限: create_task
2025-05-09 10:20:25,289 - app.utils.permissions - INFO - 为角色 manager 添加权限: assign_task
2025-05-09 10:20:25,289 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_project_status
2025-05-09 10:20:25,289 - app.utils.permissions - INFO - 为角色 manager 添加权限: change_task_status
2025-05-09 10:20:25,290 - sqlalchemy.engine.Engine - INFO - SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at 
FROM roles 
WHERE roles.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,290 - sqlalchemy.engine.Engine - INFO - [cached since 0.01076s ago] ('user', 1, 0)
2025-05-09 10:20:25,290 - app.utils.permissions - INFO - 更新角色: user
2025-05-09 10:20:25,291 - sqlalchemy.engine.Engine - INFO - SELECT permissions.id AS permissions_id, permissions.name AS permissions_name, permissions.description AS permissions_description, permissions.created_at AS permissions_created_at 
FROM permissions, role_permissions 
WHERE ? = role_permissions.role_id AND permissions.id = role_permissions.permission_id
2025-05-09 10:20:25,291 - sqlalchemy.engine.Engine - INFO - [cached since 0.008883s ago] (5,)
2025-05-09 10:20:25,291 - app.utils.permissions - INFO - 为角色 user 添加权限: view_project
2025-05-09 10:20:25,291 - app.utils.permissions - INFO - 为角色 user 添加权限: view_task
2025-05-09 10:20:25,292 - app.utils.permissions - INFO - 为角色 user 添加权限: view_reports
2025-05-09 10:20:25,292 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:20:25,292 - app.utils.permissions - INFO - 角色和权限初始化完成
2025-05-09 10:20:25,292 - __main__ - INFO - 角色和权限初始化成功
2025-05-09 10:20:25,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:20:25,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,294 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('system', 1, 0)
2025-05-09 10:20:25,295 - sqlalchemy.engine.Engine - INFO - SELECT projects.id AS projects_id, projects.name AS projects_name, projects.description AS projects_description, projects.status AS projects_status, projects.start_date AS projects_start_date, projects.end_date AS projects_end_date, projects.progress AS projects_progress, projects.created_at AS projects_created_at, projects.updated_at AS projects_updated_at, projects.manager_id AS projects_manager_id, projects.owner_id AS projects_owner_id 
FROM projects 
WHERE projects.name = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,296 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('Test Project', 1, 0)
2025-05-09 10:20:25,296 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:20:25,297 - __main__ - INFO - 数据库初始化完成
2025-05-09 10:20:25,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:20:25,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.name AS users_name, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-05-09 10:20:25,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.00429s ago] ('system', 1, 0)
2025-05-09 10:20:25,305 - sqlalchemy.engine.Engine - INFO - INSERT INTO resource_usages (user_id, cpu_usage, memory_usage, disk_usage, network_usage, recorded_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-09 10:20:25,305 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (2, 17.1, 50.3, 10.9, 0.0, '2025-05-09 02:20:25.303185')
2025-05-09 10:20:25,309 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:20:25,313 - __main__ - INFO - 系统资源检查完成
2025-05-09 10:20:25,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-09 10:20:25,315 - sqlalchemy.engine.Engine - INFO - DELETE FROM resource_usages WHERE resource_usages.recorded_at < ?
2025-05-09 10:20:25,315 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('2025-04-09 02:20:25.314421',)
2025-05-09 10:20:25,317 - sqlalchemy.engine.Engine - INFO - DELETE FROM system_alerts WHERE system_alerts.is_resolved = 1 AND system_alerts.created_at < ?
2025-05-09 10:20:25,317 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('2025-05-02 02:20:25.316449',)
2025-05-09 10:20:25,317 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-09 10:20:25,318 - __main__ - INFO - 旧数据清理完成
2025-05-09 10:20:25,330 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.75:5000
2025-05-09 10:20:25,330 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 10:20:25,330 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:20:25,911 - app - INFO - File logging handler initialized successfully
2025-05-09 10:20:25,911 - app - INFO - Console logging handler initialized successfully
2025-05-09 10:20:25,911 - app - INFO - Application logging configuration completed
2025-05-09 10:20:25,911 - app - INFO - Development configuration initialized
2025-05-09 10:20:25,941 - app - INFO - Logging setup completed successfully
2025-05-09 10:20:26,194 - app - INFO - 已注册的路由:
2025-05-09 10:20:26,194 - app - INFO - 路由: /static/<path:filename> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: static
2025-05-09 10:20:26,194 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'POST', 'OPTIONS'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:20:26,195 - app - INFO - 路由: /api/users - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'POST', 'OPTIONS'} - 终端: user_api_exempt.user_api_exempt_route
2025-05-09 10:20:26,195 - app - INFO - 路由: /tasks/<int:task_id>/dependencies/<int:dependency_id>/gantt - 方法: {'OPTIONS', 'DELETE'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,195 - app - INFO - 路由: /tasks/<int:task_id>/gantt - 方法: {'PUT', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,195 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,195 - app - INFO - 路由: /tasks/project/<int:project_id>/gantt/data - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,195 - app - INFO - 路由: /api/tasks/<int:task_id>/no_csrf - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,196 - app - INFO - 路由: /api/tasks/<int:task_id> - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,196 - app - INFO - 路由: /tasks/dependencies/gantt - 方法: {'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,196 - app - INFO - 路由: /api/tasks - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'POST', 'OPTIONS'} - 终端: task_api_exempt.task_api_exempt_route
2025-05-09 10:20:26,196 - app - INFO - 路由: /login - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.login_page
2025-05-09 10:20:26,197 - app - INFO - 路由: /login - 方法: {'POST', 'OPTIONS'} - 终端: auth.login
2025-05-09 10:20:26,197 - app - INFO - 路由: /register - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.register_page
2025-05-09 10:20:26,197 - app - INFO - 路由: /register - 方法: {'POST', 'OPTIONS'} - 终端: auth.register
2025-05-09 10:20:26,197 - app - INFO - 路由: /logout - 方法: {'HEAD', 'GET', 'POST', 'OPTIONS'} - 终端: auth.logout
2025-05-09 10:20:26,197 - app - INFO - 路由: /refresh - 方法: {'POST', 'OPTIONS'} - 终端: auth.refresh
2025-05-09 10:20:26,198 - app - INFO - 路由: /profile - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.profile
2025-05-09 10:20:26,198 - app - INFO - 路由: /profile - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_profile
2025-05-09 10:20:26,198 - app - INFO - 路由: /users - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_users
2025-05-09 10:20:26,198 - app - INFO - 路由: /users/<int:user_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_by_id
2025-05-09 10:20:26,198 - app - INFO - 路由: /update_user/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user
2025-05-09 10:20:26,199 - app - INFO - 路由: /roles - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_roles
2025-05-09 10:20:26,199 - app - INFO - 路由: /permissions - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_permissions
2025-05-09 10:20:26,199 - app - INFO - 路由: /permissions - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_permission
2025-05-09 10:20:26,199 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_permission
2025-05-09 10:20:26,200 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_permission
2025-05-09 10:20:26,200 - app - INFO - 路由: /permissions/<int:permission_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_permission
2025-05-09 10:20:26,200 - app - INFO - 路由: /roles - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_role
2025-05-09 10:20:26,201 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_role
2025-05-09 10:20:26,201 - app - INFO - 路由: /roles/<int:role_id>/permissions - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_role_permissions
2025-05-09 10:20:26,202 - app - INFO - 路由: /roles/<int:role_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_role
2025-05-09 10:20:26,202 - app - INFO - 路由: /dashboard - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.dashboard
2025-05-09 10:20:26,202 - app - INFO - 路由: /dashboard/redirect - 方法: {'HEAD', 'GET', 'POST', 'OPTIONS'} - 终端: auth.dashboard_redirect
2025-05-09 10:20:26,202 - app - INFO - 路由: /create_test_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_user
2025-05-09 10:20:26,203 - app - INFO - 路由: /check - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.check_auth
2025-05-09 10:20:26,203 - app - INFO - 路由: /create_test_project - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_test_project
2025-05-09 10:20:26,203 - app - INFO - 路由: /logout_all - 方法: {'POST', 'OPTIONS'} - 终端: auth.logout_all
2025-05-09 10:20:26,203 - app - INFO - 路由: /dashboard/data - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.dashboard_data
2025-05-09 10:20:26,203 - app - INFO - 路由: /check_token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.check_token
2025-05-09 10:20:26,204 - app - INFO - 路由: /create_user - 方法: {'POST', 'OPTIONS'} - 终端: auth.create_user
2025-05-09 10:20:26,204 - app - INFO - 路由: /user_info - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_info
2025-05-09 10:20:26,204 - app - INFO - 路由: /user/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.delete_user
2025-05-09 10:20:26,204 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_roles
2025-05-09 10:20:26,204 - app - INFO - 路由: /users/<int:user_id>/roles - 方法: {'PUT', 'OPTIONS'} - 终端: auth.update_user_roles
2025-05-09 10:20:26,206 - app - INFO - 路由: /users/<int:user_id>/notifications - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_notifications
2025-05-09 10:20:26,206 - app - INFO - 路由: /notifications/<int:notification_id>/read - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_notification_as_read
2025-05-09 10:20:26,206 - app - INFO - 路由: /notifications/read_all - 方法: {'PUT', 'OPTIONS'} - 终端: auth.mark_all_notifications_as_read
2025-05-09 10:20:26,206 - app - INFO - 路由: /change-password - 方法: {'POST', 'OPTIONS'} - 终端: auth.change_password
2025-05-09 10:20:26,207 - app - INFO - 路由: /reset-password - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.reset_password_page
2025-05-09 10:20:26,207 - app - INFO - 路由: /verify-email/confirm - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.verify_email_confirm_page
2025-05-09 10:20:26,207 - app - INFO - 路由: /auth/csrf-token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_csrf_token
2025-05-09 10:20:26,208 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'PUT', 'OPTIONS'} - 终端: auth.api_update_user
2025-05-09 10:20:26,208 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: auth.api_delete_user
2025-05-09 10:20:26,208 - app - INFO - 路由: /api/users - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.api_get_users
2025-05-09 10:20:26,208 - app - INFO - 路由: /api/users - 方法: {'POST', 'OPTIONS'} - 终端: auth.api_create_user
2025-05-09 10:20:26,208 - app - INFO - 路由: /auth/users/<int:user_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_details
2025-05-09 10:20:26,209 - app - INFO - 路由: /api/users/<int:user_id> - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'OPTIONS'} - 终端: auth.api_user_operations
2025-05-09 10:20:26,209 - app - INFO - 路由: /auth/user-csrf-token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: auth.get_user_csrf_token
2025-05-09 10:20:26,209 - app - INFO - 路由: /main/ - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.index
2025-05-09 10:20:26,209 - app - INFO - 路由: /main/dashboard - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.dashboard
2025-05-09 10:20:26,209 - app - INFO - 路由: /main/check_token - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.check_token
2025-05-09 10:20:26,211 - app - INFO - 路由: /main/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.projects
2025-05-09 10:20:26,211 - app - INFO - 路由: /main/tasks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.tasks
2025-05-09 10:20:26,211 - app - INFO - 路由: /main/risks - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.risks
2025-05-09 10:20:26,211 - app - INFO - 路由: /main/reports - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.reports
2025-05-09 10:20:26,211 - app - INFO - 路由: /main/resources - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.resources
2025-05-09 10:20:26,212 - app - INFO - 路由: /main/profile - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.profile
2025-05-09 10:20:26,212 - app - INFO - 路由: /main/system/status - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.system_status
2025-05-09 10:20:26,212 - app - INFO - 路由: /main/api/dashboard/data - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.get_dashboard_data
2025-05-09 10:20:26,212 - app - INFO - 路由: /main/test - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.test_route
2025-05-09 10:20:26,212 - app - INFO - 路由: /main/projects/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.project_detail_redirect
2025-05-09 10:20:26,212 - app - INFO - 路由: /main/users - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.users
2025-05-09 10:20:26,213 - app - INFO - 路由: /main/debug/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.debug_projects
2025-05-09 10:20:26,213 - app - INFO - 路由: /main/simple/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.simple_projects
2025-05-09 10:20:26,213 - app - INFO - 路由: /main/static-test - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.static_test
2025-05-09 10:20:26,213 - app - INFO - 路由: /main/print-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.print_projects
2025-05-09 10:20:26,214 - app - INFO - 路由: /main/bypass-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.bypass_projects
2025-05-09 10:20:26,214 - app - INFO - 路由: /main/debug-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: main.debug_projects_api
2025-05-09 10:20:26,214 - app - INFO - 路由: /projects/list - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.project_list
2025-05-09 10:20:26,215 - app - INFO - 路由: /projects/ - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_projects
2025-05-09 10:20:26,215 - app - INFO - 路由: /projects/ - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project
2025-05-09 10:20:26,216 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project
2025-05-09 10:20:26,216 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project
2025-05-09 10:20:26,216 - app - INFO - 路由: /projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project
2025-05-09 10:20:26,216 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_members
2025-05-09 10:20:26,217 - app - INFO - 路由: /projects/<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: projects.add_project_member
2025-05-09 10:20:26,217 - app - INFO - 路由: /projects/<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.remove_project_member
2025-05-09 10:20:26,217 - app - INFO - 路由: /projects/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.detail
2025-05-09 10:20:26,217 - app - INFO - 路由: /projects/api/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.detail_api
2025-05-09 10:20:26,218 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_api
2025-05-09 10:20:26,218 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: projects.update_project_api
2025-05-09 10:20:26,218 - app - INFO - 路由: /projects/api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: projects.delete_project_api
2025-05-09 10:20:26,218 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_projects_api
2025-05-09 10:20:26,218 - app - INFO - 路由: /projects/api/auth/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_auth_api
2025-05-09 10:20:26,219 - app - INFO - 路由: /projects/api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'OPTIONS'} - 终端: projects.get_project_noauth
2025-05-09 10:20:26,219 - app - INFO - 路由: /projects/api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: projects.create_project_auth
2025-05-09 10:20:26,219 - app - INFO - 路由: /projects/api/project-managers - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_project_managers
2025-05-09 10:20:26,220 - app - INFO - 路由: /projects/api/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_all_projects_api
2025-05-09 10:20:26,220 - app - INFO - 路由: /projects/api/active-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: projects.get_active_projects_api
2025-05-09 10:20:26,220 - app - INFO - 路由: /list - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.project_list
2025-05-09 10:20:26,220 - app - INFO - 路由: / - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_projects
2025-05-09 10:20:26,220 - app - INFO - 路由: / - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project
2025-05-09 10:20:26,220 - app - INFO - 路由: /<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project
2025-05-09 10:20:26,221 - app - INFO - 路由: /<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project
2025-05-09 10:20:26,221 - app - INFO - 路由: /<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project
2025-05-09 10:20:26,221 - app - INFO - 路由: /<int:project_id>/members - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_members
2025-05-09 10:20:26,221 - app - INFO - 路由: /<int:project_id>/members - 方法: {'POST', 'OPTIONS'} - 终端: project_root.add_project_member
2025-05-09 10:20:26,221 - app - INFO - 路由: /<int:project_id>/members/<int:user_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.remove_project_member
2025-05-09 10:20:26,222 - app - INFO - 路由: /detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.detail
2025-05-09 10:20:26,222 - app - INFO - 路由: /api/detail/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.detail_api
2025-05-09 10:20:26,222 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_api
2025-05-09 10:20:26,222 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'PUT', 'OPTIONS'} - 终端: project_root.update_project_api
2025-05-09 10:20:26,224 - app - INFO - 路由: /api/projects/<int:project_id> - 方法: {'OPTIONS', 'DELETE'} - 终端: project_root.delete_project_api
2025-05-09 10:20:26,224 - app - INFO - 路由: /api/auth/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_projects_api
2025-05-09 10:20:26,224 - app - INFO - 路由: /api/auth/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_auth_api
2025-05-09 10:20:26,224 - app - INFO - 路由: /api/noauth/projects/<int:project_id> - 方法: {'HEAD', 'GET', 'DELETE', 'PUT', 'OPTIONS'} - 终端: project_root.get_project_noauth
2025-05-09 10:20:26,224 - app - INFO - 路由: /api/auth/projects - 方法: {'POST', 'OPTIONS'} - 终端: project_root.create_project_auth
2025-05-09 10:20:26,225 - app - INFO - 路由: /api/project-managers - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_project_managers
2025-05-09 10:20:26,225 - app - INFO - 路由: /api/projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_all_projects_api
2025-05-09 10:20:26,225 - app - INFO - 路由: /api/active-projects - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: project_root.get_active_projects_api
2025-05-09 10:20:26,226 - app - INFO - 路由: /tasks/ - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_tasks
2025-05-09 10:20:26,226 - app - INFO - 路由: /tasks/ - 方法: {'POST', 'OPTIONS'} - 终端: tasks.create_task
2025-05-09 10:20:26,226 - app - INFO - 路由: /tasks/<int:task_id> - 方法: {'HEAD', 'GET', 'OPTIONS'} - 终端: tasks.get_task
2025-05-09 10:20:26,330 - app - WARNING - team_bp 未定义或无法导入
